<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Admin Dashboard | BitHash LLC - Institutional Bitcoin Mining</title>
    <meta name="description" content="BitHash LLC Admin Dashboard for managing institutional-grade Bitcoin mining operations.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rowdies:wght@300;400;700&family=Inter:wght@300;400;500;600;700&family=Manrope:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" type="image/png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">
    
    <!-- Chart.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.css">
    
    <!-- Select2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css">
    
    <!-- Toastr -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        :root {
            --primary: #00D395;
            --primary-dark: #00B783;
            --primary-light: #00E5A1;
            --secondary: #1E1E1E;
            --secondary-dark: #121212;
            --dark: #E5E5E5;
            --darker: #0A0A0A;
            --light: #121212;
            --lighter: #1E1E1E;
            --gray: #8E8E8E;
            --gray-light: #2E2E2E;
            --gray-lighter: #252525;
            --success: #00D395;
            --warning: #FFB800;
            --error: #FF3D57;
            --gold: #D4AF37;
            --gold-light: #FFD700;
            --gold-dark: #996515;
            --blue: #003366;
            --blue-dark: #002244;
            --blue-light: #004488;
            --purple: #784FED;
            --pink: #EC4899;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --gold-gradient: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
            --blue-gradient: linear-gradient(135deg, var(--blue) 0%, var(--blue-dark) 100%);
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --visa-blue: #1A1F71;
            --visa-gold: #F7B600;
            --security-blue: #1A73E8;
            --security-green: #34A853;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--secondary-dark);
            color: var(--dark);
            overflow-x: hidden;
        }

        .admin-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .admin-sidebar {
            width: 280px;
            background-color: var(--secondary);
            border-right: 1px solid var(--gray-light);
            transition: var(--transition);
            position: fixed;
            height: 100vh;
            z-index: 1000;
        }

        .sidebar-collapsed .admin-sidebar {
            width: 80px;
        }

        .sidebar-collapsed .admin-main {
            margin-left: 80px;
        }

        .admin-logo {
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid var(--gray-light);
        }

        .admin-logo img {
            height: 40px;
        }

        .admin-logo span {
            margin-left: 10px;
            font-size: 20px;
            font-weight: 700;
            font-family: 'Rowdies', sans-serif;
            color: var(--primary);
        }

        .sidebar-collapsed .admin-logo span {
            display: none;
        }

        .admin-menu {
            padding: 20px 0;
        }

        .menu-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }

        .menu-item:hover {
            background-color: var(--gray-lighter);
            border-left: 3px solid var(--primary);
        }

        .menu-item.active {
            background-color: var(--gray-lighter);
            border-left: 3px solid var(--primary);
        }

        .menu-item i {
            font-size: 18px;
            margin-right: 12px;
            color: var(--gray);
        }

        .menu-item.active i,
        .menu-item:hover i {
            color: var(--primary);
        }

        .menu-item span {
            font-size: 14px;
            font-weight: 500;
        }

        .sidebar-collapsed .menu-item span {
            display: none;
        }

        .menu-dropdown {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .menu-dropdown.show {
            max-height: 500px;
        }

        .dropdown-item {
            padding: 10px 20px 10px 50px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 13px;
        }

        .dropdown-item:hover {
            background-color: var(--gray-lighter);
            color: var(--primary);
        }

        .dropdown-item.active {
            color: var(--primary);
        }

        .sidebar-collapsed .menu-dropdown {
            display: none;
        }

        /* Main Content Styles */
        .admin-main {
            flex: 1;
            margin-left: 280px;
            transition: var(--transition);
        }

        .admin-header {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--secondary);
            border-bottom: 1px solid var(--gray-light);
            position: sticky;
            top: 0;
            z-index: 999;
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .toggle-sidebar {
            font-size: 20px;
            cursor: pointer;
            margin-right: 20px;
            color: var(--gray);
            transition: var(--transition);
        }

        .toggle-sidebar:hover {
            color: var(--primary);
        }

        .header-title {
            font-size: 18px;
            font-weight: 600;
        }

        .header-right {
            display: flex;
            align-items: center;
        }

        .header-icon {
            font-size: 18px;
            margin-left: 20px;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
            position: relative;
        }

        .header-icon:hover {
            color: var(--primary);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--error);
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-profile {
            display: flex;
            align-items: center;
            margin-left: 20px;
            cursor: pointer;
            position: relative;
        }

        .profile-img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
        }

        .profile-name {
            font-size: 14px;
            font-weight: 500;
        }

        .profile-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            background-color: var(--secondary);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            width: 200px;
            box-shadow: var(--box-shadow-lg);
            z-index: 1000;
            display: none;
        }

        .profile-dropdown.show {
            display: block;
        }

        .dropdown-item {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            transition: var(--transition);
        }

        .dropdown-item i {
            margin-right: 10px;
            font-size: 14px;
        }

        .dropdown-item:hover {
            background-color: var(--gray-lighter);
            color: var(--primary);
        }

        .divider {
            height: 1px;
            background-color: var(--gray-light);
            margin: 5px 0;
        }

        .admin-content {
            padding: 25px;
        }

        /* Dashboard Cards */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: var(--secondary);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-lg);
        }

        .stat-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .stat-icon.users {
            background-color: rgba(0, 211, 149, 0.1);
            color: var(--primary);
        }

        .stat-icon.deposits {
            background-color: rgba(212, 175, 55, 0.1);
            color: var(--gold);
        }

        .stat-icon.withdrawals {
            background-color: rgba(120, 79, 237, 0.1);
            color: var(--purple);
        }

        .stat-icon.profit {
            background-color: rgba(236, 72, 153, 0.1);
            color: var(--pink);
        }

        .stat-card-title {
            font-size: 14px;
            color: var(--gray);
            font-weight: 500;
        }

        .stat-card-value {
            font-size: 24px;
            font-weight: 700;
            margin: 5px 0;
        }

        .stat-card-change {
            font-size: 12px;
            display: flex;
            align-items: center;
        }

        .change-up {
            color: var(--success);
        }

        .change-down {
            color: var(--error);
        }

        /* Data Tables */
        .data-table-container {
            background-color: var(--secondary);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .table-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
        }

        .table-actions {
            display: flex;
            align-items: center;
        }

        .table-btn {
            padding: 8px 15px;
            border-radius: var(--border-radius);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 10px;
            border: none;
            display: flex;
            align-items: center;
        }

        .table-btn i {
            margin-right: 5px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--gray-light);
            color: var(--dark);
        }

        .btn-secondary:hover {
            background-color: var(--gray);
        }

        .btn-danger {
            background-color: var(--error);
            color: white;
        }

        .btn-danger:hover {
            background-color: #e2334d;
        }

        /* Form Styles */
        .form-container {
            background-color: var(--secondary);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
        }

        .form-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray-light);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--gray);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--lighter);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            color: var(--dark);
            font-size: 14px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0, 211, 149, 0.2);
        }

        .form-select {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--lighter);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            color: var(--dark);
            font-size: 14px;
            transition: var(--transition);
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%238E8E8E' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 16px;
        }

        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0, 211, 149, 0.2);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-col {
            flex: 1;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            background-color: var(--secondary);
            border-radius: var(--border-radius-lg);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--box-shadow-lg);
            transform: translateY(20px);
            transition: var(--transition-slow);
        }

        .modal-overlay.show .modal-container {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--gray-light);
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
        }

        .modal-close {
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--error);
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 10px;
            border-top: 1px solid var(--gray-light);
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--gray-light);
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--gray);
            position: relative;
        }

        .tab.active {
            color: var(--primary);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Login Page */
        .login-container {
            display: flex;
            min-height: 100vh;
            background-color: var(--secondary-dark);
        }

        .login-left {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px;
            background: linear-gradient(135deg, rgba(0, 211, 149, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%), url('https://images.unsplash.com/photo-1639762681057-408e52192e55?q=80&w=2232&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }

        .login-left-content {
            max-width: 500px;
        }

        .login-logo {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }

        .login-logo img {
            height: 50px;
        }

        .login-logo span {
            margin-left: 15px;
            font-size: 28px;
            font-weight: 700;
            font-family: 'Rowdies', sans-serif;
            color: var(--primary);
        }

        .login-title {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.3;
        }

        .login-subtitle {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .login-features {
            margin-top: 40px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .feature-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(0, 211, 149, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary);
            font-size: 18px;
        }

        .feature-text {
            font-size: 14px;
            color: var(--gray);
        }

        .login-right {
            width: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px;
            background-color: var(--secondary);
        }

        .login-form-container {
            width: 100%;
            max-width: 400px;
        }

        .login-form-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .login-form-subtitle {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 30px;
        }

        .login-form .form-group {
            margin-bottom: 20px;
        }

        .login-form .form-label {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
        }

        .login-form .form-control {
            background-color: var(--lighter);
            border: 1px solid var(--gray-light);
            padding: 12px 15px;
        }

        .form-extra {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .form-check {
            display: flex;
            align-items: center;
        }

        .form-check-input {
            margin-right: 8px;
            accent-color: var(--primary);
        }

        .form-check-label {
            font-size: 13px;
            color: var(--gray);
        }

        .form-link {
            font-size: 13px;
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }

        .form-link:hover {
            text-decoration: underline;
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 20px;
        }

        .login-btn:hover {
            background-color: var(--primary-dark);
        }

        .login-divider {
            display: flex;
            align-items: center;
            margin: 25px 0;
        }

        .divider-line {
            flex: 1;
            height: 1px;
            background-color: var(--gray-light);
        }

        .divider-text {
            padding: 0 15px;
            font-size: 13px;
            color: var(--gray);
        }

        .social-login {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .social-btn {
            flex: 1;
            padding: 12px;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--lighter);
            color: var(--dark);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--gray-light);
        }

        .social-btn i {
            margin-right: 8px;
            font-size: 16px;
        }

        .social-btn.google {
            color: #DB4437;
        }

        .social-btn.apple {
            color: #000000;
        }

        .social-btn:hover {
            background-color: var(--gray-lighter);
        }

        .login-footer {
            text-align: center;
            font-size: 13px;
            color: var(--gray);
        }

        .login-footer a {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }

        .login-footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .admin-sidebar {
                width: 80px;
            }
            
            .admin-main {
                margin-left: 80px;
            }
            
            .menu-item span {
                display: none;
            }
            
            .admin-logo span {
                display: none;
            }
            
            .menu-dropdown {
                display: none;
            }
        }

        @media (max-width: 992px) {
            .login-container {
                flex-direction: column;
            }
            
            .login-left {
                display: none;
            }
            
            .login-right {
                width: 100%;
                padding: 40px 20px;
            }
        }

        @media (max-width: 768px) {
            .stats-cards {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .table-actions {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .table-btn {
                margin-left: 0;
                margin-top: 10px;
            }
        }

        @media (max-width: 576px) {
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .admin-content {
                padding: 15px;
            }
            
            .modal-container {
                width: 95%;
            }
        }

        /* Custom DataTables */
        .dataTables_wrapper {
            margin-top: 20px;
        }

        .dataTables_filter input {
            background-color: var(--lighter) !important;
            border: 1px solid var(--gray-light) !important;
            color: var(--dark) !important;
            padding: 5px 10px !important;
            border-radius: var(--border-radius) !important;
        }

        .dataTables_length select {
            background-color: var(--lighter) !important;
            border: 1px solid var(--gray-light) !important;
            color: var(--dark) !important;
            padding: 5px 10px !important;
            border-radius: var(--border-radius) !important;
        }

        .dataTables_info {
            color: var(--gray) !important;
        }

        .dataTables_paginate .paginate_button {
            color: var(--dark) !important;
            border: 1px solid var(--gray-light) !important;
            background-color: var(--lighter) !important;
            margin-left: 5px !important;
            border-radius: var(--border-radius) !important;
        }

        .dataTables_paginate .paginate_button:hover {
            background-color: var(--gray-lighter) !important;
            color: var(--primary) !important;
        }

        .dataTables_paginate .paginate_button.current {
            background-color: var(--primary) !important;
            color: white !important;
            border-color: var(--primary) !important;
        }

        table.dataTable {
            border-collapse: collapse !important;
            margin-top: 10px !important;
        }

        table.dataTable thead th {
            background-color: var(--gray-lighter) !important;
            color: var(--dark) !important;
            border-bottom: 1px solid var(--gray-light) !important;
            padding: 12px 15px !important;
            font-weight: 600 !important;
        }

        table.dataTable tbody td {
            padding: 12px 15px !important;
            border-bottom: 1px solid var(--gray-light) !important;
            color: var(--gray) !important;
        }

        table.dataTable tbody tr:hover td {
            background-color: var(--gray-lighter) !important;
            color: var(--dark) !important;
        }

        /* Custom Select2 */
        .select2-container--default .select2-selection--single {
            background-color: var(--lighter) !important;
            border: 1px solid var(--gray-light) !important;
            height: 42px !important;
            border-radius: var(--border-radius) !important;
        }

        .select2-container--default .select2-selection--single .select2-selection__rendered {
            color: var(--dark) !important;
            line-height: 42px !important;
        }

        .select2-container--default .select2-selection--single .select2-selection__arrow {
            height: 40px !important;
        }

        .select2-dropdown {
            background-color: var(--lighter) !important;
            border: 1px solid var(--gray-light) !important;
        }

        .select2-container--default .select2-results__option--selected {
            background-color: var(--gray-lighter) !important;
            color: var(--primary) !important;
        }

        .select2-container--default .select2-results__option--highlighted.select2-results__option--selectable {
            background-color: var(--gray-lighter) !important;
            color: var(--primary) !important;
        }

        /* Custom Toastr */
        .toast {
            background-color: var(--secondary) !important;
            border: 1px solid var(--gray-light) !important;
            color: var(--dark) !important;
            box-shadow: var(--box-shadow-lg) !important;
        }

        .toast-success {
            border-left: 4px solid var(--success) !important;
        }

        .toast-error {
            border-left: 4px solid var(--error) !important;
        }

        .toast-warning {
            border-left: 4px solid var(--warning) !important;
        }

        .toast-info {
            border-left: 4px solid var(--security-blue) !important;
        }

        /* Status Badges */
        .badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .badge-success {
            background-color: rgba(0, 211, 149, 0.1);
            color: var(--success);
        }

        .badge-warning {
            background-color: rgba(255, 184, 0, 0.1);
            color: var(--warning);
        }

        .badge-danger {
            background-color: rgba(255, 61, 87, 0.1);
            color: var(--error);
        }

        .badge-info {
            background-color: rgba(26, 115, 232, 0.1);
            color: var(--security-blue);
        }

        .badge-primary {
            background-color: rgba(0, 211, 149, 0.1);
            color: var(--primary);
        }

        /* Action Buttons */
        .action-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            background-color: transparent;
            color: var(--gray);
        }

        .action-btn:hover {
            background-color: var(--gray-lighter);
        }

        .action-btn.edit {
            color: var(--warning);
        }

        .action-btn.delete {
            color: var(--error);
        }

        .action-btn.view {
            color: var(--security-blue);
        }

        .action-btn.verify {
            color: var(--success);
        }

        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--gray-light);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* Chart Container */
        .chart-container {
            background-color: var(--secondary);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .chart-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 18px;
            font-weight: 600;
        }

        .chart-actions {
            display: flex;
            align-items: center;
        }

        .chart-period {
            display: flex;
            gap: 10px;
        }

        .period-btn {
            padding: 6px 12px;
            border-radius: var(--border-radius);
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            background-color: transparent;
            border: 1px solid var(--gray-light);
            color: var(--gray);
        }

        .period-btn.active {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .chart-wrapper {
            height: 300px;
            position: relative;
        }

        /* Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            background-color: var(--secondary);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-lg);
            z-index: 1000;
            display: none;
        }

        .chat-widget.show {
            display: block;
        }

        .chat-header {
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--primary);
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
            color: white;
        }

        .chat-title {
            font-size: 16px;
            font-weight: 600;
        }

        .chat-close {
            font-size: 18px;
            cursor: pointer;
        }

        .chat-body {
            height: 300px;
            overflow-y: auto;
            padding: 15px;
            background-color: var(--secondary);
        }

        .chat-message {
            margin-bottom: 15px;
        }

        .message-header {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }

        .message-user {
            font-size: 13px;
            font-weight: 600;
            margin-right: 10px;
        }

        .message-time {
            font-size: 11px;
            color: var(--gray);
        }

        .message-content {
            padding: 10px 15px;
            border-radius: var(--border-radius);
            font-size: 14px;
            line-height: 1.5;
            max-width: 80%;
        }

        .message-in {
            background-color: var(--gray-lighter);
            color: var(--dark);
            border-top-left-radius: 0;
        }

        .message-out {
            background-color: var(--primary);
            color: white;
            border-top-right-radius: 0;
            margin-left: auto;
        }

        .chat-footer {
            padding: 15px;
            background-color: var(--gray-lighter);
            border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg);
        }

        .chat-input {
            display: flex;
            align-items: center;
        }

        .chat-input input {
            flex: 1;
            padding: 10px 15px;
            background-color: var(--lighter);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            color: var(--dark);
            font-size: 14px;
        }

        .chat-send {
            margin-left: 10px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: none;
            transition: var(--transition);
        }

        .chat-send:hover {
            background-color: var(--primary-dark);
        }

        /* Notification Center */
        .notification-center {
            position: fixed;
            top: 70px;
            right: 20px;
            width: 350px;
            background-color: var(--secondary);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-lg);
            z-index: 1000;
            display: none;
        }

        .notification-center.show {
            display: block;
        }

        .notification-header {
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--gray-light);
        }

        .notification-title {
            font-size: 16px;
            font-weight: 600;
        }

        .notification-close {
            font-size: 18px;
            cursor: pointer;
            color: var(--gray);
        }

        .notification-body {
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid var(--gray-light);
            cursor: pointer;
            transition: var(--transition);
        }

        .notification-item:hover {
            background-color: var(--gray-lighter);
        }

        .notification-item.unread {
            background-color: rgba(0, 211, 149, 0.05);
        }

        .notification-content {
            font-size: 13px;
            margin-bottom: 5px;
        }

        .notification-time {
            font-size: 11px;
            color: var(--gray);
        }

        .notification-footer {
            padding: 10px 15px;
            text-align: center;
            border-top: 1px solid var(--gray-light);
        }

        .notification-link {
            font-size: 13px;
            color: var(--primary);
            text-decoration: none;
        }

        .notification-link:hover {
            text-decoration: underline;
        }

        /* Custom Checkbox */
        .custom-checkbox {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .custom-checkbox input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .checkmark {
            height: 18px;
            width: 18px;
            background-color: var(--lighter);
            border: 1px solid var(--gray-light);
            border-radius: 4px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .custom-checkbox input:checked ~ .checkmark {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .checkmark::after {
            content: "\f00c";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            color: white;
            font-size: 10px;
            display: none;
        }

        .custom-checkbox input:checked ~ .checkmark::after {
            display: block;
        }

        /* Custom Radio */
        .custom-radio {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .custom-radio input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .radiomark {
            height: 18px;
            width: 18px;
            background-color: var(--lighter);
            border: 1px solid var(--gray-light);
            border-radius: 50%;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .custom-radio input:checked ~ .radiomark {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .radiomark::after {
            content: "";
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: white;
            display: none;
        }

        .custom-radio input:checked ~ .radiomark::after {
            display: block;
        }

        /* Switch Toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray-light);
            transition: var(--transition);
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* File Input */
        .file-input-container {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-btn {
            border: 1px dashed var(--gray-light);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .file-input-btn:hover {
            border-color: var(--primary);
            background-color: rgba(0, 211, 149, 0.05);
        }

        .file-input-icon {
            font-size: 24px;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .file-input-text {
            font-size: 14px;
            color: var(--gray);
        }

        .file-input-text span {
            color: var(--primary);
            text-decoration: underline;
        }

        .file-input {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-preview {
            margin-top: 15px;
            display: flex;
            align-items: center;
            padding: 10px;
            background-color: var(--gray-lighter);
            border-radius: var(--border-radius);
        }

        .file-preview-icon {
            font-size: 20px;
            margin-right: 10px;
            color: var(--primary);
        }

        .file-preview-info {
            flex: 1;
        }

        .file-preview-name {
            font-size: 13px;
            margin-bottom: 3px;
        }

        .file-preview-size {
            font-size: 11px;
            color: var(--gray);
        }

        .file-preview-remove {
            font-size: 16px;
            color: var(--error);
            cursor: pointer;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
        }

        .empty-icon {
            font-size: 50px;
            color: var(--gray-light);
            margin-bottom: 20px;
        }

        .empty-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .empty-text {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 20px;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--secondary);
            color: var(--dark);
            text-align: center;
            border-radius: var(--border-radius);
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 13px;
            box-shadow: var(--box-shadow-lg);
            border: 1px solid var(--gray-light);
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--secondary) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Pagination */
        .pagination {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        .page-item {
            margin: 0 5px;
        }

        .page-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: var(--gray-lighter);
            color: var(--gray);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .page-link:hover {
            background-color: var(--gray-light);
            color: var(--dark);
        }

        .page-link.active {
            background-color: var(--primary);
            color: white;
        }

        .page-link.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Progress Bar */
        .progress {
            height: 6px;
            background-color: var(--gray-light);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 5px;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary);
            border-radius: 3px;
            transition: width 0.6s ease;
        }

        /* Alert */
        .alert {
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            font-size: 14px;
            display: flex;
            align-items: flex-start;
        }

        .alert i {
            margin-right: 10px;
            font-size: 18px;
        }

        .alert-success {
            background-color: rgba(0, 211, 149, 0.1);
            border-left: 4px solid var(--success);
            color: var(--success);
        }

        .alert-danger {
            background-color: rgba(255, 61, 87, 0.1);
            border-left: 4px solid var(--error);
            color: var(--error);
        }

        .alert-warning {
            background-color: rgba(255, 184, 0, 0.1);
            border-left: 4px solid var(--warning);
            color: var(--warning);
        }

        .alert-info {
            background-color: rgba(26, 115, 232, 0.1);
            border-left: 4px solid var(--security-blue);
            color: var(--security-blue);
        }

        /* Avatar */
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            display: inline-block;
        }

        .avatar-sm {
            width: 30px;
            height: 30px;
        }

        .avatar-lg {
            width: 60px;
            height: 60px;
        }

        /* Verification Badge */
        .verified-badge {
            display: inline-block;
            width: 16px;
            height: 16px;
            background-color: var(--success);
            color: white;
            border-radius: 50%;
            font-size: 10px;
            text-align: center;
            line-height: 16px;
            margin-left: 5px;
        }

        /* Crypto Icons */
        .crypto-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 8px;
        }

        /* 2FA Modal */
        .twofa-modal {
            text-align: center;
        }

        .twofa-qrcode {
            margin: 20px auto;
            padding: 15px;
            background-color: white;
            width: 200px;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .twofa-code {
            font-family: monospace;
            font-size: 18px;
            letter-spacing: 2px;
            margin: 15px 0;
            padding: 10px;
            background-color: var(--lighter);
            border-radius: var(--border-radius);
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--box-shadow-lg);
            z-index: 1000;
        }

        /* Responsive Tables */
        @media (max-width: 768px) {
            .dataTables_wrapper .dataTables_info,
            .dataTables_wrapper .dataTables_filter,
            .dataTables_wrapper .dataTables_length,
            .dataTables_wrapper .dataTables_paginate {
                text-align: left !important;
                float: none !important;
            }
            
            .dataTables_wrapper .dataTables_paginate {
                margin-top: 10px !important;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page (shown when not authenticated) -->
    <div class="login-container" id="loginPage">
        <div class="login-left">
            <div class="login-left-content">
                <div class="login-logo">
                    <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo">
                    <span>BitHash</span>
                </div>
                <h1 class="login-title">Institutional Bitcoin Mining Platform</h1>
                <p class="login-subtitle">Enterprise-grade admin dashboard for managing millions of users and their Bitcoin mining investments with complete control and oversight.</p>
                <div class="login-features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <p class="feature-text">Military-grade security with multi-factor authentication and role-based access control</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-users-cog"></i>
                        </div>
                        <p class="feature-text">Full user management including suspension, balance adjustments, and investment monitoring</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <p class="feature-text">Real-time analytics and reporting for all financial transactions and user activities</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="login-right">
            <div class="login-form-container">
                <h2 class="login-form-title">Admin Login</h2>
                <p class="login-form-subtitle">Enter your credentials to access the admin dashboard</p>
                <form class="login-form" id="loginForm">
                    <div class="form-group">
                        <label for="email" class="form-label">Email Address</label>
                        <input type="email" id="email" class="form-control" placeholder="admin@bithash.com" required>
                    </div>
                    <div class="form-group">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" id="password" class="form-control" placeholder="" required>
                    </div>
                    <div class="form-extra">
                        <div class="form-check">
                            <input type="checkbox" id="remember" class="form-check-input">
                            <label for="remember" class="form-check-label">Remember me</label>
                        </div>
                        <a href="#" class="form-link" id="forgotPassword">Forgot password?</a>
                    </div>
                    <button type="submit" class="login-btn" id="loginBtn">
                        <span id="loginBtnText">Login</span>
                        <span class="loading-spinner" id="loginSpinner" style="display: none;"></span>
                    </button>
                    <div class="login-divider">
                        <div class="divider-line"></div>
                        <div class="divider-text">or</div>
                        <div class="divider-line"></div>
                    </div>
                    <div class="social-login">
                        <button type="button" class="social-btn google">
                            <i class="fab fa-google"></i>
                            Google
                        </button>
                        <button type="button" class="social-btn apple">
                            <i class="fab fa-apple"></i>
                            Apple
                        </button>
                    </div>
                    <p class="login-footer">
                        By logging in, you agree to our <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>.
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard (shown when authenticated) -->
    <div class="admin-container" id="adminDashboard" style="display: none;">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <div class="admin-logo">
                <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo">
                <span>BitHash</span>
            </div>
            <div class="admin-menu">
                <div class="menu-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </div>
                <div class="menu-item" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>Users</span>
                </div>
                <div class="menu-item" data-section="investments">
                    <i class="fas fa-chart-line"></i>
                    <span>Investments</span>
                </div>
                <div class="menu-item" data-section="transactions">
                    <i class="fas fa-exchange-alt"></i>
                    <span>Transactions</span>
                </div>
                <div class="menu-item" data-section="withdrawals">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Withdrawals</span>
                </div>
                <div class="menu-item" data-section="deposits">
                    <i class="fas fa-coins"></i>
                    <span>Deposits</span>
                </div>
                <div class="menu-item" data-section="support">
                    <i class="fas fa-headset"></i>
                    <span>Support</span>
                </div>
                <div class="menu-item" data-section="notifications">
                    <i class="fas fa-bell"></i>
                    <span>Notifications</span>
                </div>
                <div class="menu-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </div>
                <div class="menu-item" data-section="reports">
                    <i class="fas fa-file-alt"></i>
                    <span>Reports</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="admin-main">
            <!-- Header -->
            <div class="admin-header">
                <div class="header-left">
                    <div class="toggle-sidebar" id="toggleSidebar">
                        <i class="fas fa-bars"></i>
                    </div>
                    <div class="header-title" id="pageTitle">Dashboard</div>
                </div>
                <div class="header-right">
                    <div class="header-icon" id="notificationIcon">
                        <i class="fas fa-bell"></i>
                        <div class="notification-badge">3</div>
                    </div>
                    <div class="header-icon" id="chatIcon">
                        <i class="fas fa-comment-dots"></i>
                        <div class="notification-badge">5</div>
                    </div>
                    <div class="admin-profile" id="adminProfile">
                        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="Admin" class="profile-img">
                        <div class="profile-name">Admin</div>
                        <div class="profile-dropdown" id="profileDropdown">
                            <div class="dropdown-item">
                                <i class="fas fa-user"></i>
                                <span>My Profile</span>
                            </div>
                            <div class="dropdown-item">
                                <i class="fas fa-cog"></i>
                                <span>Account Settings</span>
                            </div>
                            <div class="dropdown-item">
                                <i class="fas fa-lock"></i>
                                <span>Security</span>
                            </div>
                            <div class="divider"></div>
                            <div class="dropdown-item" id="logoutBtn">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Logout</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="admin-content" id="adminContent">
                <!-- Dashboard Section -->
                <div class="content-section active" id="dashboardSection">
                    <div class="stats-cards">
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">Total Users</div>
                                <div class="stat-icon users">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="totalUsers">0</div>
                            <div class="stat-card-change change-up">
                                <i class="fas fa-arrow-up"></i>
                                <span id="userGrowth">0%</span> from last month
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">Total Deposits</div>
                                <div class="stat-icon deposits">
                                    <i class="fas fa-coins"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="totalDeposits">$0</div>
                            <div class="stat-card-change change-up">
                                <i class="fas fa-arrow-up"></i>
                                <span id="depositGrowth">0%</span> from last month
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">Total Withdrawals</div>
                                <div class="stat-icon withdrawals">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="totalWithdrawals">$0</div>
                            <div class="stat-card-change change-down">
                                <i class="fas fa-arrow-down"></i>
                                <span id="withdrawalGrowth">0%</span> from last month
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-title">Total Profit</div>
                                <div class="stat-icon profit">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="totalProfit">$0</div>
                            <div class="stat-card-change change-up">
                                <i class="fas fa-arrow-up"></i>
                                <span id="profitGrowth">0%</span> from last month
                            </div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <div class="chart-title">Platform Activity</div>
                            <div class="chart-actions">
                                <div class="chart-period">
                                    <button class="period-btn active" data-period="7d">7D</button>
                                    <button class="period-btn" data-period="30d">30D</button>
                                    <button class="period-btn" data-period="90d">90D</button>
                                    <button class="period-btn" data-period="1y">1Y</button>
                                </div>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="activityChart"></canvas>
                        </div>
                    </div>

                    <div class="data-table-container">
                        <div class="table-header">
                            <div class="table-title">Recent Transactions</div>
                            <div class="table-actions">
                                <button class="table-btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    <span>Add Transaction</span>
                                </button>
                                <button class="table-btn btn-secondary">
                                    <i class="fas fa-filter"></i>
                                    <span>Filter</span>
                                </button>
                            </div>
                        </div>
                        <table id="transactionsTable" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>User</th>
                                    <th>Type</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Users Section -->
                <div class="content-section" id="usersSection">
                    <div class="data-table-container">
                        <div class="table-header">
                            <div class="table-title">User Management</div>
                            <div class="table-actions">
                                <button class="table-btn btn-primary" id="addUserBtn">
                                    <i class="fas fa-plus"></i>
                                    <span>Add User</span>
                                </button>
                                <button class="table-btn btn-secondary" id="exportUsersBtn">
                                    <i class="fas fa-file-export"></i>
                                    <span>Export</span>
                                </button>
                                <button class="table-btn btn-secondary" id="filterUsersBtn">
                                    <i class="fas fa-filter"></i>
                                    <span>Filter</span>
                                </button>
                            </div>
                        </div>
                        <table id="usersTable" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>User</th>
                                    <th>Email</th>
                                    <th>Balance</th>
                                    <th>Status</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Investments Section -->
                <div class="content-section" id="investmentsSection">
                    <div class="data-table-container">
                        <div class="table-header">
                            <div class="table-title">Investment Plans</div>
                            <div class="table-actions">
                                <button class="table-btn btn-primary" id="addPlanBtn">
                                    <i class="fas fa-plus"></i>
                                    <span>Add Plan</span>
                                </button>
                                <button class="table-btn btn-secondary" id="refreshInvestmentsBtn">
                                    <i class="fas fa-sync"></i>
                                    <span>Refresh</span>
                                </button>
                            </div>
                        </div>
                        <table id="plansTable" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Min Amount</th>
                                    <th>Max Amount</th>
                                    <th>Duration</th>
                                    <th>Daily Profit</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>

                    <div class="data-table-container" style="margin-top: 30px;">
                        <div class="table-header">
                            <div class="table-title">Active Investments</div>
                            <div class="table-actions">
                                <button class="table-btn btn-secondary" id="exportInvestmentsBtn">
                                    <i class="fas fa-file-export"></i>
                                    <span>Export</span>
                                </button>
                                <button class="table-btn btn-secondary" id="filterInvestmentsBtn">
                                    <i class="fas fa-filter"></i>
                                    <span>Filter</span>
                                </button>
                            </div>
                        </div>
                        <table id="activeInvestmentsTable" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>User</th>
                                    <th>Plan</th>
                                    <th>Amount</th>
                                    <th>Daily Profit</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Transactions Section -->
                <div class="content-section" id="transactionsSection">
                    <div class="tabs">
                        <div class="tab active" data-tab="all">All Transactions</div>
                        <div class="tab" data-tab="deposits">Deposits</div>
                        <div class="tab" data-tab="withdrawals">Withdrawals</div>
                        <div class="tab" data-tab="transfers">Transfers</div>
                    </div>

                    <div class="tab-content active" id="allTransactionsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">All Transactions</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportAllTransactionsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterAllTransactionsBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="allTransactionsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Type</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Status</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="depositsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Deposit Transactions</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportDepositsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterDepositsBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="depositsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Status</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="withdrawalsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Withdrawal Transactions</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-primary" id="processWithdrawalsBtn">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Process Selected</span>
                                    </button>
                                    <button class="table-btn btn-danger" id="rejectWithdrawalsBtn">
                                        <i class="fas fa-times-circle"></i>
                                        <span>Reject Selected</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="exportWithdrawalsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                </div>
                            </div>
                            <table id="withdrawalsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="selectAllWithdrawals"></th>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Status</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="transfersTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Transfer Transactions</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportTransfersBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterTransfersBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="transfersTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Sender</th>
                                        <th>Recipient</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Withdrawals Section -->
                <div class="content-section" id="withdrawalsSection">
                    <div class="tabs">
                        <div class="tab active" data-tab="pending">Pending</div>
                        <div class="tab" data-tab="processed">Processed</div>
                        <div class="tab" data-tab="rejected">Rejected</div>
                    </div>

                    <div class="tab-content active" id="pendingWithdrawalsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Pending Withdrawals</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-primary" id="processPendingWithdrawalsBtn">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Process Selected</span>
                                    </button>
                                    <button class="table-btn btn-danger" id="rejectPendingWithdrawalsBtn">
                                        <i class="fas fa-times-circle"></i>
                                        <span>Reject Selected</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="exportPendingWithdrawalsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                </div>
                            </div>
                            <table id="pendingWithdrawalsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="selectAllPending"></th>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="processedWithdrawalsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Processed Withdrawals</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportProcessedWithdrawalsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterProcessedWithdrawalsBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="processedWithdrawalsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Processed Date</th>
                                        <th>Processed By</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="rejectedWithdrawalsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Rejected Withdrawals</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportRejectedWithdrawalsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterRejectedWithdrawalsBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="rejectedWithdrawalsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Rejected Date</th>
                                        <th>Rejected By</th>
                                        <th>Reason</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Deposits Section -->
                <div class="content-section" id="depositsSection">
                    <div class="tabs">
                        <div class="tab active" data-tab="pending">Pending</div>
                        <div class="tab" data-tab="completed">Completed</div>
                        <div class="tab" data-tab="failed">Failed</div>
                    </div>

                    <div class="tab-content active" id="pendingDepositsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Pending Deposits</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-primary" id="approvePendingDepositsBtn">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Approve Selected</span>
                                    </button>
                                    <button class="table-btn btn-danger" id="rejectPendingDepositsBtn">
                                        <i class="fas fa-times-circle"></i>
                                        <span>Reject Selected</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="exportPendingDepositsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                </div>
                            </div>
                            <table id="pendingDepositsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="selectAllPendingDeposits"></th>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="completedDepositsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Completed Deposits</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportCompletedDepositsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterCompletedDepositsBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="completedDepositsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Completed Date</th>
                                        <th>Approved By</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="failedDepositsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Failed Deposits</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportFailedDepositsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterFailedDepositsBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="failedDepositsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Failed Date</th>
                                        <th>Reason</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Support Section -->
                <div class="content-section" id="supportSection">
                    <div class="tabs">
                        <div class="tab active" data-tab="open">Open Tickets</div>
                        <div class="tab" data-tab="answered">Answered</div>
                        <div class="tab" data-tab="closed">Closed</div>
                    </div>

                    <div class="tab-content active" id="openTicketsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Open Support Tickets</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-primary" id="assignTicketsBtn">
                                        <i class="fas fa-user-tag"></i>
                                        <span>Assign Selected</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="exportOpenTicketsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                </div>
                            </div>
                            <table id="openTicketsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="selectAllOpenTickets"></th>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Subject</th>
                                        <th>Category</th>
                                        <th>Priority</th>
                                        <th>Created</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="answeredTicketsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Answered Support Tickets</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-primary" id="closeAnsweredTicketsBtn">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Close Selected</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="exportAnsweredTicketsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                </div>
                            </div>
                            <table id="answeredTicketsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="selectAllAnsweredTickets"></th>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Subject</th>
                                        <th>Category</th>
                                        <th>Priority</th>
                                        <th>Answered By</th>
                                        <th>Answered On</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="closedTicketsTab">
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">Closed Support Tickets</div>
                                <div class="table-actions">
                                    <button class="table-btn btn-secondary" id="exportClosedTicketsBtn">
                                        <i class="fas fa-file-export"></i>
                                        <span>Export</span>
                                    </button>
                                    <button class="table-btn btn-secondary" id="filterClosedTicketsBtn">
                                        <i class="fas fa-filter"></i>
                                        <span>Filter</span>
                                    </button>
                                </div>
                            </div>
                            <table id="closedTicketsTable" class="display" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>User</th>
                                        <th>Subject</th>
                                        <th>Category</th>
                                        <th>Priority</th>
                                        <th>Closed By</th>
                                        <th>Closed On</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Notifications Section -->
                <div class="content-section" id="notificationsSection">
                    <div class="data-table-container">
                        <div class="table-header">
                            <div class="table-title">System Notifications</div>
                            <div class="table-actions">
                                <button class="table-btn btn-primary" id="sendNotificationBtn">
                                    <i class="fas fa-paper-plane"></i>
                                    <span>Send Notification</span>
                                </button>
                                <button class="table-btn btn-secondary" id="markAllAsReadBtn">
                                    <i class="fas fa-check-double"></i>
                                    <span>Mark All as Read</span>
                                </button>
                            </div>
                        </div>
                        <table id="notificationsTable" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Title</th>
                                    <th>Message</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>Sent On</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>

                    <div class="data-table-container" style="margin-top: 30px;">
                        <div class="table-header">
                            <div class="table-title">Notification Templates</div>
                            <div class="table-actions">
                                <button class="table-btn btn-primary" id="addTemplateBtn">
                                    <i class="fas fa-plus"></i>
                                    <span>Add Template</span>
                                </button>
                                <button class="table-btn btn-secondary" id="refreshTemplatesBtn">
                                    <i class="fas fa-sync"></i>
                                    <span>Refresh</span>
                                </button>
                            </div>
                        </div>
                        <table id="templatesTable" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Subject</th>
                                    <th>Type</th>
                                    <th>Last Updated</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Settings Section -->
                <div class="content-section" id="settingsSection">
                    <div class="tabs">
                        <div class="tab active" data-tab="general">General</div>
                        <div class="tab" data-tab="payment">Payment</div>
                        <div class="tab" data-tab="security">Security</div>
                        <div class="tab" data-tab="email">Email</div>
                        <div class="tab" data-tab="api">API</div>
                    </div>

                    <div class="tab-content active" id="generalSettingsTab">
                        <div class="form-container">
                            <h3 class="form-title">General Settings</h3>
                            <form id="generalSettingsForm">
                                <div class="form-row">
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="siteName" class="form-label">Site Name</label>
                                            <input type="text" id="siteName" class="form-control" required>
                                        </div>
                                    </div>
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="siteUrl" class="form-label">Site URL</label>
                                            <input type="url" id="siteUrl" class="form-control" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="siteDescription" class="form-label">Site Description</label>
                                    <textarea id="siteDescription" class="form-control form-textarea"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="siteLogo" class="form-label">Site Logo</label>
                                    <div class="file-input-container">
                                        <div class="file-input-btn">
                                            <div class="file-input-icon">
                                                <i class="fas fa-cloud-upload-alt"></i>
                                            </div>
                                            <div class="file-input-text">Click to upload or drag and drop</div>
                                        </div>
                                        <input type="file" id="siteLogo" class="file-input">
                                    </div>
                                    <div class="file-preview" id="logoPreview" style="display: none;">
                                        <div class="file-preview-icon">
                                            <i class="fas fa-image"></i>
                                        </div>
                                        <div class="file-preview-info">
                                            <div class="file-preview-name">logo.png</div>
                                            <div class="file-preview-size">120 KB</div>
                                        </div>
                                        <div class="file-preview-remove">
                                            <i class="fas fa-times"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="timezone" class="form-label">Timezone</label>
                                            <select id="timezone" class="form-control form-select">
                                                <option value="UTC">UTC</option>
                                                <!-- More options will be loaded via JS -->
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="dateFormat" class="form-label">Date Format</label>
                                            <select id="dateFormat" class="form-control form-select">
                                                <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                                                <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                                                <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="maintenanceMode" class="form-label">Maintenance Mode</label>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="maintenanceMode">
                                        <span class="checkmark"></span>
                                        <label for="maintenanceMode">Enable maintenance mode</label>
                                    </div>
                                </div>
                                <div class="form-group" id="maintenanceMessageGroup" style="display: none;">
                                    <label for="maintenanceMessage" class="form-label">Maintenance Message</label>
                                    <textarea id="maintenanceMessage" class="form-control form-textarea"></textarea>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="table-btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        <span>Save Changes</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="tab-content" id="paymentSettingsTab">
                        <div class="form-container">
                            <h3 class="form-title">Payment Settings</h3>
                            <form id="paymentSettingsForm">
                                <div class="form-group">
                                    <label class="form-label">Enabled Payment Methods</label>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="enableBankTransfer">
                                        <span class="checkmark"></span>
                                        <label for="enableBankTransfer">Bank Transfer</label>
                                    </div>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="enableCreditCard">
                                        <span class="checkmark"></span>
                                        <label for="enableCreditCard">Credit/Debit Card</label>
                                    </div>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="enablePaypal">
                                        <span class="checkmark"></span>
                                        <label for="enablePaypal">PayPal</label>
                                    </div>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="enableCrypto">
                                        <span class="checkmark"></span>
                                        <label for="enableCrypto">Cryptocurrency</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="currency" class="form-label">Default Currency</label>
                                    <select id="currency" class="form-control form-select">
                                        <option value="USD">US Dollar (USD)</option>
                                        <option value="EUR">Euro (EUR)</option>
                                        <option value="GBP">British Pound (GBP)</option>
                                        <!-- More options will be loaded via JS -->
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="minDeposit" class="form-label">Minimum Deposit Amount</label>
                                    <input type="number" id="minDeposit" class="form-control" min="0" step="0.01">
                                </div>
                                <div class="form-group">
                                    <label for="minWithdrawal" class="form-label">Minimum Withdrawal Amount</label>
                                    <input type="number" id="minWithdrawal" class="form-control" min="0" step="0.01">
                                </div>
                                <div class="form-group">
                                    <label for="withdrawalFee" class="form-label">Withdrawal Fee (%)</label>
                                    <input type="number" id="withdrawalFee" class="form-control" min="0" max="100" step="0.01">
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="table-btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        <span>Save Changes</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        <div class="form-container" style="margin-top: 30px;">
                            <h3 class="form-title">Bank Account Details</h3>
                            <form id="bankSettingsForm">
                                <div class="form-row">
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="bankName" class="form-label">Bank Name</label>
                                            <input type="text" id="bankName" class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="accountName" class="form-label">Account Name</label>
                                            <input type="text" id="accountName" class="form-control">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="accountNumber" class="form-label">Account Number</label>
                                            <input type="text" id="accountNumber" class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="swiftCode" class="form-label">SWIFT/BIC Code</label>
                                            <input type="text" id="swiftCode" class="form-control">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="bankAddress" class="form-label">Bank Address</label>
                                    <textarea id="bankAddress" class="form-control form-textarea"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="bankInstructions" class="form-label">Special Instructions</label>
                                    <textarea id="bankInstructions" class="form-control form-textarea"></textarea>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="table-btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        <span>Save Changes</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="tab-content" id="securitySettingsTab">
                        <div class="form-container">
                            <h3 class="form-title">Security Settings</h3>
                            <form id="securitySettingsForm">
                                <div class="form-group">
                                    <label for="admin2FA" class="form-label">Admin Two-Factor Authentication</label>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="admin2FA">
                                        <span class="checkmark"></span>
                                        <label for="admin2FA">Require 2FA for admin login</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="user2FA" class="form-label">User Two-Factor Authentication</label>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="user2FA">
                                        <span class="checkmark"></span>
                                        <label for="user2FA">Require 2FA for user login</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="loginAttempts" class="form-label">Max Login Attempts</label>
                                    <input type="number" id="loginAttempts" class="form-control" min="1" max="10" value="5">
                                </div>
                                <div class="form-group">
                                    <label for="loginTimeout" class="form-label">Login Lockout Time (minutes)</label>
                                    <input type="number" id="loginTimeout" class="form-control" min="1" max="1440" value="30">
                                </div>
                                <div class="form-group">
                                    <label for="passwordComplexity" class="form-label">Password Complexity</label>
                                    <select id="passwordComplexity" class="form-control form-select">
                                        <option value="low">Low (6+ characters)</option>
                                        <option value="medium">Medium (8+ characters with mix of letters and numbers)</option>
                                        <option value="high">High (10+ characters with uppercase, lowercase, numbers and symbols)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="sessionTimeout" class="form-label">Session Timeout (minutes)</label>
                                    <input type="number" id="sessionTimeout" class="form-control" min="1" max="1440" value="30">
                                </div>
                                <div class="form-group">
                                    <label for="ipWhitelist" class="form-label">Admin IP Whitelist</label>
                                    <textarea id="ipWhitelist" class="form-control form-textarea" placeholder="Enter one IP per line"></textarea>
                                    <small class="form-text">Leave empty to allow access from any IP</small>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="table-btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        <span>Save Changes</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="tab-content" id="emailSettingsTab">
                        <div class="form-container">
                            <h3 class="form-title">Email Settings</h3>
                            <form id="emailSettingsForm">
                                <div class="form-group">
                                    <label for="mailDriver" class="form-label">Mail Driver</label>
                                    <select id="mailDriver" class="form-control form-select">
                                        <option value="smtp">SMTP</option>
                                        <option value="sendmail">Sendmail</option>
                                        <option value="mailgun">Mailgun</option>
                                        <option value="ses">Amazon SES</option>
                                    </select>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="mailHost" class="form-label">SMTP Host</label>
                                            <input type="text" id="mailHost" class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="mailPort" class="form-label">SMTP Port</label>
                                            <input type="number" id="mailPort" class="form-control">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="mailUsername" class="form-label">SMTP Username</label>
                                            <input type="text" id="mailUsername" class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="mailPassword" class="form-label">SMTP Password</label>
                                            <input type="password" id="mailPassword" class="form-control">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="mailEncryption" class="form-label">Encryption</label>
                                    <select id="mailEncryption" class="form-control form-select">
                                        <option value="tls">TLS</option>
                                        <option value="ssl">SSL</option>
                                        <option value="">None</option>
                                    </select>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="mailFromAddress" class="form-label">From Address</label>
                                            <input type="email" id="mailFromAddress" class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-col">
                                        <div class="form-group">
                                            <label for="mailFromName" class="form-label">From Name</label>
                                            <input type="text" id="mailFromName" class="form-control">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="table-btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        <span>Save Changes</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        <div class="form-container" style="margin-top: 30px;">
                            <h3 class="form-title">Test Email Configuration</h3>
                            <form id="testEmailForm">
                                <div class="form-group">
                                    <label for="testEmailAddress" class="form-label">Test Email Address</label>
                                    <input type="email" id="testEmailAddress" class="form-control" placeholder="Enter email address to send test message">
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="table-btn btn-primary">
                                        <i class="fas fa-paper-plane"></i>
                                        <span>Send Test Email</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="tab-content" id="apiSettingsTab">
                        <div class="form-container">
                            <h3 class="form-title">API Settings</h3>
                            <form id="apiSettingsForm">
                                <div class="form-group">
                                    <label for="apiEnabled" class="form-label">API Access</label>
                                    <div class="custom-checkbox">
                                        <input type="checkbox" id="apiEnabled">
                                        <span class="checkmark"></span>
                                        <label for="apiEnabled">Enable API access</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="apiKey" class="form-label">API Key</label>
                                    <div class="input-group">
                                        <input type="text" id="apiKey" class="form-control" readonly>
                                        <button type="button" class="table-btn btn-secondary" id="generateApiKey">
                                            <i class="fas fa-sync"></i>
                                            <span>Generate</span>
                                        </button>
                                    </div>
                                    <small class="form-text">Keep this key secret. It provides full access to your API.</small>
                                </div>
                                <div class="form-group">
                                    <label for="apiRateLimit" class="form-label">Rate Limit (requests per minute)</label>
                                    <input type="number" id="apiRateLimit" class="form-control" min="1" value="60">
                                </div>
                                <div class="form-group">
                                    <label for="apiIpWhitelist" class="form-label">IP Whitelist</label>
                                    <textarea id="apiIpWhitelist" class="form-control form-textarea" placeholder="Enter one IP per line"></textarea>
                                    <small class="form-text">Leave empty to allow access from any IP</small>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="table-btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        <span>Save Changes</span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        <div class="form-container" style="margin-top: 30px;">
                            <h3 class="form-title">API Documentation</h3>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <div>
                                    <strong>API Documentation</strong><br>
                                    For detailed API documentation and endpoints, please refer to our API documentation page.
                                </div>
                            </div>
                            <div class="form-group">
                                <a href="#" class="table-btn btn-primary">
                                    <i class="fas fa-book"></i>
                                    <span>View API Documentation</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reports Section -->
                <div class="content-section" id="reportsSection">
                    <div class="form-container">
                        <h3 class="form-title">Generate Reports</h3>
                        <form id="reportForm">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="reportType" class="form-label">Report Type</label>
                                        <select id="reportType" class="form-control form-select">
                                            <option value="users">Users Report</option>
                                            <option value="transactions">Transactions Report</option>
                                            <option value="investments">Investments Report</option>
                                            <option value="withdrawals">Withdrawals Report</option>
                                            <option value="deposits">Deposits Report</option>
                                            <option value="profit">Profit Report</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="reportFormat" class="form-label">Format</label>
                                        <select id="reportFormat" class="form-control form-select">
                                            <option value="pdf">PDF</option>
                                            <option value="csv">CSV</option>
                                            <option value="excel">Excel</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="reportStartDate" class="form-label">Start Date</label>
                                        <input type="date" id="reportStartDate" class="form-control">
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="reportEndDate" class="form-label">End Date</label>
                                        <input type="date" id="reportEndDate" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="table-btn btn-primary">
                                    <i class="fas fa-file-export"></i>
                                    <span>Generate Report</span>
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="data-table-container" style="margin-top: 30px;">
                        <div class="table-header">
                            <div class="table-title">Generated Reports</div>
                            <div class="table-actions">
                                <button class="table-btn btn-secondary" id="refreshReportsBtn">
                                    <i class="fas fa-sync"></i>
                                    <span>Refresh</span>
                                </button>
                            </div>
                        </div>
                        <table id="reportsTable" class="display" style="width:100%">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Format</th>
                                    <th>Date Range</th>
                                    <th>Generated On</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Data will be loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add User Modal -->
    <div class="modal-overlay" id="addUserModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Add New User</div>
                <div class="modal-close" id="closeAddUserModal">&times;</div>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="userFirstName" class="form-label">First Name</label>
                                <input type="text" id="userFirstName" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="userLastName" class="form-label">Last Name</label>
                                <input type="text" id="userLastName" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="userEmail" class="form-label">Email Address</label>
                        <input type="email" id="userEmail" class="form-control" required>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="userPassword" class="form-label">Password</label>
                                <input type="password" id="userPassword" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="userConfirmPassword" class="form-label">Confirm Password</label>
                                <input type="password" id="userConfirmPassword" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="userPhone" class="form-label">Phone Number</label>
                        <input type="tel" id="userPhone" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="userCountry" class="form-label">Country</label>
                        <select id="userCountry" class="form-control form-select">
                            <option value="">Select Country</option>
                            <!-- Countries will be loaded via JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="userBalance" class="form-label">Initial Balance</label>
                        <input type="number" id="userBalance" class="form-control" min="0" step="0.01" value="0">
                    </div>
                    <div class="form-group">
                        <label for="userStatus" class="form-label">Account Status</label>
                        <select id="userStatus" class="form-control form-select">
                            <option value="active">Active</option>
                            <option value="pending">Pending</option>
                            <option value="suspended">Suspended</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="userVerification" class="form-label">Verification Status</label>
                        <select id="userVerification" class="form-control form-select">
                            <option value="unverified">Unverified</option>
                            <option value="verified">Verified</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelAddUser">Cancel</button>
                <button class="table-btn btn-primary" id="submitAddUser">Add User</button>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div class="modal-overlay" id="editUserModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Edit User</div>
                <div class="modal-close" id="closeEditUserModal">&times;</div>
            </div>
            <div class="modal-body">
                <form id="editUserForm">
                    <input type="hidden" id="editUserId">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editFirstName" class="form-label">First Name</label>
                                <input type="text" id="editFirstName" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editLastName" class="form-label">Last Name</label>
                                <input type="text" id="editLastName" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="editEmail" class="form-label">Email Address</label>
                        <input type="email" id="editEmail" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="editPhone" class="form-label">Phone Number</label>
                        <input type="tel" id="editPhone" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="editCountry" class="form-label">Country</label>
                        <select id="editCountry" class="form-control form-select">
                            <option value="">Select Country</option>
                            <!-- Countries will be loaded via JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editBalance" class="form-label">Account Balance</label>
                        <input type="number" id="editBalance" class="form-control" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="editStatus" class="form-label">Account Status</label>
                        <select id="editStatus" class="form-control form-select">
                            <option value="active">Active</option>
                            <option value="pending">Pending</option>
                            <option value="suspended">Suspended</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editVerification" class="form-label">Verification Status</label>
                        <select id="editVerification" class="form-control form-select">
                            <option value="unverified">Unverified</option>
                            <option value="verified">Verified</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editPassword" class="form-label">Change Password (leave blank to keep current)</label>
                        <input type="password" id="editPassword" class="form-control">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelEditUser">Cancel</button>
                <button class="table-btn btn-primary" id="submitEditUser">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Add Plan Modal -->
    <div class="modal-overlay" id="addPlanModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Add Investment Plan</div>
                <div class="modal-close" id="closeAddPlanModal">&times;</div>
            </div>
            <div class="modal-body">
                <form id="addPlanForm">
                    <div class="form-group">
                        <label for="planName" class="form-label">Plan Name</label>
                        <input type="text" id="planName" class="form-control" required>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="planMinAmount" class="form-label">Minimum Amount</label>
                                <input type="number" id="planMinAmount" class="form-control" min="0" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="planMaxAmount" class="form-label">Maximum Amount</label>
                                <input type="number" id="planMaxAmount" class="form-control" min="0" step="0.01">
                                <small class="form-text">Leave empty for no maximum</small>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="planDuration" class="form-label">Duration (days)</label>
                        <input type="number" id="planDuration" class="form-control" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="planProfit" class="form-label">Daily Profit (%)</label>
                        <input type="number" id="planProfit" class="form-control" min="0" max="100" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="planStatus" class="form-label">Status</label>
                        <select id="planStatus" class="form-control form-select">
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="planDescription" class="form-label">Description</label>
                        <textarea id="planDescription" class="form-control form-textarea"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelAddPlan">Cancel</button>
                <button class="table-btn btn-primary" id="submitAddPlan">Add Plan</button>
            </div>
        </div>
    </div>

    <!-- Edit Plan Modal -->
    <div class="modal-overlay" id="editPlanModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Edit Investment Plan</div>
                <div class="modal-close" id="closeEditPlanModal">&times;</div>
            </div>
            <div class="modal-body">
                <form id="editPlanForm">
                    <input type="hidden" id="editPlanId">
                    <div class="form-group">
                        <label for="editPlanName" class="form-label">Plan Name</label>
                        <input type="text" id="editPlanName" class="form-control" required>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editPlanMinAmount" class="form-label">Minimum Amount</label>
                                <input type="number" id="editPlanMinAmount" class="form-control" min="0" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="editPlanMaxAmount" class="form-label">Maximum Amount</label>
                                <input type="number" id="editPlanMaxAmount" class="form-control" min="0" step="0.01">
                                <small class="form-text">Leave empty for no maximum</small>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="editPlanDuration" class="form-label">Duration (days)</label>
                        <input type="number" id="editPlanDuration" class="form-control" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="editPlanProfit" class="form-label">Daily Profit (%)</label>
                        <input type="number" id="editPlanProfit" class="form-control" min="0" max="100" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="editPlanStatus" class="form-label">Status</label>
                        <select id="editPlanStatus" class="form-control form-select">
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editPlanDescription" class="form-label">Description</label>
                        <textarea id="editPlanDescription" class="form-control form-textarea"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelEditPlan">Cancel</button>
                <button class="table-btn btn-primary" id="submitEditPlan">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Send Notification Modal -->
    <div class="modal-overlay" id="sendNotificationModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Send Notification</div>
                <div class="modal-close" id="closeSendNotificationModal">&times;</div>
            </div>
            <div class="modal-body">
                <form id="sendNotificationForm">
                    <div class="form-group">
                        <label for="notificationRecipients" class="form-label">Recipients</label>
                        <select id="notificationRecipients" class="form-control form-select">
                            <option value="all">All Users</option>
                            <option value="active">Active Users</option>
                            <option value="investors">Investors</option>
                            <option value="non-investors">Non-Investors</option>
                            <option value="specific">Specific Users</option>
                        </select>
                    </div>
                    <div class="form-group" id="specificUsersGroup" style="display: none;">
                        <label for="specificUsers" class="form-label">Select Users</label>
                        <select id="specificUsers" class="form-control form-select" multiple>
                            <!-- Users will be loaded via JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="notificationSubject" class="form-label">Subject</label>
                        <input type="text" id="notificationSubject" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="notificationMessage" class="form-label">Message</label>
                        <textarea id="notificationMessage" class="form-control form-textarea" rows="5" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="notificationType" class="form-label">Notification Type</label>
                        <select id="notificationType" class="form-control form-select">
                            <option value="info">Information</option>
                            <option value="warning">Warning</option>
                            <option value="success">Success</option>
                            <option value="error">Error</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="notificationPriority" class="form-label">Priority</label>
                        <select id="notificationPriority" class="form-control form-select">
                            <option value="normal">Normal</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelSendNotification">Cancel</button>
                <button class="table-btn btn-primary" id="submitSendNotification">Send Notification</button>
            </div>
        </div>
    </div>

    <!-- Process Withdrawal Modal -->
    <div class="modal-overlay" id="processWithdrawalModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Process Withdrawal</div>
                <div class="modal-close" id="closeProcessWithdrawalModal">&times;</div>
            </div>
            <div class="modal-body">
                <form id="processWithdrawalForm">
                    <input type="hidden" id="withdrawalId">
                    <div class="form-group">
                        <label class="form-label">User</label>
                        <p id="withdrawalUser"></p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Amount</label>
                        <p id="withdrawalAmount"></p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Payment Method</label>
                        <p id="withdrawalMethod"></p>
                    </div>
                    <div class="form-group">
                        <label for="withdrawalDetails" class="form-label">Payment Details</label>
                        <textarea id="withdrawalDetails" class="form-control form-textarea" rows="4" placeholder="Enter payment details (transaction ID, reference, etc.)"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="withdrawalNotes" class="form-label">Admin Notes</label>
                        <textarea id="withdrawalNotes" class="form-control form-textarea" rows="2" placeholder="Optional notes"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelProcessWithdrawal">Cancel</button>
                <button class="table-btn btn-primary" id="submitProcessWithdrawal">Confirm Processing</button>
            </div>
        </div>
    </div>

    <!-- Reject Withdrawal Modal -->
    <div class="modal-overlay" id="rejectWithdrawalModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Reject Withdrawal</div>
                <div class="modal-close" id="closeRejectWithdrawalModal">&times;</div>
            </div>
            <div class="modal-body">
                <form id="rejectWithdrawalForm">
                    <input type="hidden" id="rejectWithdrawalId">
                    <div class="form-group">
                        <label class="form-label">User</label>
                        <p id="rejectWithdrawalUser"></p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Amount</label>
                        <p id="rejectWithdrawalAmount"></p>
                    </div>
                    <div class="form-group">
                        <label for="rejectReason" class="form-label">Reason for Rejection</label>
                        <textarea id="rejectReason" class="form-control form-textarea" rows="4" required placeholder="Provide a clear reason for rejecting this withdrawal request"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelRejectWithdrawal">Cancel</button>
                <button class="table-btn btn-danger" id="submitRejectWithdrawal">Reject Withdrawal</button>
            </div>
        </div>
    </div>

    <!-- View Transaction Modal -->
    <div class="modal-overlay" id="viewTransactionModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Transaction Details</div>
                <div class="modal-close" id="closeViewTransactionModal">&times;</div>
            </div>
            <div class="modal-body">
                <div class="transaction-details">
                    <div class="detail-row">
                        <span class="detail-label">Transaction ID:</span>
                        <span class="detail-value" id="transactionId"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">User:</span>
                        <span class="detail-value" id="transactionUser"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Type:</span>
                        <span class="detail-value" id="transactionType"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Amount:</span>
                        <span class="detail-value" id="transactionAmount"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Fee:</span>
                        <span class="detail-value" id="transactionFee"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Net Amount:</span>
                        <span class="detail-value" id="transactionNetAmount"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Method:</span>
                        <span class="detail-value" id="transactionMethod"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Status:</span>
                        <span class="detail-value" id="transactionStatus"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date:</span>
                        <span class="detail-value" id="transactionDate"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Details:</span>
                        <span class="detail-value" id="transactionDetails"></span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="closeTransactionModal">Close</button>
            </div>
        </div>
    </div>

    <!-- View Ticket Modal -->
    <div class="modal-overlay" id="viewTicketModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">Support Ticket</div>
                <div class="modal-close" id="closeViewTicketModal">&times;</div>
            </div>
            <div class="modal-body">
                <div class="ticket-header">
                    <div class="ticket-meta">
                        <div class="meta-row">
                            <span class="meta-label">Ticket ID:</span>
                            <span class="meta-value" id="ticketId"></span>
                        </div>
                        <div class="meta-row">
                            <span class="meta-label">User:</span>
                            <span class="meta-value" id="ticketUser"></span>
                        </div>
                        <div class="meta-row">
                            <span class="meta-label">Status:</span>
                            <span class="meta-value" id="ticketStatus"></span>
                        </div>
                        <div class="meta-row">
                            <span class="meta-label">Priority:</span>
                            <span class="meta-value" id="ticketPriority"></span>
                        </div>
                        <div class="meta-row">
                            <span class="meta-label">Created:</span>
                            <span class="meta-value" id="ticketCreated"></span>
                        </div>
                    </div>
                    <div class="ticket-subject">
                        <h4 id="ticketSubject"></h4>
                    </div>
                </div>
                <div class="ticket-messages">
                    <div class="message-container" id="ticketMessages">
                        <!-- Messages will be loaded via JS -->
                    </div>
                </div>
                <div class="ticket-reply">
                    <form id="ticketReplyForm">
                        <div class="form-group">
                            <label for="replyMessage" class="form-label">Reply Message</label>
                            <textarea id="replyMessage" class="form-control form-textarea" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="ticketStatusUpdate" class="form-label">Update Status</label>
                            <select id="ticketStatusUpdate" class="form-control form-select">
                                <option value="open">Keep Open</option>
                                <option value="answered">Mark as Answered</option>
                                <option value="closed">Close Ticket</option>
                            </select>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button class="table-btn btn-secondary" id="cancelTicketReply">Cancel</button>
                <button class="table-btn btn-primary" id="submitTicketReply">Send Reply</button>
            </div>
        </div>
    </div>

    <!-- Notification Center -->
    <div class="notification-center" id="notificationCenter">
        <div class="notification-header">
            <div class="notification-title">Notifications</div>
            <div class="notification-close" id="closeNotificationCenter">&times;</div>
        </div>
        <div class="notification-body">
            <div class="notification-item unread">
                <div class="notification-content">New withdrawal request from user John Doe for $500.00</div>
                <div class="notification-time">2 minutes ago</div>
            </div>
            <div class="notification-item unread">
                <div class="notification-content">User Sarah Smith has made a deposit of $1,000.00</div>
                <div class="notification-time">15 minutes ago</div>
            </div>
            <div class="notification-item">
                <div class="notification-content">System maintenance scheduled for tonight at 2:00 AM</div>
                <div class="notification-time">1 hour ago</div>
            </div>
            <div class="notification-item">
                <div class="notification-content">New user registered: michael.johnson@example.com</div>
                <div class="notification-time">3 hours ago</div>
            </div>
            <div class="notification-item">
                <div class="notification-content">Support ticket #4578 has been assigned to you</div>
                <div class="notification-time">5 hours ago</div>
            </div>
        </div>
        <div class="notification-footer">
            <a href="#" class="notification-link">View All Notifications</a>
        </div>
    </div>

    <!-- Chat Widget -->
    <div class="chat-widget" id="chatWidget">
        <div class="chat-header">
            <div class="chat-title">Live Support Chat</div>
            <div class="chat-close" id="closeChatWidget">&times;</div>
        </div>
        <div class="chat-body">
            <div class="chat-message">
                <div class="message-header">
                    <div class="message-user">John Doe</div>
                    <div class="message-time">10:30 AM</div>
                </div>
                <div class="message-content message-in">Hello, I need help with my withdrawal</div>
            </div>
            <div class="chat-message">
                <div class="message-header">
                    <div class="message-user">Support Agent</div>
                    <div class="message-time">10:32 AM</div>
                </div>
                <div class="message-content message-out">Hi John, I can help you with that. What seems to be the problem?</div>
            </div>
            <div class="chat-message">
                <div class="message-header">
                    <div class="message-user">John Doe</div>
                    <div class="message-time">10:33 AM</div>
                </div>
                <div class="message-content message-in">I requested a withdrawal 2 days ago but it's still pending</div>
            </div>
        </div>
        <div class="chat-footer">
            <div class="chat-input">
                <input type="text" placeholder="Type your message...">
                <button class="chat-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Initialize AOS animation
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true
        });

        // Global variables
        let authToken = localStorage.getItem('adminToken');
        const API_BASE_URL = 'https://website-backendd-1.onrender.com/api/admin';
        let currentUser = null;
        let activityChart = null;

        // DOM Ready
        $(document).ready(function() {
            // Check authentication status
            checkAuth();

            // Initialize Select2
            $('.form-select').select2({
                width: '100%',
                dropdownParent: $('.modal-container')
            });

            // Initialize DataTables
            initDataTables();

            // Event listeners
            setupEventListeners();

            // Load dashboard data if authenticated
            if (authToken) {
                loadDashboardData();
            }
        });

        // Check authentication status
        function checkAuth() {
            if (authToken) {
                // Verify token with backend
                $.ajax({
                    url: `${API_BASE_URL}/auth/verify`,
                    type: 'GET',
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    },
                    success: function(response) {
                        if (response.success) {
                            currentUser = response.data;
                            $('#loginPage').hide();
                            $('#adminDashboard').show();
                            updateAdminProfile();
                        } else {
                            localStorage.removeItem('adminToken');
                            authToken = null;
                            $('#loginPage').show();
                            $('#adminDashboard').hide();
                        }
                    },
                    error: function() {
                        localStorage.removeItem('adminToken');
                        authToken = null;
                        $('#loginPage').show();
                        $('#adminDashboard').hide();
                    }
                });
            } else {
                $('#loginPage').show();
                $('#adminDashboard').hide();
            }
        }

        // Initialize DataTables
        function initDataTables() {
            $('#usersTable').DataTable({
                responsive: true,
                processing: true,
                serverSide: true,
                ajax: {
                    url: `${API_BASE_URL}/users`,
                    type: 'GET',
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    },
                    dataSrc: 'data'
                },
                columns: [
                    { data: 'id' },
                    { 
                        data: null,
                        render: function(data) {
                            return `<div class="d-flex align-items-center">
                                        <img src="${data.avatar || 'https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1'}" class="avatar-sm me-2">
                                        <div>
                                            ${data.first_name} ${data.last_name}
                                            ${data.verified ? '<i class="fas fa-check-circle verified-badge"></i>' : ''}
                                        </div>
                                    </div>`;
                        }
                    },
                    { data: 'email' },
                    { 
                        data: 'balance',
                        render: function(data) {
                            return `$${parseFloat(data).toFixed(2)}`;
                        }
                    },
                    { 
                        data: 'status',
                        render: function(data) {
                            let badgeClass = 'badge-success';
                            if (data === 'suspended') badgeClass = 'badge-danger';
                            if (data === 'pending') badgeClass = 'badge-warning';
                            return `<span class="badge ${badgeClass}">${data.charAt(0).toUpperCase() + data.slice(1)}</span>`;
                        }
                    },
                    { 
                        data: 'created_at',
                        render: function(data) {
                            return new Date(data).toLocaleDateString();
                        }
                    },
                    {
                        data: null,
                        render: function(data) {
                            return `<div class="d-flex">
                                        <button class="action-btn edit" data-id="${data.id}">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="action-btn delete" data-id="${data.id}">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                        <button class="action-btn view" data-id="${data.id}">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>`;
                        }
                    }
                ]
            });

            // Initialize other DataTables similarly...
            // transactionsTable, withdrawalsTable, depositsTable, plansTable, etc.
        }

        // Setup event listeners
        function setupEventListeners() {
            // Login form
            $('#loginForm').on('submit', function(e) {
                e.preventDefault();
                handleLogin();
            });

            // Logout button
            $('#logoutBtn').on('click', function() {
                handleLogout();
            });

            // Toggle sidebar
            $('#toggleSidebar').on('click', function() {
                $('.admin-container').toggleClass('sidebar-collapsed');
            });

            // Menu items
            $('.menu-item').on('click', function() {
                const section = $(this).data('section');
                showSection(section);
            });

            // Profile dropdown
            $('#adminProfile').on('click', function(e) {
                e.stopPropagation();
                $('#profileDropdown').toggleClass('show');
            });

            // Close dropdowns when clicking outside
            $(document).on('click', function() {
                $('#profileDropdown').removeClass('show');
            });

            // Notification icon
            $('#notificationIcon').on('click', function(e) {
                e.stopPropagation();
                $('#notificationCenter').toggleClass('show');
            });

            // Chat icon
            $('#chatIcon').on('click', function(e) {
                e.stopPropagation();
                $('#chatWidget').toggleClass('show');
            });

            // Close notification center
            $('#closeNotificationCenter').on('click', function() {
                $('#notificationCenter').removeClass('show');
            });

            // Close chat widget
            $('#closeChatWidget').on('click', function() {
                $('#chatWidget').removeClass('show');
            });

            // Add user button
            $('#addUserBtn').on('click', function() {
                $('#addUserModal').addClass('show');
            });

            // Close add user modal
            $('#closeAddUserModal, #cancelAddUser').on('click', function() {
                $('#addUserModal').removeClass('show');
            });

            // Submit add user form
            $('#submitAddUser').on('click', function() {
                addNewUser();
            });

            // Edit user button (delegated for dynamic content)
            $(document).on('click', '.action-btn.edit', function() {
                const userId = $(this).data('id');
                loadUserForEdit(userId);
            });

            // Close edit user modal
            $('#closeEditUserModal, #cancelEditUser').on('click', function() {
                $('#editUserModal').removeClass('show');
            });

            // Submit edit user form
            $('#submitEditUser').on('click', function() {
                updateUser();
            });

            // Add plan button
            $('#addPlanBtn').on('click', function() {
                $('#addPlanModal').addClass('show');
            });

            // Close add plan modal
            $('#closeAddPlanModal, #cancelAddPlan').on('click', function() {
                $('#addPlanModal').removeClass('show');
            });

            // Submit add plan form
            $('#submitAddPlan').on('click', function() {
                addNewPlan();
            });

            // Edit plan button (delegated for dynamic content)
            $(document).on('click', '.action-btn.edit', function() {
                const planId = $(this).data('id');
                loadPlanForEdit(planId);
            });

            // Close edit plan modal
            $('#closeEditPlanModal, #cancelEditPlan').on('click', function() {
                $('#editPlanModal').removeClass('show');
            });

            // Submit edit plan form
            $('#submitEditPlan').on('click', function() {
                updatePlan();
            });

            // Send notification button
            $('#sendNotificationBtn').on('click', function() {
                $('#sendNotificationModal').addClass('show');
            });

            // Close send notification modal
            $('#closeSendNotificationModal, #cancelSendNotification').on('click', function() {
                $('#sendNotificationModal').removeClass('show');
            });

            // Submit send notification form
            $('#submitSendNotification').on('click', function() {
                sendNotification();
            });

            // Process withdrawal button
            $('#processWithdrawalsBtn, #processPendingWithdrawalsBtn').on('click', function() {
                const selected = getSelectedWithdrawals();
                if (selected.length === 0) {
                    toastr.warning('Please select at least one withdrawal to process');
                    return;
                }
                $('#processWithdrawalModal').addClass('show');
                // Load withdrawal details for the first selected
                loadWithdrawalForProcessing(selected[0]);
            });

            // Close process withdrawal modal
            $('#closeProcessWithdrawalModal, #cancelProcessWithdrawal').on('click', function() {
                $('#processWithdrawalModal').removeClass('show');
            });

            // Submit process withdrawal form
            $('#submitProcessWithdrawal').on('click', function() {
                processWithdrawal();
            });

            // Reject withdrawal button
            $('#rejectWithdrawalsBtn, #rejectPendingWithdrawalsBtn').on('click', function() {
                const selected = getSelectedWithdrawals();
                if (selected.length === 0) {
                    toastr.warning('Please select at least one withdrawal to reject');
                    return;
                }
                $('#rejectWithdrawalModal').addClass('show');
                // Load withdrawal details for the first selected
                loadWithdrawalForRejection(selected[0]);
            });

            // Close reject withdrawal modal
            $('#closeRejectWithdrawalModal, #cancelRejectWithdrawal').on('click', function() {
                $('#rejectWithdrawalModal').removeClass('show');
            });

            // Submit reject withdrawal form
            $('#submitRejectWithdrawal').on('click', function() {
                rejectWithdrawal();
            });

            // View transaction button (delegated for dynamic content)
            $(document).on('click', '.action-btn.view', function() {
                const transactionId = $(this).data('id');
                loadTransactionDetails(transactionId);
            });

            // Close view transaction modal
            $('#closeViewTransactionModal, #closeTransactionModal').on('click', function() {
                $('#viewTransactionModal').removeClass('show');
            });

            // View ticket button (delegated for dynamic content)
            $(document).on('click', '.action-btn.view', function() {
                const ticketId = $(this).data('id');
                loadTicketDetails(ticketId);
            });

            // Close view ticket modal
            $('#closeViewTicketModal, #cancelTicketReply').on('click', function() {
                $('#viewTicketModal').removeClass('show');
            });

            // Submit ticket reply form
            $('#submitTicketReply').on('click', function() {
                replyToTicket();
            });

            // Chart period buttons
            $('.period-btn').on('click', function() {
                $('.period-btn').removeClass('active');
                $(this).addClass('active');
                const period = $(this).data('period');
                updateActivityChart(period);
            });

            // Maintenance mode toggle
            $('#maintenanceMode').on('change', function() {
                if ($(this).is(':checked')) {
                    $('#maintenanceMessageGroup').show();
                } else {
                    $('#maintenanceMessageGroup').hide();
                }
            });

            // Notification recipients change
            $('#notificationRecipients').on('change', function() {
                if ($(this).val() === 'specific') {
                    $('#specificUsersGroup').show();
                    loadUsersForNotification();
                } else {
                    $('#specificUsersGroup').hide();
                }
            });

            // Select all withdrawals checkbox
            $('#selectAllWithdrawals, #selectAllPending').on('change', function() {
                const isChecked = $(this).is(':checked');
                $(this).closest('table').find('input[type="checkbox"]').prop('checked', isChecked);
            });
        }

        // Show section
        function showSection(section) {
            $('.menu-item').removeClass('active');
            $(`.menu-item[data-section="${section}"]`).addClass('active');
            
            $('.content-section').removeClass('active');
            $(`#${section}Section`).addClass('active');
            
            $('#pageTitle').text(section.charAt(0).toUpperCase() + section.slice(1));
            
            // Load section data if needed
            switch(section) {
                case 'users':
                    $('#usersTable').DataTable().ajax.reload();
                    break;
                case 'investments':
                    $('#plansTable').DataTable().ajax.reload();
                    $('#activeInvestmentsTable').DataTable().ajax.reload();
                    break;
                case 'transactions':
                    $('#allTransactionsTable').DataTable().ajax.reload();
                    break;
                case 'withdrawals':
                    $('#pendingWithdrawalsTable').DataTable().ajax.reload();
                    break;
                case 'deposits':
                    $('#pendingDepositsTable').DataTable().ajax.reload();
                    break;
                case 'support':
                    $('#openTicketsTable').DataTable().ajax.reload();
                    break;
                case 'notifications':
                    $('#notificationsTable').DataTable().ajax.reload();
                    break;
                case 'reports':
                    $('#reportsTable').DataTable().ajax.reload();
                    break;
            }
        }

        function handleLogin() {
    const email = $('#email').val();
    const password = $('#password').val();

    $('#loginBtnText').hide();
    $('#loginSpinner').show();

    $.ajax({
        url: `${API_BASE_URL}/api/admin/auth/login`,  // Fixed endpoint
        type: 'POST',
        data: JSON.stringify({
            email: email,
            password: password
        }),
        contentType: 'application/json',
        success: function(response) {
            if (response.status === 'success') {
                // Handle 2FA case
                if (response.twoFactorRequired) {
                    show2FAModal(response.data.admin.email);
                    return;
                }

                // Store CSRF token if needed
                if (response.csrfToken) {
                    localStorage.setItem('csrfToken', response.csrfToken);
                }

                currentUser = response.data.admin;
                
                toastr.success('Login successful');
                
                $('#loginPage').hide();
                $('#adminDashboard').show();
                
                updateAdminProfile();
                loadDashboardData();
            } else {
                toastr.error(response.message || 'Login failed');
            }
        },
        error: function(xhr) {
            const error = xhr.responseJSON || {};
            toastr.error(error.message || 'An error occurred during login');
        },
        complete: function() {
            $('#loginBtnText').show();
            $('#loginSpinner').hide();
        }
    });
}
        // Update admin profile in header
        function updateAdminProfile() {
            if (currentUser) {
                $('.profile-name').text(currentUser.first_name + ' ' + currentUser.last_name);
                if (currentUser.avatar) {
                    $('.profile-img').attr('src', currentUser.avatar);
                }
            }
        }

        // Load dashboard data
        function loadDashboardData() {
            // Load stats
            $.ajax({
                url: `${API_BASE_URL}/stats`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const stats = response.data;
                        $('#totalUsers').text(stats.total_users.toLocaleString());
                        $('#userGrowth').text(`${stats.user_growth}%`);
                        $('#totalDeposits').text(`$${stats.total_deposits.toLocaleString()}`);
                        $('#depositGrowth').text(`${stats.deposit_growth}%`);
                        $('#totalWithdrawals').text(`$${stats.total_withdrawals.toLocaleString()}`);
                        $('#withdrawalGrowth').text(`${stats.withdrawal_growth}%`);
                        $('#totalProfit').text(`$${stats.total_profit.toLocaleString()}`);
                        $('#profitGrowth').text(`${stats.profit_growth}%`);
                    }
                }
            });

            // Load recent transactions
            $('#transactionsTable').DataTable().ajax.reload();

            // Initialize activity chart
            initActivityChart();
        }

        // Initialize activity chart
        function initActivityChart() {
            const ctx = document.getElementById('activityChart').getContext('2d');
            
            activityChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        {
                            label: 'Deposits',
                            data: [],
                            borderColor: 'rgba(0, 211, 149, 1)',
                            backgroundColor: 'rgba(0, 211, 149, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Withdrawals',
                            data: [],
                            borderColor: 'rgba(120, 79, 237, 1)',
                            backgroundColor: 'rgba(120, 79, 237, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#E5E5E5'
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(46, 46, 46, 1)'
                            },
                            ticks: {
                                color: '#8E8E8E'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(46, 46, 46, 1)'
                            },
                            ticks: {
                                color: '#8E8E8E'
                            }
                        }
                    }
                }
            });

            // Load initial data for 7 days
            updateActivityChart('7d');
        }

        // Update activity chart data
        function updateActivityChart(period) {
            $.ajax({
                url: `${API_BASE_URL}/activity?period=${period}`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const data = response.data;
                        activityChart.data.labels = data.labels;
                        activityChart.data.datasets[0].data = data.deposits;
                        activityChart.data.datasets[1].data = data.withdrawals;
                        activityChart.update();
                    }
                }
            });
        }

        // Add new user
        function addNewUser() {
            const formData = {
                first_name: $('#userFirstName').val(),
                last_name: $('#userLastName').val(),
                email: $('#userEmail').val(),
                password: $('#userPassword').val(),
                password_confirmation: $('#userConfirmPassword').val(),
                phone: $('#userPhone').val(),
                country: $('#userCountry').val(),
                balance: $('#userBalance').val(),
                status: $('#userStatus').val(),
                verified: $('#userVerification').val() === 'verified'
            };

            $.ajax({
                url: `${API_BASE_URL}/users`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('User added successfully');
                        $('#addUserModal').removeClass('show');
                        $('#usersTable').DataTable().ajax.reload();
                        $('#addUserForm')[0].reset();
                    } else {
                        toastr.error(response.message || 'Failed to add user');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while adding user');
                    }
                }
            });
        }

        // Load user for editing
        function loadUserForEdit(userId) {
            $.ajax({
                url: `${API_BASE_URL}/users/${userId}`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const user = response.data;
                        $('#editUserId').val(user.id);
                        $('#editFirstName').val(user.first_name);
                        $('#editLastName').val(user.last_name);
                        $('#editEmail').val(user.email);
                        $('#editPhone').val(user.phone);
                        $('#editCountry').val(user.country).trigger('change');
                        $('#editBalance').val(user.balance);
                        $('#editStatus').val(user.status).trigger('change');
                        $('#editVerification').val(user.verified ? 'verified' : 'unverified').trigger('change');
                        
                        $('#editUserModal').addClass('show');
                    } else {
                        toastr.error(response.message || 'Failed to load user data');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    toastr.error(error.message || 'An error occurred while loading user data');
                }
            });
        }

        // Update user
        function updateUser() {
            const userId = $('#editUserId').val();
            const formData = {
                first_name: $('#editFirstName').val(),
                last_name: $('#editLastName').val(),
                email: $('#editEmail').val(),
                phone: $('#editPhone').val(),
                country: $('#editCountry').val(),
                balance: $('#editBalance').val(),
                status: $('#editStatus').val(),
                verified: $('#editVerification').val() === 'verified',
                _method: 'PUT'
            };

            const password = $('#editPassword').val();
            if (password) {
                formData.password = password;
                formData.password_confirmation = password;
            }

            $.ajax({
                url: `${API_BASE_URL}/users/${userId}`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('User updated successfully');
                        $('#editUserModal').removeClass('show');
                        $('#usersTable').DataTable().ajax.reload();
                    } else {
                        toastr.error(response.message || 'Failed to update user');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while updating user');
                    }
                }
            });
        }

        // Add new investment plan
        function addNewPlan() {
            const formData = {
                name: $('#planName').val(),
                min_amount: $('#planMinAmount').val(),
                max_amount: $('#planMaxAmount').val() || null,
                duration: $('#planDuration').val(),
                daily_profit: $('#planProfit').val(),
                status: $('#planStatus').val(),
                description: $('#planDescription').val()
            };

            $.ajax({
                url: `${API_BASE_URL}/investment/plans`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('Investment plan added successfully');
                        $('#addPlanModal').removeClass('show');
                        $('#plansTable').DataTable().ajax.reload();
                        $('#addPlanForm')[0].reset();
                    } else {
                        toastr.error(response.message || 'Failed to add investment plan');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while adding investment plan');
                    }
                }
            });
        }

        // Load plan for editing
        function loadPlanForEdit(planId) {
            $.ajax({
                url: `${API_BASE_URL}/investment/plans/${planId}`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const plan = response.data;
                        $('#editPlanId').val(plan.id);
                        $('#editPlanName').val(plan.name);
                        $('#editPlanMinAmount').val(plan.min_amount);
                        $('#editPlanMaxAmount').val(plan.max_amount);
                        $('#editPlanDuration').val(plan.duration);
                        $('#editPlanProfit').val(plan.daily_profit);
                        $('#editPlanStatus').val(plan.status).trigger('change');
                        $('#editPlanDescription').val(plan.description);
                        
                        $('#editPlanModal').addClass('show');
                    } else {
                        toastr.error(response.message || 'Failed to load plan data');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    toastr.error(error.message || 'An error occurred while loading plan data');
                }
            });
        }

        // Update plan
        function updatePlan() {
            const planId = $('#editPlanId').val();
            const formData = {
                name: $('#editPlanName').val(),
                min_amount: $('#editPlanMinAmount').val(),
                max_amount: $('#editPlanMaxAmount').val() || null,
                duration: $('#editPlanDuration').val(),
                daily_profit: $('#editPlanProfit').val(),
                status: $('#editPlanStatus').val(),
                description: $('#editPlanDescription').val(),
                _method: 'PUT'
            };

            $.ajax({
                url: `${API_BASE_URL}/investment/plans/${planId}`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('Investment plan updated successfully');
                        $('#editPlanModal').removeClass('show');
                        $('#plansTable').DataTable().ajax.reload();
                    } else {
                        toastr.error(response.message || 'Failed to update investment plan');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while updating investment plan');
                    }
                }
            });
        }

        // Send notification
        function sendNotification() {
            const formData = {
                recipients: $('#notificationRecipients').val(),
                subject: $('#notificationSubject').val(),
                message: $('#notificationMessage').val(),
                type: $('#notificationType').val(),
                priority: $('#notificationPriority').val()
            };

            if (formData.recipients === 'specific') {
                formData.user_ids = $('#specificUsers').val();
            }

            $.ajax({
                url: `${API_BASE_URL}/notifications`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('Notification sent successfully');
                        $('#sendNotificationModal').removeClass('show');
                        $('#notificationsTable').DataTable().ajax.reload();
                        $('#sendNotificationForm')[0].reset();
                    } else {
                        toastr.error(response.message || 'Failed to send notification');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while sending notification');
                    }
                }
            });
        }

        // Load users for notification
        function loadUsersForNotification() {
            $.ajax({
                url: `${API_BASE_URL}/users/list`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        $('#specificUsers').empty();
                        response.data.forEach(user => {
                            $('#specificUsers').append(`<option value="${user.id}">${user.first_name} ${user.last_name} (${user.email})</option>`);
                        });
                        $('#specificUsers').trigger('change');
                    }
                }
            });
        }

        // Get selected withdrawals
        function getSelectedWithdrawals() {
            const selected = [];
            $('input[type="checkbox"]:checked').each(function() {
                if ($(this).attr('id') !== 'selectAllWithdrawals' && $(this).attr('id') !== 'selectAllPending') {
                    selected.push($(this).closest('tr').data('id'));
                }
            });
            return selected;
        }

        // Load withdrawal for processing
        function loadWithdrawalForProcessing(withdrawalId) {
            $.ajax({
                url: `${API_BASE_URL}/withdrawals/${withdrawalId}`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const withdrawal = response.data;
                        $('#withdrawalId').val(withdrawal.id);
                        $('#withdrawalUser').text(`${withdrawal.user.first_name} ${withdrawal.user.last_name} (${withdrawal.user.email})`);
                        $('#withdrawalAmount').text(`$${withdrawal.amount.toFixed(2)}`);
                        $('#withdrawalMethod').text(withdrawal.method);
                    }
                }
            });
        }

        // Process withdrawal
        function processWithdrawal() {
            const withdrawalId = $('#withdrawalId').val();
            const formData = {
                details: $('#withdrawalDetails').val(),
                notes: $('#withdrawalNotes').val(),
                _method: 'PUT'
            };

            $.ajax({
                url: `${API_BASE_URL}/withdrawals/${withdrawalId}/process`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('Withdrawal processed successfully');
                        $('#processWithdrawalModal').removeClass('show');
                        $('#pendingWithdrawalsTable').DataTable().ajax.reload();
                        $('#processWithdrawalForm')[0].reset();
                    } else {
                        toastr.error(response.message || 'Failed to process withdrawal');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while processing withdrawal');
                    }
                }
            });
        }

        // Load withdrawal for rejection
        function loadWithdrawalForRejection(withdrawalId) {
            $.ajax({
                url: `${API_BASE_URL}/withdrawals/${withdrawalId}`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const withdrawal = response.data;
                        $('#rejectWithdrawalId').val(withdrawal.id);
                        $('#rejectWithdrawalUser').text(`${withdrawal.user.first_name} ${withdrawal.user.last_name} (${withdrawal.user.email})`);
                        $('#rejectWithdrawalAmount').text(`$${withdrawal.amount.toFixed(2)}`);
                    }
                }
            });
        }

        // Reject withdrawal
        function rejectWithdrawal() {
            const withdrawalId = $('#rejectWithdrawalId').val();
            const formData = {
                reason: $('#rejectReason').val(),
                _method: 'PUT'
            };

            $.ajax({
                url: `${API_BASE_URL}/withdrawals/${withdrawalId}/reject`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('Withdrawal rejected successfully');
                        $('#rejectWithdrawalModal').removeClass('show');
                        $('#pendingWithdrawalsTable').DataTable().ajax.reload();
                        $('#rejectWithdrawalForm')[0].reset();
                    } else {
                        toastr.error(response.message || 'Failed to reject withdrawal');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while rejecting withdrawal');
                    }
                }
            });
        }

        // Load transaction details
        function loadTransactionDetails(transactionId) {
            $.ajax({
                url: `${API_BASE_URL}/transactions/${transactionId}`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const transaction = response.data;
                        $('#transactionId').text(transaction.id);
                        $('#transactionUser').text(`${transaction.user.first_name} ${transaction.user.last_name} (${transaction.user.email})`);
                        $('#transactionType').text(transaction.type);
                        $('#transactionAmount').text(`$${transaction.amount.toFixed(2)}`);
                        $('#transactionFee').text(`$${transaction.fee.toFixed(2)}`);
                        $('#transactionNetAmount').text(`$${transaction.net_amount.toFixed(2)}`);
                        $('#transactionMethod').text(transaction.method);
                        $('#transactionStatus').html(`<span class="badge ${getStatusBadgeClass(transaction.status)}">${transaction.status.charAt(0).toUpperCase() + transaction.status.slice(1)}</span>`);
                        $('#transactionDate').text(new Date(transaction.created_at).toLocaleString());
                        $('#transactionDetails').text(transaction.details || 'N/A');
                        
                        $('#viewTransactionModal').addClass('show');
                    }
                }
            });
        }

        // Load ticket details
        function loadTicketDetails(ticketId) {
            $.ajax({
                url: `${API_BASE_URL}/support/tickets/${ticketId}`,
                type: 'GET',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                success: function(response) {
                    if (response.success) {
                        const ticket = response.data;
                        $('#ticketId').text(ticket.id);
                        $('#ticketUser').text(`${ticket.user.first_name} ${ticket.user.last_name} (${ticket.user.email})`);
                        $('#ticketStatus').html(`<span class="badge ${getStatusBadgeClass(ticket.status)}">${ticket.status.charAt(0).toUpperCase() + ticket.status.slice(1)}</span>`);
                        $('#ticketPriority').html(`<span class="badge ${getPriorityBadgeClass(ticket.priority)}">${ticket.priority.charAt(0).toUpperCase() + ticket.priority.slice(1)}</span>`);
                        $('#ticketCreated').text(new Date(ticket.created_at).toLocaleString());
                        $('#ticketSubject').text(ticket.subject);
                        
                        // Load messages
                        $('#ticketMessages').empty();
                        ticket.messages.forEach(message => {
                            const messageClass = message.sender === 'admin' ? 'message-out' : 'message-in';
                            const senderName = message.sender === 'admin' ? 'You' : `${ticket.user.first_name} ${ticket.user.last_name}`;
                            
                            $('#ticketMessages').append(`
                                <div class="chat-message">
                                    <div class="message-header">
                                        <div class="message-user">${senderName}</div>
                                        <div class="message-time">${new Date(message.created_at).toLocaleTimeString()}</div>
                                    </div>
                                    <div class="message-content ${messageClass}">${message.message}</div>
                                </div>
                            `);
                        });
                        
                        $('#viewTicketModal').addClass('show');
                    }
                }
            });
        }

        // Reply to ticket
        function replyToTicket() {
            const ticketId = $('#ticketId').text();
            const formData = {
                message: $('#replyMessage').val(),
                status: $('#ticketStatusUpdate').val(),
                _method: 'PUT'
            };

            $.ajax({
                url: `${API_BASE_URL}/support/tickets/${ticketId}/reply`,
                type: 'POST',
                headers: {
                    'Authorization': `Bearer ${authToken}`
                },
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function(response) {
                    if (response.success) {
                        toastr.success('Reply sent successfully');
                        $('#viewTicketModal').removeClass('show');
                        $('#openTicketsTable').DataTable().ajax.reload();
                        $('#ticketReplyForm')[0].reset();
                    } else {
                        toastr.error(response.message || 'Failed to send reply');
                    }
                },
                error: function(xhr) {
                    const error = xhr.responseJSON || {};
                    if (error.errors) {
                        Object.values(error.errors).forEach(err => {
                            toastr.error(err[0]);
                        });
                    } else {
                        toastr.error(error.message || 'An error occurred while sending reply');
                    }
                }
            });
        }

        // Get status badge class
        function getStatusBadgeClass(status) {
            switch(status) {
                case 'active':
                case 'completed':
                case 'processed':
                case 'verified':
                    return 'badge-success';
                case 'pending':
                    return 'badge-warning';
                case 'suspended':
                case 'failed':
                case 'rejected':
                    return 'badge-danger';
                default:
                    return 'badge-info';
            }
        }

        // Get priority badge class
        function getPriorityBadgeClass(priority) {
            switch(priority) {
                case 'high':
                    return 'badge-danger';
                case 'medium':
                    return 'badge-warning';
                case 'low':
                    return 'badge-success';
                default:
                    return 'badge-info';
            }
        }

        // Initialize toastr
        toastr.options = {
            positionClass: 'toast-top-right',
            progressBar: true,
            timeOut: 5000,
            extendedTimeOut: 1000,
            closeButton: true,
            newestOnTop: true
        };
    </script>
</body>
</html>
