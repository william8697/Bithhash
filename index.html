<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BitHash | Leading BTC Cloud Mining Platform</title>
    <meta name="description" content="Start cloud mining Bitcoin with BitHash. Invest in our mining plans and earn daily rewards from our industrial mining facilities.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rowdies:wght@300;400;700&family=Inter:wght@300;400;500;600;700&family=Manrope:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" type="image/png">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17721052671"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'AW-17721052671');
    </script>
    
    <style>
        :root {
            /* Crypto.com Brand Colors */
            --primary: #1036EF; /* Crypto.com blue */
            --primary-dark: #0A2AC4;
            --primary-light: #1A4FFF;
            --secondary: #121212;
            --secondary-dark: #0A0A0A;
            --dark: #E5E5E5;
            --darker: #000000; /* Pure black */
            --light: #121212;
            --lighter: #1A1A1A;
            --gray: #8E8E8E;
            --gray-light: #2E2E2E;
            --gray-lighter: #252525;
            --success: #00D395;
            --warning: #FFB800;
            --error: #FF3D57;
            --gold: #D4AF37;
            --gold-light: #FFD700;
            --gold-dark: #996515;
            --blue: #1036EF;
            --blue-dark: #0A2AC4;
            --blue-light: #1A4FFF;
            --purple: #784FED;
            --pink: #EC4899;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            --gold-gradient: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
            --blue-gradient: linear-gradient(135deg, var(--blue) 0%, var(--blue-dark) 100%);
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --security-blue: #1A73E8;
            --security-green: #34A853;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Bitcoin Logo Animation */
        @keyframes bitcoinFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(90deg); }
            50% { transform: translateY(0) rotate(180deg); }
            75% { transform: translateY(-10px) rotate(270deg); }
        }

        .bitcoin-animation {
            display: inline-block;
            animation: bitcoinFloat 4s ease-in-out infinite;
            margin-right: 5px;
            vertical-align: middle;
            color: var(--gold);
            text-shadow: 0 0 10px var(--gold-light);
            font-weight: bold;
            transform-origin: center;
        }

        /* Mining Animation */
        @keyframes miningPulse {
            0% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; text-shadow: 0 0 10px var(--gold-light); }
            100% { transform: scale(1); opacity: 0.8; }
        }

        .mining-animation {
            display: inline-block;
            animation: miningPulse 2s ease-in-out infinite;
            color: var(--gold);
        }

        /* Security Badge */
        .security-badge {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--darker);
            padding: 12px 16px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 100;
            border-left: 4px solid var(--security-green);
            color: var(--dark);
            border: 1px solid var(--gray-light);
        }
        
        .security-badge i {
            color: var(--security-green);
            font-size: 1rem;
        }
        
        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--darker);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-logo {
            width: 80px;
            height: 80px;
            animation: pulse 1.5s infinite ease-in-out;
            filter: drop-shadow(0 0 10px rgba(16, 54, 239, 0.3));
        }
        
        .loading-text {
            margin-top: 20px;
            font-weight: 500;
            color: var(--gray);
            font-size: 1rem;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Enhanced Header Styles */
        header {
            background-color: var(--darker);
            box-shadow: var(--box-shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 8px 0;
            transition: var(--transition-slow);
            border-bottom: 1px solid var(--gray-light);
            height: 70px;
        }
        
        header.scrolled {
            background-color: rgba(0, 0, 0, 0.98);
            backdrop-filter: blur(5px);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            height: 100%;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            z-index: 1001;
        }
        
        .logo img {
            height: 32px;
            width: auto;
            transition: var(--transition);
        }
        
        .logo:hover img {
            transform: scale(1.05);
        }
        
        .logo-text {
            font-family: 'Rowdies', sans-serif;
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary);
            background-clip: text;
            position: relative;
        }
        
        /* Language Selector Styles */
        .language-selector {
            position: relative;
            margin-right: 15px;
        }
        
        .language-dropdown-btn {
            background: var(--lighter);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            padding: 8px 12px;
            color: var(--dark);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            transition: var(--transition);
            min-width: 120px;
        }
        
        .language-dropdown-btn:hover {
            background: var(--gray-light);
            border-color: var(--primary);
        }
        
        .language-dropdown-btn i {
            font-size: 0.8rem;
            transition: var(--transition);
        }
        
        .language-dropdown-btn.active i {
            transform: rotate(180deg);
        }
        
        .language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 280px;
            background: var(--darker);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            margin-top: 5px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: var(--transition);
            z-index: 1002;
            max-height: 400px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .language-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .language-search {
            padding: 12px;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .language-search input {
            width: 100%;
            padding: 8px 12px;
            background: var(--light);
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            color: var(--dark);
            font-size: 0.85rem;
        }
        
        .language-search input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .language-list {
            flex: 1;
            overflow-y: auto;
            max-height: 300px;
        }
        
        .language-option {
            padding: 10px 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .language-option:last-child {
            border-bottom: none;
        }
        
        .language-option:hover {
            background: var(--gray-light);
        }
        
        .language-option.active {
            background: var(--primary);
            color: var(--darker);
        }
        
        .language-flag {
            width: 20px;
            height: 15px;
            border-radius: 2px;
            object-fit: cover;
        }
        
        .language-name {
            flex: 1;
            font-size: 0.85rem;
        }
        
        .language-code {
            color: var(--gray);
            font-size: 0.75rem;
        }
        
        .language-option.active .language-code {
            color: var(--darker);
        }
        
        .language-pagination {
            display: flex;
            justify-content: space-between;
            padding: 10px 15px;
            border-top: 1px solid var(--gray-light);
            background: var(--lighter);
        }
        
        .language-pagination-btn {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 0.8rem;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }
        
        .language-pagination-btn:hover:not(:disabled) {
            background: var(--gray-light);
        }
        
        .language-pagination-btn:disabled {
            color: var(--gray);
            cursor: not-allowed;
        }
        
        .language-pagination-info {
            color: var(--gray);
            font-size: 0.8rem;
            display: flex;
            align-items: center;
        }
        
        /* Auth Buttons */
        .auth-buttons {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .auth-buttons .btn {
            padding: 6px 12px;
            font-size: 0.85rem;
        }
        
        /* Enhanced User Balance Container */
        .user-balance-container {
            width: 100%;
            background-color: var(--lighter);
            padding: 8px 0;
            position: fixed;
            top: 70px;
            z-index: 999;
            border-bottom: 1px solid var(--gray-light);
            display: none;
        }
        
        .user-balances {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .user-balance {
            background-color: var(--primary);
            color: var(--darker);
            padding: 6px 12px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
        }
        
        .user-balance:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
        }
        
        .user-balance i {
            font-size: 0.85rem;
        }
        
        /* Matured Balance Animation */
        @keyframes pulseHighlight {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 54, 239, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(16, 54, 239, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 54, 239, 0); }
        }
        
        @keyframes glow {
            0% { text-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
            50% { text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.6); }
            100% { text-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
        }
        
        .matured-balance-animation {
            animation: pulseHighlight 2s ease-in-out infinite, glow 3s ease-in-out infinite;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%) !important;
            color: var(--darker) !important;
            position: relative;
            overflow: hidden;
        }
        
        .matured-balance-animation::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.8) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            animation: shine 3s ease-in-out infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(30deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(30deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(30deg); }
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--dark);
            font-size: 1.3rem;
            cursor: pointer;
            padding: 5px;
            z-index: 1001;
            transition: var(--transition);
        }
        
        .mobile-menu-toggle:hover {
            color: var(--primary);
        }
        
        .mobile-menu-dropdown {
            position: absolute;
            top: 70px;
            right: 20px;
            background-color: var(--darker);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 10px 0;
            transform: translateY(-20px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 1000;
            border: 1px solid var(--gray-light);
            min-width: 200px;
        }
        
        .mobile-menu-dropdown.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .mobile-menu-dropdown ul {
            list-style: none;
        }
        
        .mobile-menu-dropdown li {
            padding: 8px 15px;
        }
        
        .mobile-menu-dropdown a {
            color: var(--dark);
            text-decoration: none;
            font-size: 0.9rem;
            transition: var(--transition);
            display: block;
        }
        
        .mobile-menu-dropdown a:hover {
            color: var(--primary);
        }
        
        /* PC Toggle Menu */
        .pc-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--dark);
            font-size: 1.1rem;
            cursor: pointer;
            padding: 5px;
            z-index: 1001;
            transition: var(--transition);
            margin-left: 15px;
        }
        
        .pc-menu-toggle:hover {
            color: var(--primary);
        }
        
        .pc-menu-dropdown {
            position: absolute;
            top: 70px;
            right: 20px;
            background-color: var(--darker);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 10px 0;
            transform: translateY(-20px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 1000;
            border: 1px solid var(--gray-light);
            min-width: 200px;
        }
        
        .pc-menu-dropdown.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .pc-menu-dropdown ul {
            list-style: none;
        }
        
        .pc-menu-dropdown li {
            padding: 8px 15px;
        }
        
        .pc-menu-dropdown a {
            color: var(--dark);
            text-decoration: none;
            font-size: 0.9rem;
            transition: var(--transition);
            display: block;
        }
        
        .pc-menu-dropdown a:hover {
            color: var(--primary);
        }
        
        nav {
            transition: var(--transition-slow);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            font-size: 0.9rem;
            padding: 3px 0;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            white-space: nowrap;
        }
        
        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 54, 239, 0.3);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 54, 239, 0.4);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
        
        .btn-gold {
            background: var(--gold-gradient);
            color: var(--darker);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }
        
        .btn-gold:hover {
            background: linear-gradient(135deg, var(--gold-light) 0%, var(--gold) 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }

        /* Announcement System */
        .announcement-center {
            position: fixed;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9998;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            width: 100%;
            max-width: 550px;
            padding: 0 15px;
        }

        .announcement {
            width: 100%;
            padding: 18px 22px;
            border-radius: var(--border-radius-lg);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4), 0 2px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: flex-start;
            gap: 16px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(-25px) scale(0.95);
            opacity: 0;
            margin-bottom: 12px;
            font-size: 0.92rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.98) 100%);
            border: 1px solid rgba(0, 0, 0, 0.08);
            pointer-events: auto;
            position: relative;
            border-left: 6px solid var(--error);
            color: #1a1a1a;
            min-height: auto;
            max-height: none;
            overflow: visible;
            word-wrap: break-word;
            word-break: break-word;
            white-space: normal;
            line-height: 1.6;
        }

        .announcement.show {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .announcement.error {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(253, 242, 242, 0.98) 100%);
            color: #1a1a1a;
            border-left: 6px solid var(--error);
            box-shadow: 0 8px 30px rgba(255, 61, 87, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .announcement.warning {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 250, 235, 0.98) 100%);
            color: #1a1a1a;
            border-left: 6px solid var(--warning);
            box-shadow: 0 8px 30px rgba(255, 184, 0, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .announcement.info {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(235, 248, 255, 0.98) 100%);
            color: #1a1a1a;
            border-left: 6px solid var(--primary);
            box-shadow: 0 8px 30px rgba(16, 54, 239, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .announcement i {
            font-size: 1.4rem;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .announcement.error i {
            color: var(--error);
        }

        .announcement.warning i {
            color: var(--warning);
        }

        .announcement.info i {
            color: var(--primary);
        }

        .announcement-content {
            flex: 1;
            padding-right: 12px;
            overflow: visible;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
        }

        .announcement-title {
            font-weight: 700;
            margin-bottom: 0;
            font-size: 1.1rem;
            color: #000000 !important;
            white-space: normal;
            overflow: visible;
            text-overflow: unset;
            line-height: 1.3;
            letter-spacing: -0.01em;
            display: block;
            text-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
        }

        .announcement-message {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #2d3748 !important;
            white-space: normal;
            overflow: visible;
            text-overflow: unset;
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .announcement-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            margin-top: 16px;
            color: var(--primary) !important;
            white-space: nowrap;
            border-top: 1px solid rgba(16, 54, 239, 0.3);
            padding-top: 16px;
            gap: 0;
            font-weight: 600 !important;
            width: 100%;
        }

        .announcement-sender {
            font-weight: 600 !important;
            color: var(--primary) !important;
            white-space: nowrap;
            overflow: visible;
            text-overflow: unset;
        }

        .announcement-date {
            opacity: 0.9;
            color: var(--primary) !important;
            font-weight: 600 !important;
            white-space: nowrap;
        }

        .announcement-close {
            position: absolute;
            top: 14px;
            right: 14px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.05);
            border: none;
            color: #718096;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.95rem;
            padding: 0;
            opacity: 0.8;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .announcement-close:hover {
            background-color: rgba(0, 0, 0, 0.1);
            transform: scale(1.1);
            color: #2d3748;
            opacity: 1;
        }

        /* Notification System */
        .notification-center {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            justify-content: flex-start;
            pointer-events: none;
            width: 100%;
            max-width: 350px;
        }

        .notification {
            width: 100%;
            padding: 12px 16px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: start;
            gap: 10px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform: translateX(30px) scale(0.95);
            opacity: 0;
            margin-bottom: 10px;
            font-size: 0.75rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
            background-color: rgba(30, 30, 30, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            pointer-events: auto;
            position: relative;
        }

        .notification.show {
            transform: translateX(0) scale(1);
            opacity: 1;
        }

        .notification.error {
            background-color: rgba(255, 61, 87, 0.95);
            color: white;
            border-left: 4px solid #cc2c4d;
        }

        .notification.success {
            background-color: rgba(0, 211, 149, 0.95);
            color: var(--darker);
            border-left: 4px solid #00B783;
        }

        .notification.warning {
            background-color: rgba(255, 184, 0, 0.95);
            color: var(--darker);
            border-left: 4px solid #e6a600;
        }

        .notification i {
            font-size: 1rem;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .notification-content {
            flex: 1;
            padding-right: 10px;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 0.85rem;
        }

        .notification-message {
            font-size: 0.75rem;
            line-height: 1.4;
        }

        .notification-close {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.7rem;
        }

        .notification-close:hover {
            background-color: rgba(0, 0, 0, 0.2);
            transform: rotate(90deg);
        }

        /* Loan Qualification Popup */
        .loan-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--darker);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 15px;
            width: 300px;
            z-index: 999;
            transform: translateY(-20px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            border-left: 4px solid var(--primary);
            font-size: 0.8rem;
        }

        .loan-popup.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .loan-popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .loan-popup-title {
            font-weight: 600;
            color: var(--primary);
            font-size: 0.9rem;
        }

        .loan-popup-close {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .loan-popup-content {
            font-size: 0.8rem;
            color: var(--dark);
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .loan-popup-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .loan-popup-btn {
            padding: 6px 12px;
            border-radius: var(--border-radius);
            font-size: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .loan-popup-btn-primary {
            background: var(--gradient);
            color: white;
        }

        .loan-popup-btn-secondary {
            background-color: var(--gray-light);
            color: var(--dark);
        }

        /* Hero Section */
        .hero-section {
            padding: 140px 0 80px;
            background-color: var(--light);
            position: relative;
            overflow: hidden;
        }

        .hero-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }

        .hero-content {
            max-width: 600px;
        }

        .hero-content h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            color: var(--dark);
            line-height: 1.2;
        }

        .hero-content h1 span {
            color: var(--primary);
        }

        .hero-content p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            color: var(--gray);
        }

        /* Bitcoin Price Container */
        .btc-price-container {
            width: 100%;
            max-width: 380px;
            background: var(--darker);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-lg);
            overflow: hidden;
            border: 1px solid var(--gray-light);
            transition: var(--transition);
        }

        .btc-price-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--gold);
        }

        .btc-price-header {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(10, 10, 10, 0.8) 100%);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid var(--gray-light);
        }

        .btc-price-header i {
            font-size: 1.5rem;
            color: var(--gold);
        }

        .btc-price-header h3 {
            font-size: 1.2rem;
            color: var(--dark);
            margin: 0;
        }

        .btc-price-display {
            padding: 20px;
        }

        .btc-price-main {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .btc-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--gold);
            font-family: 'Manrope', sans-serif;
        }

        .btc-change {
            padding: 5px 10px;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .btc-change.positive {
            background-color: rgba(0, 211, 149, 0.2);
            color: var(--success);
        }

        .btc-change.negative {
            background-color: rgba(255, 61, 87, 0.2);
            color: var(--error);
        }

        .btc-price-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btc-price-detail {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .btc-price-detail span:first-child {
            font-size: 0.8rem;
            color: var(--gray);
        }

        .btc-price-detail span:last-child {
            font-size: 0.95rem;
            color: var(--dark);
            font-weight: 500;
        }

        .btc-price-footer {
            padding: 10px 20px;
            background-color: var(--gray-light);
            font-size: 0.7rem;
            color: var(--gray);
            text-align: center;
        }

        /* Stats Section */
        .stats-section {
            padding: 80px 0;
            background-color: var(--lighter);
            position: relative;
            overflow: hidden;
        }

        .stats-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(16, 54, 239, 0.05) 0%, rgba(0, 0, 0, 0) 100%);
            z-index: 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 30px;
            position: relative;
            z-index: 1;
        }

        .stat-card {
            background-color: var(--light);
            border-radius: var(--border-radius-lg);
            padding: 30px;
            text-align: center;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
            border: 1px solid var(--gray-light);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 150%;
            height: 100%;
            background: linear-gradient(135deg, rgba(16, 54, 239, 0.1) 0%, rgba(0, 0, 0, 0) 100%);
            opacity: 0;
            transition: var(--transition);
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, var(--light) 0%, var(--lighter) 100%);
        }

        .stat-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1);
            color: var(--primary-light);
        }

        .stat-number {
            font-size: clamp(0.9rem, 1.5vw, 1.4rem);
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 10px;
            font-family: 'Manrope', sans-serif;
            transition: var(--transition);
        }

        .stat-card:hover .stat-number {
            color: var(--primary);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--gray);
            line-height: 1.5;
            min-height: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* About Section */
        .about-section {
            padding: 80px 0;
            background-color: var(--lighter);
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 2.2rem;
            color: var(--dark);
            margin-bottom: 15px;
        }

        .section-title p {
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }

        .about-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .about-image {
            position: relative;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow-lg);
        }

        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .about-content h3 {
            font-size: 1.6rem;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .about-content p {
            margin-bottom: 20px;
            color: var(--gray);
            font-size: 1rem;
        }

        /* Enhanced Plans Section */
        .plans-section {
            padding: 80px 0;
            background-color: var(--light);
            position: relative;
            overflow: hidden;
        }

        .plans-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(16, 54, 239, 0.05) 0%, transparent 30%);
            pointer-events: none;
        }

        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .plan-card {
            background-color: var(--lighter);
            border-radius: var(--border-radius-lg);
            padding: 35px 30px;
            box-shadow: var(--box-shadow);
            transition: var(--transition-slow);
            position: relative;
            overflow: hidden;
            z-index: 1;
            border: 1px solid var(--gray-light);
            display: flex;
            flex-direction: column;
        }

        .plan-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--plan-primary) 0%, var(--plan-secondary) 100%);
            opacity: 0.1;
            z-index: -1;
            transition: var(--transition-slow);
        }

        .plan-card:hover::before {
            opacity: 0.2;
        }

        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--plan-accent);
        }

        /* Cloud Mining Image Container */
        .cloud-mining-image {
            width: 100%;
            height: 180px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 20px;
            position: relative;
        }

        .cloud-mining-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .plan-card:hover .cloud-mining-image img {
            transform: scale(1.05);
        }

        .cloud-mining-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--gradient);
            color: white;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .plan-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark);
            transition: var(--transition);
        }

        .plan-card:hover .plan-name {
            color: var(--plan-accent);
        }

        .plan-description {
            font-size: 1rem;
            color: var(--gray);
            margin-bottom: 20px;
            min-height: 60px;
        }

        .mining-explanation {
            background: rgba(16, 54, 239, 0.1);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
        }

        .mining-explanation h4 {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mining-explanation p {
            color: var(--gray);
            font-size: 0.85rem;
            line-height: 1.5;
        }

        .plan-features {
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .plan-feature {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            font-size: 0.95rem;
            color: var(--gray);
        }

        .plan-feature i {
            color: var(--plan-accent);
            font-size: 0.9rem;
            width: 20px;
            text-align: center;
        }

        .plan-limits {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            padding-top: 15px;
            border-top: 1px solid var(--gray-light);
            font-size: 0.9rem;
        }

        .plan-min, .plan-max {
            display: flex;
            flex-direction: column;
        }

        .plan-min span:first-child, .plan-max span:first-child {
            color: var(--gray);
            font-size: 0.8rem;
        }

        .plan-min span:last-child, .plan-max span:last-child {
            color: var(--dark);
            font-weight: 600;
        }

        .plan-button {
            width: 100%;
            padding: 12px 20px;
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: var(--border-radius);
            background-color: var(--light);
            color: var(--dark);
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: auto;
        }

        .plan-button i {
            font-size: 1rem;
        }

        .plan-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .plan-card:hover .plan-button {
            background: linear-gradient(135deg, var(--plan-primary) 0%, var(--plan-secondary) 100%);
            color: white;
        }

        /* Investment Modal */
        .investment-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(10, 10, 10, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
            backdrop-filter: blur(5px);
            padding: 20px;
            overflow-y: auto;
        }

        .investment-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--lighter);
            border-radius: var(--border-radius-lg);
            width: 100%;
            max-width: 500px;
            box-shadow: var(--box-shadow-lg);
            transform: translateY(20px);
            transition: var(--transition-slow);
            border: 1px solid var(--gray-light);
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .investment-modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background-color: var(--lighter);
            z-index: 10;
        }

        .modal-header h3 {
            font-size: 1.4rem;
            color: var(--dark);
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--primary);
        }

        .modal-body {
            padding: 25px;
        }

        .plan-details {
            margin-bottom: 25px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray-light);
        }

        .detail-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .detail-label {
            color: var(--gray);
            font-size: 0.95rem;
        }

        .detail-value {
            color: var(--dark);
            font-weight: 600;
        }

        .investment-form {
            margin-top: 20px;
        }

        .investment-form .form-group {
            margin-bottom: 20px;
        }

        .investment-form label {
            display: block;
            margin-bottom: 8px;
            color: var(--gray);
            font-size: 0.95rem;
        }

        .investment-form .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
            background-color: var(--light);
            color: var(--dark);
            font-size: 1rem;
            transition: var(--transition);
        }

        .investment-form .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(16, 54, 239, 0.2);
        }

        .amount-error {
            color: var(--error);
            font-size: 0.85rem;
            margin-top: 5px;
            min-height: 18px;
        }

        .expected-return {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 25px 0;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            font-size: 1.05rem;
        }

        .expected-return span:first-child {
            color: var(--gray);
        }

        .expected-return span:last-child {
            color: var(--primary);
            font-weight: 600;
        }

        #confirm-investment {
            width: 100%;
            padding: 14px;
            font-size: 1rem;
        }

        .investment-status {
            margin-top: 15px;
            text-align: center;
            font-size: 0.9rem;
            min-height: 20px;
        }

        /* Balance Selector */
        .balance-selector {
            margin: 15px 0;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .balance-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .balance-option:hover {
            background: rgba(255,255,255,0.05);
        }

        .balance-option.selected {
            background: rgba(16, 54, 239, 0.1);
            border-color: var(--primary);
        }

        .balance-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .balance-radio {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .balance-option.selected .balance-radio {
            border-color: var(--primary);
        }

        .balance-option.selected .balance-radio::after {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
        }

        .balance-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .balance-info i {
            color: var(--primary);
            font-size: 1.1rem;
        }

        .balance-details {
            display: flex;
            flex-direction: column;
        }

        .balance-name {
            font-weight: 600;
            color: var(--dark);
        }

        .balance-amount {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* Fee Information */
        .fee-info {
            background: rgba(255, 184, 0, 0.1);
            border-left: 4px solid var(--warning);
            padding: 12px 15px;
            margin: 15px 0;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .fee-info i {
            color: var(--warning);
            margin-right: 8px;
        }

        /* How It Works Section */
        .how-it-works-section {
            padding: 80px 0;
            background-color: var(--lighter);
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-top: 40px;
        }

        .step-card {
            background-color: var(--light);
            border-radius: var(--border-radius-lg);
            padding: 25px;
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .step-number {
            width: 45px;
            height: 45px;
            background: var(--gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            margin: 0 auto 15px;
        }

        .step-card h3 {
            font-size: 1.2rem;
            margin-bottom: 12px;
            color: var(--dark);
        }

        .step-card p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Mining Video Section */
        .mining-video-section {
            padding: 80px 0;
            background-color: var(--light);
            text-align: center;
        }

        .video-container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow-lg);
        }

        .video-container video {
            width: 100%;
            display: block;
            object-fit: cover;
        }

        /* Loans Section */
        .loans-section {
            padding: 80px 0;
            background-color: var(--blue);
        }

        .loans-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .loan-calculator {
            background-color: var(--blue-dark);
            border-radius: var(--border-radius-lg);
            padding: 35px;
            box-shadow: var(--box-shadow);
            color: white;
        }

        .loan-calculator h3 {
            font-size: 1.4rem;
            margin-bottom: 20px;
            text-align: center;
            color: white;
        }

        .form-group {
            margin-bottom: 18px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: white;
            font-size: 0.95rem;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--blue-light);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
            background-color: rgba(0, 0, 0, 0.2);
            color: white;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(16, 54, 239, 0.2);
        }

        /* BTC News Section */
        .btc-news-section {
            padding: 80px 0;
            background-color: var(--lighter);
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-top: 40px;
            min-height: 300px;
        }

        .news-card {
            background-color: var(--light);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .news-image-container {
            height: 180px;
            overflow: hidden;
            position: relative;
        }

        .news-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .news-card:hover .news-image {
            transform: scale(1.05);
        }

        .news-content {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .news-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--dark);
            line-height: 1.4;
            flex: 1;
        }

        .news-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 0.8rem;
            color: var(--gray);
        }

        .news-source {
            font-weight: 600;
            color: var(--primary);
        }

        .news-date {
            color: var(--gray);
        }

        .news-navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
        }

        #news-page-info {
            font-size: 0.9rem;
            color: var(--gray);
            min-width: 80px;
            text-align: center;
        }

        .news-loading {
            grid-column: 1 / -1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 0;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(16, 54, 239, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* News Modal */
        .news-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
            padding: 20px;
        }

        .news-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .news-modal-content {
            background-color: var(--darker);
            border-radius: var(--border-radius-lg);
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--box-shadow-lg);
        }

        .news-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1;
            transition: var(--transition);
        }

        .news-modal-close:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }

        .news-modal-header {
            position: relative;
            height: 250px;
            overflow: hidden;
        }

        #news-modal-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .news-modal-header-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        }

        #news-modal-title {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .news-modal-meta {
            display: flex;
            gap: 15px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .news-modal-body {
            padding: 30px;
        }

        #news-modal-description {
            color: var(--dark);
            margin-bottom: 25px;
            line-height: 1.6;
            font-size: 1rem;
        }

        /* CTA Section */
        .cta-section {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--darker) 0%, var(--light) 100%);
            text-align: center;
            color: white;
        }

        .cta-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .cta-container h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
        }

        .cta-container p {
            margin-bottom: 30px;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Footer */
        footer {
            background-color: var(--darker);
            color: white;
            padding: 50px 0 20px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .footer-logo img {
            height: 28px;
            width: auto;
        }

        .footer-logo-text {
            font-family: 'Rowdies', sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary);
        }

        .footer-about p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .footer-social {
            display: flex;
            gap: 10px;
        }

        .social-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: white;
        }

        .social-icon.twitter {
            background-color: #1DA1F2;
        }

        .social-icon.linkedin {
            background-color: #0077B5;
        }

        .social-icon.facebook {
            background-color: #1877F2;
        }

        .social-icon.instagram {
            background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D, #F56040, #F77737, #FCAF45, #FFDC80);
        }

        .social-icon:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .footer-title {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: white;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
            font-size: 0.9rem;
            display: inline-block;
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(3px);
        }

        .footer-contact p {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 12px;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .footer-contact i {
            color: var(--primary);
            width: 18px;
            text-align: center;
            margin-top: 2px;
            font-size: 0.9rem;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 20px;
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
            .hero-container, .about-container {
                gap: 30px;
            }

            .plans-grid, .steps-container, .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }

            .pc-menu-toggle {
                display: block;
            }

            nav {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }

            .pc-menu-toggle {
                display: none;
            }

            nav {
                display: none;
            }

            .hero-container, .about-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-image {
                order: -1;
            }

            .about-image {
                order: -1;
            }

            .plans-grid, .steps-container, .stats-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin: 40px auto 0;
            }

            .footer-container {
                grid-template-columns: 1fr;
                gap: 25px;
            }

            .header-container {
                flex-wrap: wrap;
                padding: 10px 15px;
            }

            .auth-buttons {
                order: 3;
                width: 100%;
                justify-content: center;
                margin-top: 15px;
                display: none;
            }

            .auth-buttons.active {
                display: flex;
            }

            .user-balance-container {
                display: none;
            }

            .user-balance-container.active {
                display: block;
            }
        }

        @media (max-width: 480px) {
            .hero-section {
                padding: 120px 0 60px;
            }

            .hero-content h1, .section-title h2 {
                font-size: 2rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .section-title h2 {
                margin-bottom: 10px;
            }

            .section-title p {
                font-size: 0.95rem;
            }

            .loan-calculator {
                padding: 25px 15px;
            }

            .btn {
                padding: 10px 18px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
        <div class="loading-text">Establishing Secure Connection</div>
    </div>

    <!-- Security Badge -->
    <div class="security-badge">
        <i class="fas fa-shield-alt"></i>
        <span>256-bit AES & TLS 1.3 Encrypted</span>
    </div>

    <!-- Enhanced Announcement System -->
    <div class="announcement-center" id="announcement-center">
        <!-- Announcements will be dynamically inserted here -->
    </div>

    <!-- Critical Error Notification System -->
    <div class="notification-center" id="notification-center">
        <!-- Critical error notifications will be dynamically inserted here -->
    </div>

    <!-- Loan Qualification Popup -->
    <div class="loan-popup" id="loan-popup">
        <div class="loan-popup-header">
            <div class="loan-popup-title">Loan Qualification</div>
            <button class="loan-popup-close" id="loan-popup-close">&times;</button>
        </div>
        <div class="loan-popup-content" id="loan-popup-content">
            <!-- Content will be dynamically inserted here -->
        </div>
        <div class="loan-popup-footer">
            <button class="loan-popup-btn loan-popup-btn-secondary" id="loan-popup-cancel">Cancel</button>
            <button class="loan-popup-btn loan-popup-btn-primary" id="loan-popup-apply">Apply Now</button>
        </div>
    </div>

    <!-- Enhanced Header -->
    <header id="main-header">
        <div class="container header-container">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
                <span class="logo-text">
                    <span class="bitcoin-animation"></span>itHash
                </span>
            </div>
            
            <!-- Language Selector -->
            <div class="language-selector">
                <button class="language-dropdown-btn" id="language-dropdown-btn">
                    <i class="fas fa-globe"></i>
                    <span id="current-language">English</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="language-dropdown" id="language-dropdown">
                    <div class="language-search">
                        <input type="text" id="language-search" placeholder="Search languages...">
                    </div>
                    <div class="language-list" id="language-list">
                        <!-- Languages will be dynamically loaded from backend -->
                    </div>
                    <div class="language-pagination">
                        <button class="language-pagination-btn" id="language-prev" disabled>
                            <i class="fas fa-chevron-left"></i> Prev
                        </button>
                        <span class="language-pagination-info" id="language-page-info">Page 1 of 5</span>
                        <button class="language-pagination-btn" id="language-next">
                            Next <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            
            <button class="pc-menu-toggle" id="pc-menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-ellipsis-v"></i>
            </button>
            
            <div class="mobile-menu-dropdown" id="mobile-menu-dropdown">
                <ul>
                    <li><a href="#plans">Cloud Mining Plans</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            
            <div class="pc-menu-dropdown" id="pc-menu-dropdown">
                <ul>
                    <li><a href="#plans">Cloud Mining Plans</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="#plans">Cloud Mining Plans</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            
            <div class="auth-buttons" id="auth-buttons">
                <button class="btn btn-outline" onclick="window.location.href='login.html'">Login</button>
                <button class="btn btn-primary" onclick="window.location.href='signup.html'">Sign Up</button>
            </div>
        </div>
    </header>

    <!-- Enhanced User Balance Container -->
    <div class="user-balance-container" id="user-balance-container">
        <div class="container">
            <div class="user-balances">
                <div class="user-balance" id="main-balance" onclick="redirectToDashboard()">
                    <i class="fas fa-wallet"></i>
                    <span id="main-balance-amount">Main: $0.00</span>
                </div>
                <div class="user-balance" id="matured-balance" onclick="redirectToDashboard()">
                    <i class="fas fa-piggy-bank"></i>
                    <span id="matured-balance-amount">Matured: $0.00</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section" id="home">
        <div class="container">
            <div class="hero-container">
                <div class="hero-content" data-aos="fade-right">
                    <h1><span class="bitcoin-animation"></span>itcoin Cloud Mining Powered <span>by Industrial Infrastructure</span></h1>
                    <p>Join BitHash and invest in our cloud mining plans. Your investment purchases hash power from our industrial Bitcoin mining facilities. Earn daily rewards based on actual mining output.</p>
                    
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="window.location.href='signup.html'">Start Cloud Mining</button>
                        <button class="btn btn-outline" onclick="window.location.href='#plans'">View Mining Plans</button>
                    </div>
                    
                    <!-- Security Indicators -->
                    <div class="security-indicator">
                        <i class="fas fa-lock"></i>
                        <span>256-bit AES Encryption</span>
                    </div>
                    <div class="security-indicator">
                        <i class="fas fa-shield-alt"></i>
                        <span>Multi-Signature Wallets</span>
                    </div>
                    <div class="security-indicator">
                        <i class="fas fa-user-shield"></i>
                        <span>SOC 2 Type II Certified</span>
                    </div>
                </div>
                <div class="hero-image" data-aos="fade-left">
                    <div class="btc-price-container">
                        <div class="btc-price-header">
                            <i class="fab fa-bitcoin"></i>
                            <h3>Bitcoin Price</h3>
                        </div>
                        <div class="btc-price-display">
                            <div class="btc-price-main">
                                <span class="btc-price" id="btc-price">$0.00</span>
                                <span class="btc-change" id="btc-change">0.00%</span>
                            </div>
                            <div class="btc-price-details">
                                <div class="btc-price-detail">
                                    <span>24h High</span>
                                    <span id="btc-high">$0.00</span>
                                </div>
                                <div class="btc-price-detail">
                                    <span>24h Low</span>
                                    <span id="btc-low">$0.00</span>
                                </div>
                                <div class="btc-price-detail">
                                    <span>24h Volume</span>
                                    <span id="btc-volume">0 BTC</span>
                                </div>
                            </div>
                        </div>
                        <div class="btc-price-footer">
                            <span>Real-time prices from <span class="bitcoin-animation"></span>itHash LCC</span>
                        </div>
                    </div> 
                </div>
            </div>
        </div>
    </section>

    <section class="stats-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Live Cloud Mining Stats</h2>
                <p>Real-time metrics from BitHash cloud mining operations across all data centers.</p>
            </div>
            
            <div class="stats-grid" id="stats-container">
                <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number" id="total-investors">0</div>
                    <div class="stat-label">
                        Active Cloud Miners
                        <span id="investors-change"></span>
                    </div>
                </div>
                
                <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="stat-number" id="total-invested">$0</div>
                    <div class="stat-label">
                        24-Hour Mining Investment
                        <span id="invested-change"></span>
                    </div>
                </div>
                
                <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="stat-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <div class="stat-number" id="total-withdrawals">$0</div>
                    <div class="stat-label">
                        24-Hour Mining Payouts
                        <span id="withdrawals-change"></span>
                    </div>
                </div>
                
                <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="stat-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="stat-number" id="total-hashrate">0 PH/s</div>
                    <div class="stat-label">
                        Total Hash Rate
                        <span id="hashrate-change"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Why Choose BitHash Cloud Mining?</h2>
                <p>Access industrial Bitcoin mining without the hardware costs, maintenance, or technical expertise.</p>
            </div>
            
            <div class="about-container">
                <div class="about-image" data-aos="fade-right">
                    <img src="https://www.dropbox.com/scl/fi/9b69f9sll2gj6ozzjb58d/WhatsApp-Image-2025-12-13-at-1.27.06-AM.jpeg?rlkey=ea4rqkom2ubwvwvki83yd3lgr&raw=1" alt="BitHash Cloud Mining Facility">
                </div>
                <div class="about-content" data-aos="fade-left">
                    <h3>Industrial Cloud Mining Infrastructure</h3>
                    <p>BitHash operates large-scale Bitcoin mining facilities with state-of-the-art ASIC miners. When you invest in our cloud mining plans, you're purchasing real hash power from these industrial operations.</p>
                    <p>Your investment is converted into mining power at our facilities. We handle all the hardware, maintenance, electricity costs, and technical operations. You simply earn Bitcoin based on your share of the mining output.</p>
                    
                    <div class="about-features">
                        <div class="about-feature">
                            <div class="about-feature-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="about-feature-text">
                                <h4>Renewable Energy Powered</h4>
                                <p>85% of our mining uses sustainable energy sources for eco-friendly Bitcoin mining.</p>
                            </div>
                        </div>
                        <div class="about-feature">
                            <div class="about-feature-icon">
                                <i class="fas fa-server"></i>
                            </div>
                            <div class="about-feature-text">
                                <h4>Real Hash Power</h4>
                                <p>Your investment purchases actual mining hash power at our industrial facilities.</p>
                            </div>
                        </div>
                        <div class="about-feature">
                            <div class="about-feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="about-feature-text">
                                <h4>Transparent Earnings</h4>
                                <p>Daily mining rewards based on actual Bitcoin network mining output.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Plans Section -->
    <section class="plans-section" id="plans">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Cloud Mining Investment Plans</h2>
                <p>Each plan represents an investment in actual Bitcoin mining hash power at our industrial facilities. Earn daily Bitcoin rewards based on mining output.</p>
                <div id="balance-display" style="display: none; margin-top: 15px;">
                    <span style="color: var(--primary); font-weight: 600;">Your Balances: </span>
                    <span id="current-balance">Main: $0.00 | Matured: $0.00</span>
                </div>
            </div>
            
            <div class="plans-grid" id="plans-container">
                <!-- Plans will be dynamically loaded here -->
                <div class="plan-card" data-aos="fade-up">
                    <div class="cloud-mining-image">
                        <img src="https://www.dropbox.com/scl/fi/9b69f9sll2gj6ozzjb58d/WhatsApp-Image-2025-12-13-at-1.27.06-AM.jpeg?rlkey=ea4rqkom2ubwvwvki83yd3lgr&raw=1" alt="Starter Cloud Mining Plan">
                        <div class="cloud-mining-badge">
                            <i class="fas fa-cloud"></i> CLOUD MINING
                        </div>
                    </div>
                    
                    <h3 class="plan-name">Starter Cloud Miner</h3>
                    <p class="plan-description">Begin your cloud mining journey with our entry-level plan. Perfect for new Bitcoin miners.</p>
                    
                    <div class="mining-explanation">
                        <h4><i class="fas fa-info-circle"></i> How You Earn From Cloud Mining</h4>
                        <p>Your investment purchases hash power at our mining facilities. We mine Bitcoin 24/7 and distribute rewards daily based on your share of the mining output.</p>
                    </div>
                    
                    <div class="plan-features">
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Daily Bitcoin Mining Rewards</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>24/7 Industrial Mining Operations</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Real Hash Power Allocation</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Transparent Mining Dashboard</span>
                        </div>
                    </div>
                    
                    <div class="plan-limits">
                        <div class="plan-min">
                            <span>Minimum Investment</span>
                            <span>$200</span>
                        </div>
                        <div class="plan-max">
                            <span>Maximum Investment</span>
                            <span>$2,000</span>
                        </div>
                    </div>
                    
                    <button class="btn plan-button" onclick="handlePlanSelection('starter', 200, 2000, 10, 720, 'Starter Cloud Miner')">
                        <i class="fas fa-cloud-upload-alt"></i>
                        Start Cloud Mining
                    </button>
                </div>
                
                <div class="plan-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="cloud-mining-image">
                        <img src="https://www.dropbox.com/scl/fi/9b69f9sll2gj6ozzjb58d/WhatsApp-Image-2025-12-13-at-1.27.06-AM.jpeg?rlkey=ea4rqkom2ubwvwvki83yd3lgr&raw=1" alt="Professional Cloud Mining Plan">
                        <div class="cloud-mining-badge">
                            <i class="fas fa-cloud"></i> CLOUD MINING
                        </div>
                    </div>
                    
                    <h3 class="plan-name">Professional Cloud Miner</h3>
                    <p class="plan-description">Advanced cloud mining plan with higher hash power allocation and better returns.</p>
                    
                    <div class="mining-explanation">
                        <h4><i class="fas fa-info-circle"></i> How You Earn From Cloud Mining</h4>
                        <p>Your investment purchases hash power at our mining facilities. We mine Bitcoin 24/7 and distribute rewards daily based on your share of the mining output.</p>
                    </div>
                    
                    <div class="plan-features">
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Higher Hash Power Allocation</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Priority Mining Pool Access</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Lower Mining Fees</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Enhanced Mining Dashboard</span>
                        </div>
                    </div>
                    
                    <div class="plan-limits">
                        <div class="plan-min">
                            <span>Minimum Investment</span>
                            <span>$2,000</span>
                        </div>
                        <div class="plan-max">
                            <span>Maximum Investment</span>
                            <span>$10,000</span>
                        </div>
                    </div>
                    
                    <button class="btn plan-button" onclick="handlePlanSelection('professional', 2000, 10000, 15, 720, 'Professional Cloud Miner')">
                        <i class="fas fa-cloud-upload-alt"></i>
                        Start Cloud Mining
                    </button>
                </div>
                
                <div class="plan-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="cloud-mining-image">
                        <img src="https://www.dropbox.com/scl/fi/9b69f9sll2gj6ozzjb58d/WhatsApp-Image-2025-12-13-at-1.27.06-AM.jpeg?rlkey=ea4rqkom2ubwvwvki83yd3lgr&raw=1" alt="Enterprise Cloud Mining Plan">
                        <div class="cloud-mining-badge">
                            <i class="fas fa-cloud"></i> CLOUD MINING
                        </div>
                    </div>
                    
                    <h3 class="plan-name">Enterprise Cloud Miner</h3>
                    <p class="plan-description">Maximum hash power allocation for serious Bitcoin mining investors.</p>
                    
                    <div class="mining-explanation">
                        <h4><i class="fas fa-info-circle"></i> How You Earn From Cloud Mining</h4>
                        <p>Your investment purchases hash power at our mining facilities. We mine Bitcoin 24/7 and distribute rewards daily based on your share of the mining output.</p>
                    </div>
                    
                    <div class="plan-features">
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Maximum Hash Power Allocation</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Dedicated Mining Rigs</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>VIP Mining Pool Access</span>
                        </div>
                        <div class="plan-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Advanced Analytics Dashboard</span>
                        </div>
                    </div>
                    
                    <div class="plan-limits">
                        <div class="plan-min">
                            <span>Minimum Investment</span>
                            <span>$10,000</span>
                        </div>
                        <div class="plan-max">
                            <span>Maximum Investment</span>
                            <span>$100,000</span>
                        </div>
                    </div>
                    
                    <button class="btn plan-button" onclick="handlePlanSelection('enterprise', 10000, 100000, 20, 720, 'Enterprise Cloud Miner')">
                        <i class="fas fa-cloud-upload-alt"></i>
                        Start Cloud Mining
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Investment Modal -->
    <div class="investment-modal" id="investment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-plan-name">Cloud Mining Plan</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="plan-details">
                    <div class="detail-row">
                        <span class="detail-label">Mining Return:</span>
                        <span class="detail-value" id="modal-plan-return">0%</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Mining Duration:</span>
                        <span class="detail-value" id="modal-plan-duration">0 hours</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Minimum Investment:</span>
                        <span class="detail-value" id="modal-plan-min">$200</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Maximum Investment:</span>
                        <span class="detail-value" id="modal-plan-max">$0</span>
                    </div>
                </div>
                
                <div class="investment-form">
                    <!-- Balance Selector -->
                    <div class="form-group">
                        <label for="balance-type">Select Balance to Use</label>
                        <div class="balance-selector" id="balance-selector">
                            <div class="balance-option" data-balance="main">
                                <div class="balance-info">
                                    <i class="fas fa-wallet"></i>
                                    <div class="balance-details">
                                        <span class="balance-name">Main Balance</span>
                                        <span class="balance-amount" id="modal-main-balance-amount">$0.00</span>
                                    </div>
                                </div>
                                <div class="balance-radio"></div>
                            </div>
                            <div class="balance-option" data-balance="matured">
                                <div class="balance-info">
                                    <i class="fas fa-piggy-bank"></i>
                                    <div class="balance-details">
                                        <span class="balance-name">Matured Balance</span>
                                        <span class="balance-amount" id="modal-matured-balance-amount">$0.00</span>
                                    </div>
                                </div>
                                <div class="balance-radio"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fee Information -->
                    <div class="fee-info">
                        <i class="fas fa-info-circle"></i>
                        <span>A 3% mining fee will be deducted from your selected balance before hash power allocation.</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="investment-amount">Cloud Mining Investment ($)</label>
                        <input type="number" id="investment-amount" class="form-control" placeholder="Enter investment amount">
                        <div class="amount-error" id="amount-error"></div>
                    </div>
                    
                    <div class="expected-return">
                        <span>Expected Mining Returns (after 3% fee):</span>
                        <span id="expected-return">$0.00</span>
                    </div>
                    
                    <button class="btn btn-primary" id="confirm-investment">Start Cloud Mining</button>
                    <div class="investment-status" id="investment-status"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- How It Works Section -->
    <section class="how-it-works-section" id="how-it-works">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>How Cloud Mining Works</h2>
                <p>Start earning Bitcoin through cloud mining in three simple steps</p>
            </div>
            
            <div class="steps-container">
                <div class="step-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="step-number">1</div>
                    <h3>Choose Mining Plan</h3>
                    <p>Select a cloud mining plan that matches your investment goals and purchase hash power.</p>
                </div>
                <div class="step-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="step-number">2</div>
                    <h3>We Mine Bitcoin</h3>
                    <p>Your hash power is deployed at our industrial mining facilities. We mine Bitcoin 24/7.</p>
                </div>
                <div class="step-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="step-number">3</div>
                    <h3>Earn Daily Rewards</h3>
                    <p>Receive daily Bitcoin rewards based on your share of the mining output. Withdraw anytime.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Mining Video Section -->
    <section class="mining-video-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Our Cloud Mining Operations</h2>
                <p>24/7 Bitcoin mining at our industrial facilities where your hash power is deployed</p>
            </div>
            
            <div class="video-container" data-aos="fade-up">
                <video autoplay loop muted playsinline disablePictureInPicture disableRemotePlayback>
                    <source src="https://www.dropbox.com/scl/fi/2ln68i04x0ep95aisvtnz/Cryptocurrency-Bitcoins-mining-in-4K-UHD-flat-animation-1.mp4?rlkey=vpsim9qc57886qu8dppx9npax&raw=1" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="video-overlay"></div>
            </div>
        </div>
    </section>

    <!-- Loans Section -->
    <section class="loans-section" id="loans">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2><span class="bitcoin-animation"></span>itHash Mining Loans</h2>
                <p>Qualify for loans based on your cloud mining history. Build creditworthiness through consistent mining activity.</p>
            </div>
            
            <div class="loan-calculator" data-aos="fade-up">
                <h3>Mining Loan Eligibility Calculator</h3>
                <div class="loan-calculator-grid">
                    <div class="form-group">
                        <label for="loan-amount" class="form-label">Desired Loan Amount</label>
                        <input type="number" id="loan-amount-input" class="form-control" placeholder="Enter amount in USD" min="1000">
                    </div>
                    <div class="form-group">
                        <label for="loan-term" class="form-label">Loan Term (months)</label>
                        <select id="loan-term" class="form-control">
                            <option value="3">3 Months</option>
                            <option value="6">6 Months</option>
                            <option value="12" selected>12 Months</option>
                            <option value="24">24 Months</option>
                        </select>
                    </div>
                </div>
                
                <div class="loan-summary">
                    <div class="loan-summary-item">
                        <span class="loan-summary-label">Estimated Monthly Payment:</span>
                        <span class="loan-summary-value" id="monthly-payment">$0.00</span>
                    </div>
                    <div class="loan-summary-item">
                        <span class="loan-summary-label">Monthly Interest Rate:</span>
                        <span class="loan-summary-value">9.99%</span>
                    </div>
                    <div class="loan-summary-item">
                        <span class="loan-summary-label">Total Repayment:</span>
                        <span class="loan-summary-value highlight" id="total-repayment">$0.00</span>
                    </div>
                </div>
                
                <button class="btn btn-primary" style="width: 100%;" onclick="checkLoanEligibility()">Check Eligibility</button>
                
                <div style="margin-top: 25px; padding: 15px; background-color: rgba(0, 0, 0, 0.3); border-radius: var(--border-radius);">
                    <h4 style="margin-bottom: 12px; font-size: 1.1rem;">How Our Mining Loans Work</h4>
                    <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; line-height: 1.6;">
                        Your loan eligibility is algorithmically assessed based on your historical cloud mining activity with BitHash. We evaluate factors such as mining consistency, investment patterns, and overall platform engagement to calculate creditworthiness. The minimum loan amount is $1,000, with a fixed monthly interest rate of 9.99%.
                    </p>
                    <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; line-height: 1.6; margin-top: 10px;">
                        <strong>Note:</strong> Loan approval requires at least 3 months of consistent cloud mining activity with BitHash.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- BTC News Section -->
    <section class="btc-news-section" id="news">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Latest Bitcoin & Mining News</h2>
                <p>Stay updated with the latest developments in Bitcoin and cryptocurrency mining</p>
            </div>
            
            <div class="news-grid" id="news-container">
                <!-- News cards will be dynamically loaded here -->
                <div class="news-loading">
                    <div class="loading-spinner"></div>
                    <p>Loading latest Bitcoin news...</p>
                </div>
            </div>
            
            <div class="news-navigation">
                <button class="btn btn-outline" id="prev-news" disabled>Previous</button>
                <span id="news-page-info">Page 1</span>
                <button class="btn btn-outline" id="next-news">Next</button>
            </div>
        </div>
    </section>

    <!-- News Modal -->
    <div class="news-modal" id="news-modal">
        <div class="news-modal-content">
            <button class="news-modal-close" id="news-modal-close">&times;</button>
            <div class="news-modal-header">
                <img id="news-modal-image" src="" alt="News Image">
                <div class="news-modal-header-text">
                    <h3 id="news-modal-title"></h3>
                    <div class="news-modal-meta">
                        <span id="news-modal-source"></span>
                        <span id="news-modal-date"></span>
                    </div>
                </div>
            </div>
            <div class="news-modal-body">
                <p id="news-modal-description"></p>
                <a href="#" target="_blank" id="news-modal-link" class="btn btn-primary">Read Full Article</a>
            </div>
        </div>
    </div>
    
    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-container" data-aos="fade-up">
                <h2>Ready to Start Cloud Mining Bitcoin?</h2>
                <p>Start with a minimum investment of $200 and begin earning daily Bitcoin rewards today.</p>
                <button class="btn btn-gold" onclick="window.location.href='signup.html'">Start Cloud Mining Now</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-container">
                <div class="footer-about">
                    <div class="footer-logo">
                        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
                        <span class="footer-logo-text"><span class="bitcoin-animation"></span>itHash</span>
                    </div>
                    <p>Bitcoin cloud mining platform providing access to industrial mining infrastructure with transparent operations and daily rewards.</p>
                    <div class="footer-social">
                        <a href="https://twitter.com/intent/tweet?url=https://bithhash.vercel.app/&text=Check%20out%20this%20Bitcoin%20cloud%20mining%20platform!" 
                           class="social-icon twitter" aria-label="Twitter" target="_blank" rel="noopener">
                           <i class="fab fa-twitter"></i>
                        </a>
                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://bithhash.vercel.app/" 
                           class="social-icon linkedin" aria-label="LinkedIn" target="_blank" rel="noopener">
                           <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://bithhash.vercel.app/" 
                           class="social-icon facebook" aria-label="Facebook" target="_blank" rel="noopener">
                           <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com" 
                           class="social-icon instagram" aria-label="Instagram" target="_blank" rel="noopener" 
                           onclick="alert('Instagram does not support direct sharing via links. Please share manually.'); return false;">
                           <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Platform</h3>
                    <ul>
                        <li><a href="#home">Dashboard</a></li>
                        <li><a href="#plans">Cloud Mining Plans</a></li>
                        <li><a href="#loans">Mining Loans</a></li>
                        <li><a href="dashboard.html">My Mining Account</a></li>
                        <li><a href="rewards.html">Mining Rewards</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Company</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="careers.html">Careers</a></li>
                        <li><a href="press.html">Press</a></li>
                        <li><a href="blog.html">Mining Blog</a></li>
                        <li><a href="partners.html">Partners</a></li>
                    </ul>
                </div>
                
                <div class="footer-contact">
                    <h3 class="footer-title">Contact Us</h3>
                    <p><i class="fas fa-envelope"></i> support@bithash.com</p>
                    <p><i class="fas fa-phone"></i> +1 606-363-2032</p>
                    <p><i class="fas fa-map-marker-alt"></i> 800 Plant St, Wilmington, DE 19801, United States</p>
                    <p><i class="fas fa-clock"></i> 24/7 Mining Support</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> BitHash LLC. All Rights Reserved. Registered in Delaware, USA. FINRA/SIPC Member.</p>
            </div>
        </div>
    </footer>

    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Smartsupp Live Chat script -->
    <script type="text/javascript">
        var _smartsupp = _smartsupp || {};
        _smartsupp.key = '164ffa4b3acec94eb79a39bad2033ab6eb10f487';
        window.smartsupp||(function(d) {
            var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
            s=d.getElementsByTagName('script')[0];c=d.createElement('script');
            c.type='text/javascript';c.charset='utf-8';c.async=true;
            c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
        })(document);
    </script>
    <noscript> Powered by <a href="https://www.smartsupp.com" target="_blank">Smartsupp</a></noscript>

    <script>
        // Initialize AOS animation
        AOS.init({
            duration: 800,
            once: true,
            easing: 'ease-in-out'
        });
        
        // Global variable to track if modal event listeners are already set up
        let investmentModalInitialized = false;
        
        // Hide loading overlay when page is loaded
        window.addEventListener('load', function() {
            setTimeout(function() {
                document.getElementById('loading-overlay').classList.add('hidden');
            }, 1000);
            
            // Load all dynamic data from backend
            loadStatsData();
            checkAuthState();
            
            // Initialize language selector
            initializeLanguageSelector();
            
            // Initialize video autoplay
            const video = document.querySelector('video');
            if (video) {
                video.setAttribute('autoplay', '');
                video.setAttribute('loop', '');
                video.setAttribute('muted', '');
                video.setAttribute('playsinline', '');
                
                // Prevent right-click menu on video
                video.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                });
                
                // Ensure video plays even if autoplay is blocked
                const playVideo = () => {
                    video.play().catch(error => {
                        console.log('Video autoplay prevented:', error);
                    });
                };
                
                // Try to play when page loads
                playVideo();
                
                // Try to play when user interacts with page
                document.addEventListener('click', playVideo, { once: true });
                document.addEventListener('scroll', playVideo, { once: true });
            }
        });
        
        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();
        
        // Language Selector Functionality
        function initializeLanguageSelector() {
            const languageBtn = document.getElementById('language-dropdown-btn');
            const languageDropdown = document.getElementById('language-dropdown');
            const languageSearch = document.getElementById('language-search');
            const languageList = document.getElementById('language-list');
            const languagePrev = document.getElementById('language-prev');
            const languageNext = document.getElementById('language-next');
            const languagePageInfo = document.getElementById('language-page-info');
            
            let currentPage = 1;
            const languagesPerPage = 10;
            let allLanguages = [];
            let filteredLanguages = [];
            
            // Toggle dropdown
            languageBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                languageDropdown.classList.toggle('active');
                languageBtn.classList.toggle('active');
                
                if (languageDropdown.classList.contains('active')) {
                    loadLanguages();
                }
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                languageDropdown.classList.remove('active');
                languageBtn.classList.remove('active');
            });
            
            // Prevent dropdown from closing when clicking inside
            languageDropdown.addEventListener('click', function(e) {
                e.stopPropagation();
            });
            
            // Search functionality
            languageSearch.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                filteredLanguages = allLanguages.filter(lang => 
                    lang.name.toLowerCase().includes(searchTerm) || 
                    lang.nativeName.toLowerCase().includes(searchTerm) ||
                    lang.code.toLowerCase().includes(searchTerm)
                );
                currentPage = 1;
                renderLanguages();
            });
            
            // Pagination
            languagePrev.addEventListener('click', function() {
                if (currentPage > 1) {
                    currentPage--;
                    renderLanguages();
                }
            });
            
            languageNext.addEventListener('click', function() {
                const totalPages = Math.ceil(filteredLanguages.length / languagesPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    renderLanguages();
                }
            });
            
            // Load languages from backend
            async function loadLanguages() {
                try {
                    const response = await fetch('https://bithashcapital.onrender.com/api/languages');
                    if (response.ok) {
                        const data = await response.json();
                        allLanguages = data.languages || [];
                        filteredLanguages = [...allLanguages];
                        renderLanguages();
                    } else {
                        throw new Error('Failed to load languages');
                    }
                } catch (error) {
                    console.error('Error loading languages:', error);
                    // Fallback to default languages
                    allLanguages = getDefaultLanguages();
                    filteredLanguages = [...allLanguages];
                    renderLanguages();
                }
            }
            
            // Render languages in the dropdown
            function renderLanguages() {
                const startIndex = (currentPage - 1) * languagesPerPage;
                const endIndex = startIndex + languagesPerPage;
                const languagesToShow = filteredLanguages.slice(startIndex, endIndex);
                
                languageList.innerHTML = languagesToShow.map(lang => `
                    <div class="language-option ${lang.code === getCurrentLanguage() ? 'active' : ''}" 
                         data-code="${lang.code}">
                        <img src="${lang.flag}" alt="${lang.name}" class="language-flag" onerror="this.style.display='none'">
                        <span class="language-name">${lang.name}</span>
                        <span class="language-code">${lang.nativeName}</span>
                    </div>
                `).join('');
                
                // Add click event listeners
                document.querySelectorAll('.language-option').forEach(option => {
                    option.addEventListener('click', function() {
                        const languageCode = this.getAttribute('data-code');
                        changeLanguage(languageCode);
                    });
                });
                
                // Update pagination
                const totalPages = Math.ceil(filteredLanguages.length / languagesPerPage);
                languagePageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
                languagePrev.disabled = currentPage === 1;
                languageNext.disabled = currentPage === totalPages;
            }
            
            // Get current language from localStorage or browser
            function getCurrentLanguage() {
                return localStorage.getItem('preferred-language') || 
                       navigator.language.split('-')[0] || 'en';
            }
            
            // Change language
            async function changeLanguage(languageCode) {
                try {
                    // Save preference to backend if user is logged in
                    const token = localStorage.getItem('jwtToken');
                    if (token) {
                        await fetch('https://bithashcapital.onrender.com/api/users/language', {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${token}`
                            },
                            body: JSON.stringify({ language: languageCode })
                        });
                    }
                    
                    // Save to localStorage
                    localStorage.setItem('preferred-language', languageCode);
                    
                    // Update UI
                    const selectedLanguage = allLanguages.find(lang => lang.code === languageCode);
                    if (selectedLanguage) {
                        document.getElementById('current-language').textContent = selectedLanguage.name;
                    }
                    
                    // Close dropdown
                    languageDropdown.classList.remove('active');
                    languageBtn.classList.remove('active');
                    
                    // Show success message
                    showNotification('success', 'Language Updated', `Language changed to ${selectedLanguage?.name || languageCode}`);
                    
                    // Reload translations
                    loadTranslations(languageCode);
                    
                } catch (error) {
                    console.error('Error changing language:', error);
                    showNotification('error', 'Language Error', 'Failed to change language');
                }
            }
            
            // Load translations for the selected language
            async function loadTranslations(languageCode) {
                try {
                    const response = await fetch(`https://bithashcapital.onrender.com/api/translations/${languageCode}`);
                    if (response.ok) {
                        const translations = await response.json();
                        applyTranslations(translations);
                    }
                } catch (error) {
                    console.error('Error loading translations:', error);
                }
            }
            
            // Apply translations to the page
            function applyTranslations(translations) {
                // Update elements with data-translate attribute
                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[key]) {
                        element.textContent = translations[key];
                    }
                });
            }
            
            // Initialize with current language
            const currentLang = getCurrentLanguage();
            const currentLangData = getDefaultLanguages().find(lang => lang.code === currentLang);
            if (currentLangData) {
                document.getElementById('current-language').textContent = currentLangData.name;
            }
        }
        
        // Default languages fallback
        function getDefaultLanguages() {
            return [
                { code: 'en', name: 'English', nativeName: 'English', flag: 'https://flagcdn.com/w40/gb.png' },
                { code: 'fi', name: 'Finnish', nativeName: 'Suomi', flag: 'https://flagcdn.com/w40/fi.png' },
                { code: 'sv', name: 'Swedish', nativeName: 'Svenska', flag: 'https://flagcdn.com/w40/se.png' },
                { code: 'no', name: 'Norwegian', nativeName: 'Norsk', flag: 'https://flagcdn.com/w40/no.png' },
                { code: 'da', name: 'Danish', nativeName: 'Dansk', flag: 'https://flagcdn.com/w40/dk.png' },
                { code: 'de', name: 'German', nativeName: 'Deutsch', flag: 'https://flagcdn.com/w40/de.png' },
                { code: 'fr', name: 'French', nativeName: 'Franais', flag: 'https://flagcdn.com/w40/fr.png' },
                { code: 'es', name: 'Spanish', nativeName: 'Espaol', flag: 'https://flagcdn.com/w40/es.png' },
                { code: 'it', name: 'Italian', nativeName: 'Italiano', flag: 'https://flagcdn.com/w40/it.png' },
                { code: 'pt', name: 'Portuguese', nativeName: 'Portugus', flag: 'https://flagcdn.com/w40/pt.png' },
                { code: 'nl', name: 'Dutch', nativeName: 'Nederlands', flag: 'https://flagcdn.com/w40/nl.png' },
                { code: 'ru', name: 'Russian', nativeName: '', flag: 'https://flagcdn.com/w40/ru.png' },
                { code: 'zh', name: 'Chinese', nativeName: '', flag: 'https://flagcdn.com/w40/cn.png' },
                { code: 'ja', name: 'Japanese', nativeName: '', flag: 'https://flagcdn.com/w40/jp.png' },
                { code: 'ko', name: 'Korean', nativeName: '', flag: 'https://flagcdn.com/w40/kr.png' },
                { code: 'ar', name: 'Arabic', nativeName: '', flag: 'https://flagcdn.com/w40/sa.png' },
                { code: 'hi', name: 'Hindi', nativeName: '', flag: 'https://flagcdn.com/w40/in.png' },
                { code: 'tr', name: 'Turkish', nativeName: 'Trke', flag: 'https://flagcdn.com/w40/tr.png' },
                { code: 'pl', name: 'Polish', nativeName: 'Polski', flag: 'https://flagcdn.com/w40/pl.png' },
                { code: 'uk', name: 'Ukrainian', nativeName: '', flag: 'https://flagcdn.com/w40/ua.png' }
            ];
        }
        
        // Mobile menu toggle functionality
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenuDropdown = document.getElementById('mobile-menu-dropdown');
        
        mobileMenuToggle.addEventListener('click', function() {
            mobileMenuDropdown.classList.toggle('active');
            this.innerHTML = mobileMenuDropdown.classList.contains('active') ? 
                '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            this.setAttribute('aria-expanded', mobileMenuDropdown.classList.contains('active'));
        });
        
        // PC menu toggle functionality
        const pcMenuToggle = document.getElementById('pc-menu-toggle');
        const pcMenuDropdown = document.getElementById('pc-menu-dropdown');
        
        pcMenuToggle.addEventListener('click', function() {
            pcMenuDropdown.classList.toggle('active');
            this.setAttribute('aria-expanded', pcMenuDropdown.classList.contains('active'));
        });
        
        // Close menus when clicking outside
        document.addEventListener('click', function(event) {
            if (!mobileMenuToggle.contains(event.target)) {
                mobileMenuDropdown.classList.remove('active');
                mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                mobileMenuToggle.setAttribute('aria-expanded', 'false');
            }
            
            if (!pcMenuToggle.contains(event.target)) {
                pcMenuDropdown.classList.remove('active');
                pcMenuToggle.setAttribute('aria-expanded', 'false');
            }
        });
        
        // Start announcements polling
        function startAnnouncementsPolling() {
            setInterval(async () => {
                await checkAnnouncements();
            }, 30000);
            
            checkAnnouncements();
        }
        
        // Check for new announcements
        async function checkAnnouncements() {
            try {
                const response = await fetch('https://bithashcapital.onrender.com/api/announcements');
                const announcements = response.data || [];
                
                // Filter out already shown announcements and dismissed ones
                const newAnnouncements = announcements.filter(announcement => 
                    !AppState.activeAnnouncements.has(announcement.id) && 
                    !isAnnouncementDismissed(announcement.id)
                );
                
                if (newAnnouncements.length > 0) {
                    clearAllAnnouncements();
                    const announcement = newAnnouncements[0];
                    showAnnouncement(announcement);
                    AppState.activeAnnouncements.set(announcement.id, announcement);
                    localStorage.setItem('activeAnnouncement', JSON.stringify(announcement));
                }
                
            } catch (error) {
                console.error('Error checking announcements:', error);
                const storedAnnouncement = localStorage.getItem('activeAnnouncement');
                if (storedAnnouncement && !document.querySelector('.announcement.show')) {
                    try {
                        const announcement = JSON.parse(storedAnnouncement);
                        if (!isAnnouncementDismissed(announcement.id)) {
                            showAnnouncement(announcement);
                            AppState.activeAnnouncements.set(announcement.id, announcement);
                        }
                    } catch (e) {
                        console.error('Error loading stored announcement:', e);
                    }
                }
            }
        }
        
        // Check if announcement was dismissed by user
        function isAnnouncementDismissed(announcementId) {
            const dismissedAnnouncements = JSON.parse(localStorage.getItem('dismissedAnnouncements') || '[]');
            return dismissedAnnouncements.includes(announcementId);
        }
        
        // Mark announcement as dismissed
        function dismissAnnouncement(announcementId) {
            const dismissedAnnouncements = JSON.parse(localStorage.getItem('dismissedAnnouncements') || '[]');
            if (!dismissedAnnouncements.includes(announcementId)) {
                dismissedAnnouncements.push(announcementId);
                localStorage.setItem('dismissedAnnouncements', JSON.stringify(dismissedAnnouncements));
            }
        }
        
        // Show announcement notification
        function showAnnouncement(announcement) {
            const announcementCenter = document.getElementById('announcement-center');
            if (!announcementCenter) return;
            
            const announcementEl = document.createElement('div');
            announcementEl.className = 'announcement';
            announcementEl.id = `announcement-${announcement.id}`;
            
            let type = 'info';
            let icon = 'fa-bullhorn';
            
            if (announcement.type === 'error' || announcement.priority === 'high') {
                type = 'error';
                icon = 'fa-exclamation-circle';
            } else if (announcement.type === 'warning') {
                type = 'warning';
                icon = 'fa-exclamation-triangle';
            }
            
            announcementEl.classList.add(type);
            const announcementDate = announcement.createdAt ? formatDate(announcement.createdAt) : '';
            
            announcementEl.innerHTML = `
                <i class="fas ${icon}"></i>
                <div class="announcement-content">
                    <div class="announcement-title">${announcement.title || 'Announcement'}</div>
                    <div class="announcement-message">${announcement.message || ''}</div>
                    <div class="announcement-meta">
                        <span class="announcement-sender">${announcement.sender || 'BitHash Support'}</span>
                        <span class="announcement-date">${announcementDate}</span>
                    </div>
                </div>
                <button class="announcement-close" title="Dismiss this announcement">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            announcementCenter.appendChild(announcementEl);
            
            const closeButton = announcementEl.querySelector('.announcement-close');
            closeButton.addEventListener('click', function() {
                dismissAnnouncement(announcement.id);
                removeAnnouncement(announcement.id);
            });
            
            void announcementEl.offsetWidth;
            announcementEl.classList.add('show');
            
            if ('vibrate' in navigator && type === 'error') {
                navigator.vibrate([200, 100, 200]);
            }
        }
        
        // Clear all announcements
        function clearAllAnnouncements() {
            const announcementCenter = document.getElementById('announcement-center');
            if (!announcementCenter) return;
            
            const announcements = announcementCenter.querySelectorAll('.announcement');
            announcements.forEach(announcement => {
                announcement.classList.remove('show');
                setTimeout(() => {
                    if (announcement.parentNode) {
                        announcement.parentNode.removeChild(announcement);
                    }
                }, 400);
            });
        }
        
        // Remove announcement
        function removeAnnouncement(announcementId) {
            const announcementEl = document.getElementById(`announcement-${announcementId}`);
            if (!announcementEl) return;
            
            announcementEl.classList.remove('show');
            
            setTimeout(() => {
                if (announcementEl.parentNode) {
                    announcementEl.parentNode.removeChild(announcementEl);
                }
                AppState.activeAnnouncements.delete(announcementId);
                
                const storedAnnouncement = localStorage.getItem('activeAnnouncement');
                if (storedAnnouncement) {
                    const parsedAnnouncement = JSON.parse(storedAnnouncement);
                    if (parsedAnnouncement.id === announcementId) {
                        localStorage.removeItem('activeAnnouncement');
                    }
                }
            }, 400);
        }
        
        // Notification queue to manage multiple notifications
        const notificationQueue = [];
        let isNotificationShowing = false;
        
        /**
         * Show a notification in the top right corner
         */
        function showNotification(type, title, message, duration = 5000) {
            notificationQueue.push({ type, title, message, duration });
            
            if (!isNotificationShowing) {
                processNotificationQueue();
            }
        }
        
        function processNotificationQueue() {
            if (notificationQueue.length === 0) {
                isNotificationShowing = false;
                return;
            }
            
            isNotificationShowing = true;
            const { type, title, message, duration } = notificationQueue.shift();
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icon = type === 'error' ? 'fa-exclamation-circle' : 
                        type === 'warning' ? 'fa-exclamation-triangle' : 'fa-check-circle';
            
            notification.innerHTML = `
                <i class="fas ${icon}"></i>
                <div class="notification-content">
                    <div class="notification-title">${title}</div>
                    <div class="notification-message">${message}</div>
                </div>
                <div class="notification-close">&times;</div>
            `;
            
            const notificationCenter = document.getElementById('notification-center');
            notificationCenter.appendChild(notification);
            
            void notification.offsetWidth;
            notification.classList.add('show');
            
            if (type === 'error' && 'vibrate' in navigator) {
                navigator.vibrate([200, 100, 200]);
            }
            
            notification.querySelector('.notification-close').addEventListener('click', () => {
                closeNotification(notification);
            });
            
            if (duration > 0) {
                setTimeout(() => {
                    if (notification.parentNode) {
                        closeNotification(notification);
                    }
                }, duration);
            }
        }
        
        function closeNotification(notification) {
            notification.classList.remove('show');
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
                
                processNotificationQueue();
            }, 400);
        }

        // Fetch Bitcoin price from CoinGecko API
        async function fetchBitcoinPrice() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/coins/bitcoin?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false');
                
                if (!response.ok) {
                    throw new Error('Failed to fetch Bitcoin price');
                }
                
                const data = await response.json();
                return data.market_data;
            } catch (error) {
                console.error('Error fetching Bitcoin price:', error);
                return fetchSimpleBitcoinPrice();
            }
        }

        // Fallback API call if main API fails
        async function fetchSimpleBitcoinPrice() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true');
                
                if (!response.ok) {
                    throw new Error('Failed to fetch simple Bitcoin price');
                }
                
                const data = await response.json();
                return {
                    current_price: { usd: data.bitcoin.usd },
                    price_change_percentage_24h: data.bitcoin.usd_24h_change,
                    high_24h: { usd: data.bitcoin.usd * 1.05 },
                    low_24h: { usd: data.bitcoin.usd * 0.95 },
                    total_volume: { btc: 0 }
                };
            } catch (error) {
                console.error('Error fetching simple Bitcoin price:', error);
                return null;
            }
        }

        // Update Bitcoin price display
        function updateBitcoinPriceDisplay(marketData) {
            if (!marketData) {
                showNotification('error', 'Price Error', 'Failed to load Bitcoin price data');
                return;
            }

            const currentPrice = marketData.current_price.usd;
            const priceChange = marketData.price_change_percentage_24h;
            const high24h = marketData.high_24h.usd;
            const low24h = marketData.low_24h.usd;
            const volume24h = marketData.total_volume.btc;

            const formatCurrency = num => '$' + num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            const formatPercentage = num => num.toFixed(2) + '%';
            const formatVolume = num => num.toLocaleString('en-US', { maximumFractionDigits: 2 }) + ' BTC';

            document.getElementById('btc-price').textContent = formatCurrency(currentPrice);
            
            const changeElement = document.getElementById('btc-change');
            changeElement.textContent = formatPercentage(priceChange);
            changeElement.className = priceChange >= 0 ? 'btc-change positive' : 'btc-change negative';
            
            document.getElementById('btc-high').textContent = formatCurrency(high24h);
            document.getElementById('btc-low').textContent = formatCurrency(low24h);
            document.getElementById('btc-volume').textContent = formatVolume(volume24h);
        }

        // Initialize Bitcoin price updates
        async function initBitcoinPriceUpdates() {
            const marketData = await fetchBitcoinPrice();
            updateBitcoinPriceDisplay(marketData);
            
            setInterval(async () => {
                const marketData = await fetchBitcoinPrice();
                updateBitcoinPriceDisplay(marketData);
            }, 60000);
        }

        // Start Bitcoin price updates when page loads
        document.addEventListener('DOMContentLoaded', initBitcoinPriceUpdates);
        
        // Enhanced stats loading with real-time updates and animations
        async function loadStatsData() {
            try {
                const response = await fetch('https://bithashcapital.onrender.com/api/stats');
                if (response.ok) {
                    const data = await response.json();
                    
                    animateNumberChange('total-investors', data.totalInvestors, 0);
                    animateNumberChange('total-invested', data.totalInvested, 2);
                    animateNumberChange('total-withdrawals', data.totalWithdrawals, 2);
                    animateNumberChange('total-hashrate', data.totalHashrate || 0, 0);
                    
                    updateChangeIndicator('investors-change', data.changeRates?.investors || 0);
                    updateChangeIndicator('invested-change', data.changeRates?.invested || 0);
                    updateChangeIndicator('withdrawals-change', data.changeRates?.withdrawals || 0);
                    updateChangeIndicator('hashrate-change', data.changeRates?.hashrate || 0);
                    
                    setTimeout(loadStatsData, 5000);
                } else {
                    console.error('Failed to load stats data');
                    showNotification('error', 'Backend Error', 'Failed to load statistics data. Please try again later.');
                    setTimeout(loadStatsData, 30000);
                }
            } catch (error) {
                console.error('Error loading stats data:', error);
                showNotification('error', 'Connection Error', 'Failed to connect to statistics service. Please check your connection.');
                setTimeout(loadStatsData, 30000);
            }
        }

        // Animate number changes
        function animateNumberChange(elementId, targetValue, decimals) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const currentValue = parseFloat(element.textContent.replace(/,/g, '') || '0');
            const duration = 1000;
            const startTime = performance.now();
            
            const formatNumber = (num) => {
                if (decimals === 0) {
                    return num.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
                return num.toFixed(decimals).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            };

            function updateNumber(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const value = currentValue + (targetValue - currentValue) * progress;
                
                element.textContent = formatNumber(value);
                
                if (progress < 1) {
                    requestAnimationFrame(updateNumber);
                } else {
                    element.textContent = formatNumber(targetValue);
                }
            }
            
            requestAnimationFrame(updateNumber);
        }

        // Update change indicators with arrows
        function updateChangeIndicator(elementId, changeRate) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            element.innerHTML = '';
            
            const arrow = document.createElement('span');
            arrow.style.marginLeft = '5px';
            arrow.style.fontSize = '0.8em';
            
            if (changeRate > 0) {
                arrow.innerHTML = `<i class="fas fa-arrow-up" style="color: var(--success);"></i> ${Math.abs(changeRate)}%`;
            } else if (changeRate < 0) {
                arrow.innerHTML = `<i class="fas fa-arrow-down" style="color: var(--error);"></i> ${Math.abs(changeRate)}%`;
            } else {
                arrow.innerHTML = `<i class="fas fa-minus" style="color: var(--gray);"></i> 0%`;
            }
            
            element.appendChild(arrow);
        }

        // BTC News functionality
        let currentNewsPage = 1;
        const newsPerPage = 3;
        let allNewsData = [];

        // DOM elements
        const newsContainer = document.getElementById('news-container');
        const prevNewsBtn = document.getElementById('prev-news');
        const nextNewsBtn = document.getElementById('next-news');
        const newsPageInfo = document.getElementById('news-page-info');
        const newsModal = document.getElementById('news-modal');
        const newsModalClose = document.getElementById('news-modal-close');

        // Fetch BTC news from backend
        async function fetchBTCNews() {
            try {
                newsContainer.innerHTML = `
                    <div class="news-loading">
                        <div class="loading-spinner"></div>
                        <p>Loading latest Bitcoin news...</p>
                    </div>
                `;
                
                const response = await fetch('https://bithashcapital.onrender.com/api/btc-news');
                if (response.ok) {
                    const data = await response.json();
                    allNewsData = data.data || [];
                    renderNews();
                } else {
                    throw new Error('Failed to fetch news');
                }
            } catch (error) {
                console.error('Error fetching BTC news:', error);
                newsContainer.innerHTML = `
                    <div class="news-loading">
                        <i class="fas fa-exclamation-triangle" style="font-size: 2rem; color: var(--error); margin-bottom: 15px;"></i>
                        <p>Failed to load news. Please try again later.</p>
                        <button class="btn btn-outline" onclick="fetchBTCNews()" style="margin-top: 15px;">Retry</button>
                    </div>
                `;
            }
        }

        // Render news based on current page
        function renderNews() {
            if (allNewsData.length === 0) {
                newsContainer.innerHTML = `
                    <div class="news-loading">
                        <i class="fas fa-newspaper" style="font-size: 2rem; color: var(--gray); margin-bottom: 15px;"></i>
                        <p>No news available at the moment.</p>
                    </div>
                `;
                return;
            }

            const startIndex = (currentNewsPage - 1) * newsPerPage;
            const endIndex = startIndex + newsPerPage;
            const newsToDisplay = allNewsData.slice(startIndex, endIndex);

            newsContainer.innerHTML = newsToDisplay.map(news => `
                <div class="news-card" data-aos="fade-up" data-id="${news.id}">
                    <div class="news-image-container">
                        <img src="${news.image || 'https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1'}" 
                             alt="${news.title}" class="news-image" 
                             onerror="this.src='https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1'">
                    </div>
                    <div class="news-content">
                        <h3 class="news-title">${news.title}</h3>
                        <div class="news-meta">
                            <span class="news-source">${news.source}</span>
                            <span class="news-date">${formatDate(news.publishedAt)}</span>
                        </div>
                    </div>
                </div>
            `).join('');

            // Add click event to news cards
            document.querySelectorAll('.news-card').forEach(card => {
                card.addEventListener('click', () => {
                    const newsId = card.getAttribute('data-id');
                    const newsItem = allNewsData.find(item => item.id === newsId);
                    if (newsItem) {
                        openNewsModal(newsItem);
                    }
                });
            });

            // Update pagination controls
            updatePaginationControls();
        }

        // Format date for display
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        // Update pagination controls
        function updatePaginationControls() {
            const totalPages = Math.ceil(allNewsData.length / newsPerPage);
            
            prevNewsBtn.disabled = currentNewsPage <= 1;
            nextNewsBtn.disabled = currentNewsPage >= totalPages;
            
            newsPageInfo.textContent = `Page ${currentNewsPage} of ${totalPages}`;
        }

        // Open news modal
        function openNewsModal(newsItem) {
            document.getElementById('news-modal-title').textContent = newsItem.title;
            document.getElementById('news-modal-description').textContent = newsItem.description || 'No description available.';
            document.getElementById('news-modal-source').textContent = newsItem.source;
            document.getElementById('news-modal-date').textContent = formatDate(newsItem.publishedAt);
            document.getElementById('news-modal-link').href = newsItem.url;
            
            const modalImage = document.getElementById('news-modal-image');
            modalImage.src = newsItem.image || 'https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1';
            modalImage.alt = newsItem.title;
            
            newsModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close news modal
        function closeNewsModal() {
            newsModal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Event listeners
        prevNewsBtn.addEventListener('click', () => {
            if (currentNewsPage > 1) {
                currentNewsPage--;
                renderNews();
                window.scrollTo({
                    top: document.getElementById('news').offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        });

        nextNewsBtn.addEventListener('click', () => {
            const totalPages = Math.ceil(allNewsData.length / newsPerPage);
            if (currentNewsPage < totalPages) {
                currentNewsPage++;
                renderNews();
                window.scrollTo({
                    top: document.getElementById('news').offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        });

        newsModalClose.addEventListener('click', closeNewsModal);
        newsModal.addEventListener('click', (e) => {
            if (e.target === newsModal) {
                closeNewsModal();
            }
        });

        // Initialize news on page load
        document.addEventListener('DOMContentLoaded', fetchBTCNews);
        
        // Check authentication state on page load
        async function checkAuthState() {
            try {
                const token = localStorage.getItem('jwtToken');
                if (!token) {
                    document.getElementById('auth-buttons').style.display = 'flex';
                    document.getElementById('user-balance-container').style.display = 'none';
                    return;
                }
                
                const response = await fetch('https://bithashcapital.onrender.com/api/users/me', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const userData = await response.json();
                    document.getElementById('auth-buttons').style.display = 'none';
                    fetchAndUpdateBalances();
                } else {
                    localStorage.removeItem('jwtToken');
                    document.getElementById('auth-buttons').style.display = 'flex';
                    document.getElementById('user-balance-container').style.display = 'none';
                    showNotification('error', 'Session Expired', 'Your session has expired. Please login again.');
                }
            } catch (error) {
                console.error('Authentication check failed:', error);
                showNotification('error', 'Session Error', 'Failed to verify your session. Please login again.');
            }
        }
        
        // Handle plan selection and open cloud mining modal
        async function handlePlanSelection(planId, minAmount, maxAmount, percentage, duration, planName) {
            const token = localStorage.getItem('jwtToken');
            
            if (!token) {
                showNotification('error', 'Authentication Required', 'Please login or create an account to start cloud mining.');
                setTimeout(() => {
                    window.location.href = 'signup.html';
                }, 2000);
                return;
            }
            
            await openInvestmentModal(planId, minAmount, maxAmount, percentage, duration, planName);
        }

        // Open cloud mining modal with plan details
        async function openInvestmentModal(planId, minAmount, maxAmount, percentage, duration, planName) {
            const modal = document.getElementById('investment-modal');
            if (!modal) {
                console.error('Cloud mining modal not found');
                return;
            }
            
            // Update modal header with plan details
            document.getElementById('modal-plan-name').textContent = planName;
            document.getElementById('modal-plan-return').textContent = `${percentage}%`;
            document.getElementById('modal-plan-duration').textContent = `${duration} hours`;
            document.getElementById('modal-plan-min').textContent = `$${minAmount}`;
            document.getElementById('modal-plan-max').textContent = `$${maxAmount}`;
            
            // Store plan data in modal dataset
            modal.dataset.planId = planId;
            modal.dataset.minAmount = minAmount;
            modal.dataset.maxAmount = maxAmount;
            modal.dataset.percentage = percentage;
            
            // Reset form state
            document.getElementById('investment-amount').value = minAmount;
            document.getElementById('amount-error').textContent = '';
            document.getElementById('expected-return').textContent = '$0.00';
            document.getElementById('investment-status').textContent = '';
            
            // Update balance information in modal
            await updateModalBalances();
            
            // Reset and configure balance selection
            const balanceOptions = document.querySelectorAll('.balance-option');
            balanceOptions.forEach(option => {
                option.classList.remove('selected', 'disabled');
            });
            
            // Auto-select first available balance option
            const firstAvailableOption = document.querySelector('.balance-option:not(.disabled)');
            if (firstAvailableOption) {
                firstAvailableOption.classList.add('selected');
                modal.dataset.balanceSource = firstAvailableOption.dataset.balance;
            } else {
                // No available balances - show warning
                showNotification('warning', 'Insufficient Funds', 
                    `You need at least $200 in either main or matured balance to start cloud mining.`);
            }
            
            // Calculate initial expected return
            calculateExpectedReturn(minAmount, percentage);
            
            // Setup event listeners only once
            if (!investmentModalInitialized) {
                setupModalEventListeners();
                investmentModalInitialized = true;
            }
            
            // Show modal
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Update balance information in cloud mining modal
        async function updateModalBalances() {
            try {
                const token = localStorage.getItem('jwtToken');
                if (!token) {
                    console.log('No authentication token found');
                    return;
                }
                
                console.log('Fetching balances for modal display...');
                
                const response = await fetch('https://bithashcapital.onrender.com/api/users/balances', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`Balance fetch failed: ${response.status}`);
                }
                
                const balanceData = await response.json();
                console.log('Modal balance data:', balanceData);
                
                const mainBalance = balanceData.data?.balances?.main || 0;
                const maturedBalance = balanceData.data?.balances?.matured || 0;
                
                // Update balance display elements
                const mainBalanceElement = document.getElementById('modal-main-balance-amount');
                const maturedBalanceElement = document.getElementById('modal-matured-balance-amount');
                
                if (mainBalanceElement) {
                    mainBalanceElement.textContent = `$${mainBalance.toFixed(2)}`;
                }
                if (maturedBalanceElement) {
                    maturedBalanceElement.textContent = `$${maturedBalance.toFixed(2)}`;
                }
                
                // Update balance option availability based on minimum investment
                const balanceOptions = document.querySelectorAll('.balance-option');
                const minAmount = parseFloat(document.getElementById('modal-plan-min').textContent.replace('$', '')) || 0;
                
                balanceOptions.forEach(option => {
                    const balanceType = option.dataset.balance;
                    const balanceAmount = balanceType === 'main' ? mainBalance : maturedBalance;
                    
                    if (balanceAmount < minAmount) {
                        option.classList.add('disabled');
                    } else {
                        option.classList.remove('disabled');
                    }
                });
                
            } catch (error) {
                console.error('Error updating modal balances:', error);
                
                // Set fallback values on error
                const mainBalanceElement = document.getElementById('modal-main-balance-amount');
                const maturedBalanceElement = document.getElementById('modal-matured-balance-amount');
                
                if (mainBalanceElement) mainBalanceElement.textContent = '$0.00';
                if (maturedBalanceElement) maturedBalanceElement.textContent = '$0.00';
                
                // Disable all balance options on error
                const balanceOptions = document.querySelectorAll('.balance-option');
                balanceOptions.forEach(option => {
                    option.classList.add('disabled');
                });
                
                showNotification('error', 'Balance Error', 'Failed to load balance information. Please try again.');
            }
        }

        // Setup modal event listeners - called only once
        function setupModalEventListeners() {
            const modal = document.getElementById('investment-modal');
            const amountInput = document.getElementById('investment-amount');
            const balanceOptions = document.querySelectorAll('.balance-option');
            const confirmBtn = document.getElementById('confirm-investment');
            
            // Remove any existing event listeners first by cloning elements
            const newAmountInput = amountInput.cloneNode(true);
            amountInput.parentNode.replaceChild(newAmountInput, amountInput);
            
            // Amount input handler
            newAmountInput.addEventListener('input', function() {
                const minAmount = parseFloat(modal.dataset.minAmount) || 0;
                const maxAmount = parseFloat(modal.dataset.maxAmount) || 0;
                const percentage = parseFloat(modal.dataset.percentage) || 0;
                const amount = parseFloat(this.value) || 0;
                validateInvestmentAmount(amount, minAmount, maxAmount);
                calculateExpectedReturn(amount, percentage);
            });
            
            // Balance selection handler
            balanceOptions.forEach(option => {
                // Remove existing listeners by cloning
                const newOption = option.cloneNode(true);
                option.parentNode.replaceChild(newOption, option);
                
                newOption.addEventListener('click', function() {
                    if (this.classList.contains('disabled')) return;
                    
                    // Update selection
                    document.querySelectorAll('.balance-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    modal.dataset.balanceSource = this.dataset.balance;
                    
                    // Re-validate amount with new balance source
                    const minAmount = parseFloat(modal.dataset.minAmount) || 0;
                    const maxAmount = parseFloat(modal.dataset.maxAmount) || 0;
                    const amount = parseFloat(newAmountInput.value) || 0;
                    validateInvestmentAmount(amount, minAmount, maxAmount);
                });
            });
            
            // Cloud mining confirmation handler - with debouncing
            let isProcessing = false;
            
            // Remove existing listeners from confirm button by cloning
            const newConfirmBtn = confirmBtn.cloneNode(true);
            confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
            
            newConfirmBtn.addEventListener('click', async function() {
                // Prevent multiple simultaneous clicks
                if (isProcessing) {
                    console.log('Cloud mining already in progress, please wait...');
                    return;
                }
                
                isProcessing = true;
                newConfirmBtn.disabled = true;
                
                try {
                    const amount = parseFloat(newAmountInput.value);
                    const selectedBalanceSource = modal.dataset.balanceSource;
                    const minAmount = parseFloat(modal.dataset.minAmount) || 0;
                    const maxAmount = parseFloat(modal.dataset.maxAmount) || 0;
                    const planId = modal.dataset.planId;
                    
                    if (await validateInvestmentAmount(amount, minAmount, maxAmount)) {
                        await createInvestment(planId, amount, selectedBalanceSource);
                    }
                } catch (error) {
                    console.error('Cloud mining error:', error);
                    showNotification('error', 'Cloud Mining Error', 'An unexpected error occurred. Please try again.');
                } finally {
                    // Re-enable button after a short delay
                    setTimeout(() => {
                        isProcessing = false;
                        newConfirmBtn.disabled = false;
                    }, 2000);
                }
            });
        }

        // Close cloud mining modal
        function closeInvestmentModal() {
            const modal = document.getElementById('investment-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
            
            // Clean up modal data
            delete modal.dataset.planId;
            delete modal.dataset.minAmount;
            delete modal.dataset.maxAmount;
            delete modal.dataset.percentage;
            delete modal.dataset.balanceSource;
        }

        // Validate cloud mining amount
        async function validateInvestmentAmount(amount, minAmount, maxAmount) {
            const errorElement = document.getElementById('amount-error');
            const modal = document.getElementById('investment-modal');
            const selectedBalanceSource = modal.dataset.balanceSource;
            
            // Clear previous errors
            errorElement.textContent = '';
            
            // Basic validation
            if (isNaN(amount) || amount <= 0) {
                errorElement.textContent = 'Please enter a valid investment amount';
                return false;
            }
            
            if (amount < 200) { // Minimum investment is 200
                errorElement.textContent = `Minimum cloud mining investment is $200`;
                return false;
            }
            
            if (amount > maxAmount) {
                errorElement.textContent = `Maximum cloud mining investment is $${maxAmount}`;
                return false;
            }
            
            // Check balance availability if source is selected
            if (selectedBalanceSource) {
                try {
                    const token = localStorage.getItem('jwtToken');
                    if (!token) {
                        errorElement.textContent = 'Authentication required';
                        return false;
                    }
                    
                    const response = await fetch('https://bithashcapital.onrender.com/api/users/balances', {
                        headers: {
                            'Authorization': `Bearer ${token}`
                        }
                    });
                    
                    if (response.ok) {
                        const balanceData = await response.json();
                        const selectedBalance = balanceData.data?.balances?.[selectedBalanceSource] || 0;
                        
                        if (selectedBalance < amount) {
                            errorElement.textContent = 
                                `Insufficient ${selectedBalanceSource} balance. Available: $${selectedBalance.toFixed(2)}`;
                            return false;
                        }
                    } else {
                        throw new Error('Failed to verify balance');
                    }
                } catch (error) {
                    console.error('Balance validation error:', error);
                    errorElement.textContent = 'Unable to verify balance. Please try again.';
                    return false;
                }
            } else {
                errorElement.textContent = 'Please select a balance source';
                return false;
            }
            
            return true;
        }

        // Calculate expected cloud mining returns
        function calculateExpectedReturn(amount, percentage) {
            const returnElement = document.getElementById('expected-return');
            
            if (isNaN(amount) || amount <= 0) {
                returnElement.textContent = '$0.00';
                return;
            }
            
            // Calculate with 3% mining fee
            const miningFee = amount * 0.03;
            const netInvestment = amount - miningFee;
            const totalReturn = netInvestment + (netInvestment * percentage / 100);
            
            returnElement.textContent = `$${totalReturn.toFixed(2)}`;
        }

        // Create new cloud mining investment
        async function createInvestment(planId, amount, balanceSource) {
            const token = localStorage.getItem('jwtToken');
            if (!token) return;
            
            const statusElement = document.getElementById('investment-status');
            
            try {
                // Update UI state
                statusElement.textContent = 'Processing your cloud mining investment...';
                statusElement.style.color = 'var(--primary)';
                
                console.log('Creating cloud mining investment:', { planId, amount, balanceSource });
                
                const response = await fetch('https://bithashcapital.onrender.com/api/investments', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({
                        planId: planId,
                        amount: parseFloat(amount),
                        balanceType: balanceSource
                    })
                });
                
                let responseData;
                try {
                    responseData = await response.json();
                } catch (parseError) {
                    console.error('Response parse error:', parseError);
                    responseData = { status: 'success' }; // Assume success for 2xx status
                }
                
                if (response.ok) {
                    // Success handling
                    statusElement.textContent = 'Cloud mining started successfully!';
                    statusElement.style.color = 'var(--success)';
                    
                    showNotification('success', 'Cloud Mining Started', 
                        `Your cloud mining investment of $${amount} has been activated. ` +
                        `Daily Bitcoin rewards will be distributed based on mining output.`);
                    
                    // Close modal and refresh data
                    setTimeout(() => {
                        closeInvestmentModal();
                        fetchAndUpdateBalances();
                        checkAndCompleteInvestments();
                    }, 1500);
                    
                } else {
                    // Error handling
                    throw new Error(responseData.message || `Cloud mining failed: ${response.status}`);
                }
                
            } catch (error) {
                console.error('Cloud mining creation error:', error);
                statusElement.textContent = error.message || 'Failed to start cloud mining';
                statusElement.style.color = 'var(--error)';
                
                showNotification('error', 'Cloud Mining Failed', 
                    error.message || 'There was an issue starting your cloud mining. Please try again.');
            }
        }

        // Check and complete matured cloud mining investments
        async function checkAndCompleteInvestments() {
            const token = localStorage.getItem('jwtToken');
            if (!token) return;
            
            try {
                const response = await fetch('https://bithashcapital.onrender.com/api/investments/active', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const investments = data.data?.investments || [];
                    const now = new Date();
                    
                    // Check each active cloud mining investment for maturity
                    for (const investment of investments) {
                        if (investment.status === 'active') {
                            const endDate = new Date(investment.endDate);
                            
                            if (endDate <= now) {
                                await completeInvestment(investment.id);
                            }
                        }
                    }
                }
            } catch (error) {
                console.error('Error checking cloud mining investments:', error);
            }
        }

        // Complete a specific cloud mining investment
        async function completeInvestment(investmentId) {
            const token = localStorage.getItem('jwtToken');
            if (!token) return;
            
            try {
                const response = await fetch(`https://bithashcapital.onrender.com/api/investments/${investmentId}/complete`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('Cloud mining investment completed:', data);
                    
                    // Refresh UI
                    fetchAndUpdateBalances();
                    
                    showNotification('success', 'Cloud Mining Completed', 
                        'Your cloud mining investment has matured! Returns have been transferred to your matured balance.');
                }
            } catch (error) {
                console.error('Error completing cloud mining investment:', error);
            }
        }

        // Initialize modal close functionality
        document.addEventListener('DOMContentLoaded', function() {
            const modalCloseBtn = document.getElementById('modal-close');
            const investmentModal = document.getElementById('investment-modal');
            
            if (modalCloseBtn) {
                modalCloseBtn.addEventListener('click', closeInvestmentModal);
            }
            
            if (investmentModal) {
                investmentModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeInvestmentModal();
                    }
                });
            }
        });

        // Fetch and update user balances
        async function fetchAndUpdateBalances() {
            try {
                const token = localStorage.getItem('jwtToken');
                const userBalanceContainer = document.getElementById('user-balance-container');
                
                if (!token) {
                    if (userBalanceContainer) userBalanceContainer.style.display = 'none';
                    return;
                }
                
                const response = await fetch('https://bithashcapital.onrender.com/api/users/balances', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const mainBalance = data.data?.balances?.main || 0;
                    const maturedBalance = data.data?.balances?.matured || 0;
                    
                    // Update balance display
                    const mainBalanceElement = document.getElementById('main-balance-amount');
                    const maturedBalanceElement = document.getElementById('matured-balance-amount');
                    
                    if (mainBalanceElement) mainBalanceElement.textContent = `Main: $${mainBalance.toFixed(2)}`;
                    if (maturedBalanceElement) maturedBalanceElement.textContent = `Matured: $${maturedBalance.toFixed(2)}`;
                    if (userBalanceContainer) userBalanceContainer.style.display = 'block';
                    
                    // Start animation for matured balance
                    if (maturedBalance > 0) {
                        startMaturedBalanceAnimation();
                    }
                } else {
                    throw new Error('Failed to fetch balances');
                }
            } catch (error) {
                console.error('Error fetching balances:', error);
                // Set fallback values
                const mainBalanceElement = document.getElementById('main-balance-amount');
                const maturedBalanceElement = document.getElementById('matured-balance-amount');
                
                if (mainBalanceElement) mainBalanceElement.textContent = 'Main: $0.00';
                if (maturedBalanceElement) maturedBalanceElement.textContent = 'Matured: $0.00';
            }
        }

        // Start matured balance animation
        function startMaturedBalanceAnimation() {
            const maturedBalanceElement = document.getElementById('matured-balance');
            if (maturedBalanceElement) {
                maturedBalanceElement.classList.add('matured-balance-animation');
                
                // Remove animation after 90 seconds
                setTimeout(() => {
                    maturedBalanceElement.classList.remove('matured-balance-animation');
                }, 90000);
            }
        }

        // Redirect to dashboard
        function redirectToDashboard() {
            window.location.href = 'dashboard.html';
        }

        // Initialize balance updates
        function startBalanceUpdates() {
            fetchAndUpdateBalances();
            
            // Update balances every 30 seconds
            setInterval(fetchAndUpdateBalances, 30000);
            
            // Check for completed cloud mining investments every minute
            setInterval(checkAndCompleteInvestments, 60000);
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            startBalanceUpdates();
            checkAndCompleteInvestments();
        });

        // Utility function for currency formatting
        function formatCurrency(amount) {
            return '$' + parseFloat(amount).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // Loan eligibility placeholder
        function checkLoanEligibility() {
            showNotification('info', 'Loan Feature', 'Loan eligibility assessment is coming soon!');
        }

        // Initialize AppState for announcements
        const AppState = {
            activeAnnouncements: new Map()
        };
        
        // Start announcements polling
        startAnnouncementsPolling();
    </script>
</body>
</html>
