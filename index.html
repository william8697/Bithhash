<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Miner Marketplace — SPA Mockup</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
:root{
  --bg:#0c0d0f;
  --panel:#141617;
  --muted:#9aa0a6;
  --accent:#7be29f;
  --card:#1b1d1f;
  --border:rgba(255,255,255,0.04);
  --gold:#ffb454;
}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#e6eef3;background:var(--bg)}
.topbar{height:38px;background:#0b0c0d;color:#cfe6de;display:flex;align-items:center;justify-content:center;font-size:13px;border-bottom:1px solid rgba(255,255,255,0.03)}
.page{display:none;flex-direction:column;gap:16px;height:calc(100vh - 38px);padding:16px;overflow:auto;}
.page.active{display:flex;}
.card{background:var(--panel);border-radius:8px;padding:14px;border:1px solid var(--border);box-shadow:0 8px 20px rgba(0,0,0,0.6);}
.table-wrap{overflow:auto;border-radius:6px;border-top:1px dashed rgba(255,255,255,0.02);}
table{width:100%;border-collapse:collapse;font-size:14px;}
th,td{padding:10px;text-align:left;border-bottom:1px dashed rgba(255,255,255,0.02);}
th{color:var(--muted);font-weight:700;font-size:12px;}
.row:hover{background:rgba(255,255,255,0.012);cursor:pointer;}
.location{color:var(--muted);font-size:13px;}
.buy-btn{background:#11b25a;color:white;padding:6px 10px;border-radius:6px;border:none;font-weight:700;cursor:pointer;}
.price-badge{background:#0dbd63;padding:6px 10px;border-radius:6px;color:#042a11;font-weight:800;}
.summary-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:10px;}
.summary-item{background:#0f1112;padding:8px;border-radius:6px;border:1px solid var(--border);font-size:13px;}
.miner-panel{background:#111314;padding:10px;border-radius:8px;border:1px solid var(--border);display:flex;gap:10px;margin-top:10px;}
.miner-meta{flex:1;}
.meta-row{display:flex;justify-content:space-between;color:var(--muted);padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.02);}
.meta-row:last-child{border-bottom:none;}
.spark-wrap{width:250px;height:120px;background:linear-gradient(180deg,#0f1113,#0b0c0d);border-radius:6px;padding:6px;border:1px solid var(--border);}
.small{font-size:12px;color:var(--muted);}
.back-btn{background:#1f2223;border:1px solid var(--border);color:var(--muted);padding:6px 10px;border-radius:6px;cursor:pointer;margin-bottom:10px;width:fit-content;}
.chart-box{height:150px;background:linear-gradient(180deg,#0f1113,#0b0c0d);border-radius:8px;padding:8px;border:1px solid var(--border);}
</style>
</head>
<body>

<div class="topbar">1 BTC ≈ 90,232.75 USD (Dec/13/2025)</div>

<!-- LISTING PAGE -->
<div class="page active" id="pageList">
  <div class="card">
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px;">
      <div style="background:#121314;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.02);font-size:13px;color:var(--muted)">Deal of the Week</div>
      <div style="background:#121314;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.02);font-size:13px;color:var(--muted)">DEALS! NEW GEN &lt;$25/TH</div>
    </div>
    <div class="results" style="font-weight:700;margin-bottom:8px;">Results (545)</div>
    <div class="table-wrap">
      <table id="minersTable">
        <thead>
          <tr>
            <th>Location / Miner</th>
            <th>Hashrate (24h)</th>
            <th>Est. Revenue (30d)</th>
            <th>Est. Profit (30d)</th>
            <th>Price</th>
            <th>Price/TH</th>
            <th>Deal Score</th>
            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</div>

<!-- DETAIL PAGE -->
<div class="page" id="pageDetail">
  <button class="back-btn" id="backBtn">← Back to Listing</button>
  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;">
      <div>
        <div id="offerTitle" style="font-weight:800;font-size:18px;">Miner Model</div>
        <div class="small" id="sellerInfo">Seller info</div>
      </div>
      <div style="text-align:right">
        <div class="small">Price</div>
        <div class="price-badge" id="offerPrice">$0</div>
      </div>
    </div>
    <div class="summary-grid">
      <div class="summary-item"><div class="small">Est. Revenue</div><div id="estRev" style="font-weight:700;margin-top:4px;">$0</div></div>
      <div class="summary-item"><div class="small">Est. Profit</div><div id="estProfit" style="font-weight:700;margin-top:4px;">$0</div></div>
      <div class="summary-item"><div class="small">Price/TH</div><div id="priceTH" style="font-weight:700;margin-top:4px;">$0</div></div>
    </div>
    <div class="chart-box">
      <canvas id="priceChart"></canvas>
    </div>
  </div>

  <div class="card" style="margin-top:10px;">
    <div style="font-weight:800;margin-bottom:6px;">Miners Inside this offer</div>
    <div class="miner-panel">
      <div class="miner-meta">
        <div id="minerTitle" style="font-weight:800;color:#e8f6ea">Serial — Hashrate</div>
        <div class="meta-row"><div class="small">Hashrate (24h)</div><div id="mHash">0</div></div>
        <div class="meta-row"><div class="small">Power Usage (24h)</div><div id="mPower">0</div></div>
        <div class="meta-row"><div class="small">Estimated Revenue</div><div id="mRev">0</div></div>
      </div>
      <div class="spark-wrap">
        <canvas id="miniChart"></canvas>
        <div class="small" style="text-align:center;margin-top:4px;">Last 7 days</div>
      </div>
    </div>
  </div>
</div>

<script>
const minersData = [
  {loc:'MO-ART', model:'Bitmain S21 XP 270T', hash:273.63, rev:317.09, profit:117.39, price:5899, serial:'JYZZFMABEJEJG00M5', power:3.65},
  {loc:'TX-SLN', model:'Bitmain S21+ 235T', hash:237.33, rev:275.99, profit:80.73, price:3350, serial:'SLN235T-001', power:3.2},
  {loc:'KY-RH', model:'Bitmain S21 XP 270T', hash:1380, rev:1585.45, profit:586.95, price:30000, serial:'BIGHASH001', power:15.4}
];

// Fill table
const tbody = document.querySelector('#minersTable tbody');
minersData.forEach(it=>{
  const tr = document.createElement('tr');
  tr.classList.add('row');
  tr.dataset.serial = it.serial;
  tr.innerHTML = `
    <td><div style="font-weight:700">${it.model}</div><div class="location">${it.loc}</div></td>
    <td>${it.hash.toLocaleString()} TH/s</td>
    <td>${it.rev.toFixed(2)} USD</td>
    <td>${it.profit.toFixed(2)} USD</td>
    <td>$${it.price.toLocaleString()}</td>
    <td>${(it.price/it.hash).toFixed(2)} USD/TH</td>
    <td class="deal-score">★100/100</td>
    <td><button class="buy-btn">Buy</button></td>
  `;
  tbody.appendChild(tr);
});

// Show detail page
const pageList = document.getElementById('pageList');
const pageDetail = document.getElementById('pageDetail');
const backBtn = document.getElementById('backBtn');

tbody.addEventListener('click', e=>{
  const tr = e.target.closest('tr');
  if(!tr) return;
  const serial = tr.dataset.serial;
  const miner = minersData.find(m=>m.serial===serial);
  if(!miner) return;
  loadDetail(miner);
  pageList.classList.remove('active');
  pageDetail.classList.add('active');
});

// Back button
backBtn.addEventListener('click', ()=>{
  pageDetail.classList.remove('active');
  pageList.classList.add('active');
});

// Load detail content
const offerTitle = document.getElementById('offerTitle');
const offerPrice = document.getElementById('offerPrice');
const estRev = document.getElementById('estRev');
const estProfit = document.getElementById('estProfit');
const priceTH = document.getElementById('priceTH');
const minerTitle = document.getElementById('minerTitle');
const mHash = document.getElementById('mHash');
const mPower = document.getElementById('mPower');
const mRev = document.getElementById('mRev');

let priceChart, miniChart;
function loadDetail(miner){
  offerTitle.textContent = miner.model;
  offerPrice.textContent = `$${miner.price.toLocaleString()} USD`;
  estRev.textContent = `$${miner.rev.toFixed(2)}`;
  estProfit.textContent = `$${miner.profit.toFixed(2)}`;
  priceTH.textContent = `${(miner.price/miner.hash).toFixed(2)} USD/TH`;
  minerTitle.textContent = `${miner.serial} — ${miner.hash.toFixed(2)} TH/s`;
  mHash.textContent = `${miner.hash.toFixed(2)} TH/s`;
  mPower.textContent = `${miner.power.toFixed(2)} kW`;
  mRev.textContent = `$${miner.rev.toFixed(2)}`;

  // Price chart
  if(priceChart) priceChart.destroy();
  priceChart = new Chart(document.getElementById('priceChart').getContext('2d'),{
    type:'line',
    data:{
      labels:['Nov1','Nov10','Nov20','Dec1','Dec8','Dec12'],
      datasets:[{data:[miner.price,miner.price*0.98,miner.price*0.95,miner.price*0.92,miner.price*0.90,miner.price*0.88],fill:true,tension:0.3,borderColor:'rgba(123,226,159,0.95)',backgroundColor:'rgba(123,226,159,0.1)'}]
    },
    options:{responsive:true,plugins:{legend:{display:false}},scales:{x:{grid:{display:false}},y:{grid:{color:'rgba(255,255,255,0.02)'}}}}
  });

  // Mini chart
  const miniData = [miner.hash-5, miner.hash+3, miner.hash-6, miner.hash-2, miner.hash+4, miner.hash-3, miner.hash];
  if(miniChart) miniChart.destroy();
  miniChart = new Chart(document.getElementById('miniChart').getContext('2d'),{
    type:'line',
    data:{labels:['D1','D2','D3','D4','D5','D6','D7'],datasets:[{data:miniData,fill:true,borderColor:'rgba(93,197,248,0.95)',backgroundColor:'rgba(93,197,248,0.1)',tension:0.2}]},
    options:{responsive:true,plugins:{legend:{display:false}},scales:{x:{display:false},y:{display:false}}}
  });
}
</script>

</body>
</html>
