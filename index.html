<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Miner Marketplace — Full Detail</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
  :root{
    --bg:#0c0d0f;
    --panel:#141617;
    --muted:#9aa0a6;
    --accent:#7be29f;
    --gold:#ffb454;
    --border:rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box;}
  body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:#e6eef3;}
  .topbar{height:38px;background:#0b0c0d;display:flex;align-items:center;justify-content:center;font-size:13px;border-bottom:1px solid rgba(255,255,255,0.03);}
  .layout{display:flex;gap:18px;padding:18px;}
  .left{flex:1;min-width:720px;max-width:900px;}
  .panel{background:var(--panel);border-radius:8px;padding:14px;border:1px solid var(--border);display:flex;flex-direction:column;}
  .filters{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:12px;}
  .chip{background:#121314;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.02);font-size:13px;color:var(--muted);}
  select,input{background:#0e1011;border:1px solid var(--border);color:#e6eef3;padding:8px 10px;border-radius:6px;font-size:14px;}
  .results{margin-top:8px;font-weight:700;}
  .table-wrap{overflow:auto;margin-top:10px;border-radius:6px;border-top:1px dashed rgba(255,255,255,0.02);}
  table{width:100%;border-collapse:collapse;font-size:14px;}
  th,td{padding:12px 10px;text-align:left;border-bottom:1px dashed rgba(255,255,255,0.02);}
  th{font-size:12px;color:var(--muted);font-weight:700;}
  .location{color:var(--muted);font-size:13px;}
  .buy-btn{background:#11b25a;color:white;padding:6px 10px;border-radius:6px;border:none;cursor:pointer;font-weight:700;}
  tr.row:hover{background:rgba(255,255,255,0.012);cursor:pointer;}
  .deal-score{color:var(--gold);font-weight:700;}

  .right{width:460px;min-width:420px;}
  .detail-panel{background:var(--panel);border-radius:8px;padding:14px;border:1px solid var(--border);}
  .offer-header{display:flex;justify-content:space-between;align-items:flex-start;}
  .offer-title{font-size:18px;font-weight:800;}
  .price-badge{background:#0dbd63;padding:8px 10px;border-radius:6px;color:#042a11;font-weight:800;}
  .miner-image{width:140px;height:110px;background:linear-gradient(180deg,#161718,#0b0c0d);border-radius:8px;border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;color:var(--muted);}
  .summary-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:12px;}
  .summary-item{background:#0f1112;padding:10px;border-radius:8px;border:1px solid var(--border);font-size:13px;}
  .chart-box{height:170px;background:linear-gradient(180deg,#0f1113,#0b0c0d);border-radius:8px;padding:10px;border:1px solid var(--border);margin-top:12px;}
  .miners-section{margin-top:18px;}
  .miner-panel{background:#111314;padding:12px;border-radius:8px;border:1px solid var(--border);display:flex;gap:12px;margin-top:10px;align-items:flex-start;}
  .miner-meta{flex:1;}
  .meta-row{display:flex;justify-content:space-between;color:var(--muted);padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.02);}
  .meta-row:last-child{border-bottom:none;}
  .spark-wrap{width:300px;height:150px;background:linear-gradient(180deg,#0f1113,#0b0c0d);border-radius:6px;padding:8px;border:1px solid var(--border);}
  .small{font-size:12px;color:var(--muted);}
  button.downloadCSV{background:#1f2223;border:1px solid var(--border);color:var(--muted);padding:6px 10px;border-radius:6px;cursor:pointer;margin-top:6px;}
</style>
</head>
<body>
<div class="topbar">1 BTC ≈ 90,300.79 USD (Dec/13/2025 - 01:13 AM)</div>
<div class="layout">
  <div class="left">
    <div class="panel">
      <div class="filters">
        <div class="chip">Deal of the Week</div>
        <div class="chip">DEALS! NEW GEN &lt;$25/TH</div>
        <div class="chip">IMMERSION</div>
        <select id="manufacturer"><option value="">Manufacturer</option><option>Bitmain</option></select>
        <select id="class"><option value="">Class</option><option>New</option><option>Used</option></select>
        <select id="model"><option value="">Miner Model</option><option>S21 XP 270T</option></select>
      </div>
      <div class="results">Results (4)</div>
      <div class="table-wrap">
        <table id="minersTable">
          <thead>
            <tr>
              <th>Location / Miner</th>
              <th>Hashrate (24h)</th>
              <th>Est. Revenue (30d)</th>
              <th>Est. Profit (30d)</th>
              <th>Price</th>
              <th>Price/TH</th>
              <th>Deal Score</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="right">
    <div class="detail-panel" id="detailPanel">
      <div class="offer-header">
        <div>
          <div class="offer-title" id="offerTitle">Bitmain S21 XP 270T</div>
          <div class="small" id="sellerInfo">MO-ART — <span id="serialShort">JYZZFMABEJEJG00M5</span></div>
        </div>
        <div style="text-align:right">
          <div class="small">Price</div>
          <div class="price-badge" id="offerPrice">$5,899.00 USD</div>
        </div>
      </div>
      <div style="display:flex;gap:12px;margin-top:12px">
        <div class="miner-image" id="minerImg">Miner Photo</div>
        <div style="flex:1">
          <div class="summary-grid">
            <div class="summary-item"><div class="small">EST. REVENUE (30d)</div><div id="estRev">$317.02 USD</div></div>
            <div class="summary-item"><div class="small">EST. PROFIT (30d)</div><div id="estProfit">$117.32 USD</div></div>
            <div class="summary-item"><div class="small">PRICE/TH</div><div id="priceTH">21.85 USD/TH</div></div>
            <div class="summary-item"><div class="small">POOL FEES</div><div id="poolFees">2%</div></div>
            <div class="summary-item"><div class="small">ENERGY PRICE ($/KWH)</div><div id="energy">0.075 USD</div></div>
            <div class="summary-item"><div class="small">TOTAL NUMBERS OF MINERS</div><div id="numMiners">1</div></div>
            <div class="summary-item"><div class="small">EST. MONTHLY FEE</div><div id="monthlyFee">$203.39</div></div>
          </div>
          <div style="margin-top:8px;color:var(--muted);font-size:13px">
            InstaHash - Best Bitcoin Mining Rig In The World @ 13.5 Watts Per Terra Hash (most efficient = longest life)
          </div>
        </div>
      </div>
      <div class="chart-box"><canvas id="priceChart"></canvas></div>
      <div class="miners-section">
        <h4>Miner Summary</h4>
        <div class="miner-panel">
          <div class="miner-meta">
            <div style="font-weight:800" id="minerTitle">JYZZFMABEJEJG00M5 <span style="color:var(--gold)">273.63 TH/s</span></div>
            <div class="meta-row"><div class="small">Hashrate (24h)</div><div id="mHash">273.63 TH/s</div></div>
            <div class="meta-row"><div class="small">Power Usage (24h)</div><div id="mPower">3.65 kW</div></div>
            <div class="meta-row"><div class="small">Estimated Revenue (30d)</div><div id="mRev">$317.02 USD</div></div>
            <div class="meta-row"><div class="small">Online Date</div><div id="mOnline">10/30/25</div></div>
            <div class="meta-row"><div class="small">Miner model</div><div id="mModel">S21 XP 270T</div></div>
            <div class="meta-row"><div class="small">Serial Number</div><div id="mSerial">JYZZFMABEJEJG00M5</div></div>
            <div class="meta-row"><div class="small">Hashrate (Ideal)</div><div id="mIdeal">270.00 TH/s</div></div>
            <div class="meta-row"><div class="small">Power Usage (Ideal)</div><div id="mIdealPower">3.64 kW</div></div>
            <div class="meta-row"><div class="small">Online Since</div><div id="mSince">10/30/25</div></div>
          </div>
          <div class="spark-wrap">
            <canvas id="miniChart"></canvas>
            <button class="downloadCSV" id="downloadCSV">Download CSV</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// sample miners
const minersData = [
  {loc:'MO-ART', model:'Bitmain S21 XP 270T', hash:273.63, rev:317.09, profit:117.39, price:5899, pth:21.85, score:100, serial:'JYZZFMABEJEJG00M5', power:3.65, online:'10/30/25'},
  {loc:'TX-SLN', model:'Bitmain S21+ 235T', hash:237.33, rev:275.99, profit:80.73, price:3350, pth:14.10, score:100, serial:'SLN235T-001', power:3.2, online:'11/05/25'}
];

// fill table
const tbody = document.querySelector('#minersTable tbody');
tbody.innerHTML = minersData.map(it=>{
  return `<tr class="row" data-serial="${it.serial}">
    <td><div style="font-weight:700">${it.model}</div><div class="location">${it.loc}</div></td>
    <td>${it.hash.toLocaleString()} TH/s</td>
    <td>${it.rev.toFixed(2)} USD</td>
    <td>${it.profit.toFixed(2)} USD</td>
    <td>$${it.price.toLocaleString()}</td>
    <td>${it.pth.toFixed(2)} USD/TH</td>
    <td class="deal-score">★ ${it.score}/100</td>
    <td><button class="buy-btn">Buy</button></td>
  </tr>`;
}).join('');

// detail panel update
function loadDetail(serial){
  const item = minersData.find(x=>x.serial===serial);
  if(!item) return;
  document.getElementById('offerTitle').textContent=item.model;
  document.getElementById('offerPrice').textContent='$'+item.price.toLocaleString()+' USD';
  document.getElementById('serialShort').textContent=item.serial;
  document.getElementById('estRev').textContent=item.rev.toFixed(2)+' USD';
  document.getElementById('estProfit').textContent=item.profit.toFixed(2)+' USD';
  document.getElementById('priceTH').textContent=item.pth.toFixed(2)+' USD/TH';
  document.getElementById('mHash').textContent=item.hash+' TH/s';
  document.getElementById('mPower').textContent=item.power+' kW';
  document.getElementById('mRev').textContent=item.rev.toFixed(2)+' USD';
  document.getElementById('mOnline').textContent=item.online;
  document.getElementById('mModel').textContent=item.model;
  document.getElementById('mSerial').textContent=item.serial;
  document.getElementById('mIdeal').textContent=(item.hash-3).toFixed(2)+' TH/s';
  document.getElementById('mIdealPower').textContent=(item.power-0.01).toFixed(2)+' kW';
  document.getElementById('mSince').textContent=item.online;

  updateCharts(item.hash);
}

// click row
tbody.addEventListener('click',e=>{
  const tr=e.target.closest('tr');
  if(!tr) return;
  loadDetail(tr.dataset.serial);
});

// Price chart
const priceChartCtx=document.getElementById('priceChart').getContext('2d');
const priceChart=new Chart(priceChartCtx,{
  type:'line',
  data:{
    labels:['Nov 01','Nov 10','Nov 20','Dec 01','Dec 08','Dec 12'],
    datasets:[{
      label:'Avg Sale Price',
      data:[6400,6350,6220,6150,6020,5800],
      fill:true,
      tension:0.35,
      pointRadius:4,
      borderWidth:2,
      borderColor:'rgba(123,226,159,0.95)',
      backgroundColor:'rgba(123,226,159,0.08)'
    }]
  },
  options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}
});

// Mini chart
const miniCtx=document.getElementById('miniChart').getContext('2d');
let miniChart=new Chart(miniCtx,{
  type:'line',
  data:{
    labels:['Dec 05','Dec 06','Dec 07','Dec 08','Dec 09','Dec 10','Dec 11'],
    datasets:[{data:[268,269,267,270,272,271,273],fill:true,tension:0.25,borderWidth:2,borderColor:'#59c5ff',backgroundColor:'rgba(93,197,248,0.12)'}]
  },
  options:{responsive:true,maintainAspectRatio:false,scales:{x:{display:false},y:{display:false}},plugins:{legend:{display:false},tooltip:{enabled:true}}}
});

function updateCharts(baseHash){
  const data7=[baseHash-5,baseHash-3,baseHash-6,baseHash-2,baseHash+4,baseHash-3,baseHash];
  miniChart.data.datasets[0].data=data7;
  miniChart.update();
}

// CSV download
document.getElementById('downloadCSV').addEventListener('click',()=>{
  const labels=miniChart.data.labels;
  const values=miniChart.data.datasets[0].data;
  const rows=[['Date','Hashrate']];
  for(let i=0;i<labels.length;i++) rows.push([labels[i],values[i]]);
  const csv=rows.map(r=>r.join(',')).join('\n');
  const blob=new Blob([csv],{type:'text/csv'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a');
  a.href=url;a.download='hashrate.csv';document.body.appendChild(a);a.click();a.remove();
  URL.revokeObjectURL(url);
});

// initialize first miner
loadDetail(minersData[0].serial);
</script>
</body>
</html>
