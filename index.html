<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- Enhanced SEO Meta Tags -->
    <title>BitHash Cloud Mining | Start Bitcoin Mining with SHA-256 ASIC Miners</title>
    <meta name="description" content="Start Bitcoin cloud mining with BitHash. No hardware, no electricity costs. Invest in SHA-256 ASIC miners with daily returns. $200 minimum investment. Join leading BTC mining platform.">
    <meta name="keywords" content="bitcoin cloud mining, cloud mining, bitcoin mining, start bitcoin mining, BTC mining, SHA-256 mining, ASIC miners, cryptocurrency mining, passive income bitcoin, mining investment">
    <meta name="robots" content="index, follow, max-image-preview:large">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="BitHash Cloud Mining | Start Bitcoin Mining Today">
    <meta property="og:description" content="Join BitHash Cloud Mining Platform. Access industrial-grade SHA-256 ASIC miners with no hardware maintenance. Start earning Bitcoin daily.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.bithashcapital.live">
    <meta property="og:image" content="https://www.dropbox.com/scl/fi/0qn1054f0y3d3dzvn9w5h/WhatsApp-Image-2025-07-19-at-17.16.42_679cc7d5.jpg?rlkey=la1zhkgazqsoh182cn67wtc19&raw=1">
    <meta property="og:site_name" content="BitHash Cloud Mining">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BitHash Cloud Mining | Bitcoin Mining Made Easy">
    <meta name="twitter:description" content="Start Bitcoin cloud mining with professional SHA-256 ASIC infrastructure. No technical knowledge required.">
    <meta name="twitter:image" content="https://www.dropbox.com/scl/fi/0qn1054f0y3d3dzvn9w5h/WhatsApp-Image-2025-07-19-at-17.16.42_679cc7d5.jpg?rlkey=la1zhkgazqsoh182cn67wtc19&raw=1">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.bithashcapital.live">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FinancialService",
        "name": "BitHash Cloud Mining",
        "url": "https://www.bithashcapital.live",
        "logo": "https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1",
        "description": "Professional Bitcoin cloud mining platform providing access to SHA-256 ASIC mining infrastructure with daily returns.",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "800 Plant St",
            "addressLocality": "Wilmington",
            "addressRegion": "DE",
            "postalCode": "19801",
            "addressCountry": "US"
        },
        "serviceType": "Cloud Mining",
        "areaServed": "Worldwide",
        "offers": {
            "@type": "Offer",
            "category": "FinancialProduct",
            "name": "Bitcoin Cloud Mining Contracts"
        }
    }
    </script>
    
    <!-- Additional Schema for Cloud Mining Service -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Service",
        "serviceType": "Bitcoin Cloud Mining",
        "provider": {
            "@type": "Organization",
            "name": "BitHash LLC"
        },
        "description": "Hash rate rental service using SHA-256 ASIC miners in industrial data centers",
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Cloud Mining Plans",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Starter Cloud Mining Plan"
                    }
                }
            ]
        }
    }
    </script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" type="image/png">
    
    <!-- Preload Critical Assets -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17721052671"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'AW-17721052671');
    </script>
    
    <style>
        :root {
            /* Crypto.com Color System */
            --primary-bg: #051941;
            --secondary-bg: #0A1C44;
            --card-bg: #101E46;
            --divider-color: rgba(255, 255, 255, 0.06);
            --primary-blue: #092D74;
            --hover-blue: #0B3E9D;
            --accent-glow: rgba(9, 45, 116, 0.35);
            --primary-text: #FFFFFF;
            --secondary-text: #9AA4BF;
            --muted-text: #6B7280;
            --disabled-text: rgba(255, 255, 255, 0.4);
            --positive: #00C78C;
            --negative: #E02424;
            --warning: #F5A524;
            --gold: #D4AF37;
            --border-radius: 12px;
            --border-radius-lg: 16px;
            --box-shadow: 0 6px 20px rgba(0, 0, 0, 0.35);
            --box-shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.45);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Plan Colors (Maintained from template) */
            --plan-color-1: #003366;
            --plan-color-2: #006400;
            --plan-color-3: #4B0082;
            --plan-color-4: #8B0000;
            --plan-color-5: #DAA520;
            --plan-color-6: #2F4F4F;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }
        
        body {
            font-family: 'Inter', system-ui, sans-serif;
            color: var(--primary-text);
            background-color: var(--primary-bg);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-size: 16px;
            font-weight: 400;
        }

        /* Page Load Animation */
        body.loading-complete [data-aos] {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s var(--transition), transform 0.4s var(--transition);
        }

        body.loading-complete [data-aos].aos-animate {
            opacity: 1;
            transform: translateY(0);
        }

        /* Security Badge */
        .security-badge {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            padding: 12px 16px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
            font-weight: 600;
            z-index: 100;
            border: 1px solid var(--divider-color);
            color: var(--primary-text);
            backdrop-filter: blur(10px);
            border-left: 4px solid var(--positive);
        }
        
        .security-badge i {
            color: var(--positive);
            font-size: 14px;
        }
        
        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-logo {
            width: 80px;
            height: 80px;
            animation: pulse 1.5s infinite ease-in-out;
            filter: drop-shadow(0 0 10px rgba(9, 45, 116, 0.3));
        }
        
        .loading-text {
            margin-top: 20px;
            font-weight: 500;
            color: var(--secondary-text);
            font-size: 14px;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.8; }
        }
        
        .container {
            width: 100%;
            max-width: 1320px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Enhanced Header Styles - Crypto.com Style */
        header {
            background-color: var(--primary-bg);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 12px 0;
            transition: var(--transition-slow);
            border-bottom: 1px solid var(--divider-color);
            height: 72px;
            backdrop-filter: blur(10px);
        }
        
        header.scrolled {
            background-color: rgba(5, 25, 65, 0.98);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            height: 100%;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            z-index: 1001;
        }
        
        .logo img {
            height: 36px;
            width: auto;
            transition: var(--transition);
        }
        
        .logo:hover img {
            transform: scale(1.05);
        }
        
        .logo-text {
            font-weight: 700;
            font-size: 24px;
            color: var(--primary-text);
            background-clip: text;
            position: relative;
        }

        /* Language Selector */
        .language-selector {
            position: relative;
            margin-right: 15px;
        }
        
        .language-dropdown-btn {
            background: var(--card-bg);
            border: 1px solid var(--divider-color);
            border-radius: var(--border-radius);
            padding: 10px 16px;
            color: var(--primary-text);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: var(--transition);
            min-width: 140px;
        }
        
        .language-dropdown-btn:hover {
            background: var(--hover-blue);
            border-color: var(--primary-blue);
        }
        
        .language-dropdown-btn i {
            font-size: 12px;
            transition: var(--transition);
        }
        
        .language-dropdown-btn.active i {
            transform: rotate(180deg);
        }
        
        .language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 280px;
            background: var(--card-bg);
            border: 1px solid var(--divider-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            margin-top: 8px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: var(--transition);
            z-index: 1002;
            max-height: 400px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .language-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .language-search {
            padding: 16px;
            border-bottom: 1px solid var(--divider-color);
        }
        
        .language-search input {
            width: 100%;
            padding: 10px 16px;
            background: var(--secondary-bg);
            border: 1px solid var(--divider-color);
            border-radius: var(--border-radius);
            color: var(--primary-text);
            font-size: 14px;
        }
        
        .language-search input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }
        
        .language-list {
            flex: 1;
            overflow-y: auto;
            max-height: 300px;
        }
        
        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--divider-color);
            color: var(--primary-text);
        }
        
        .language-option:last-child {
            border-bottom: none;
        }
        
        .language-option:hover {
            background: var(--secondary-bg);
        }
        
        .language-option.active {
            background: var(--primary-blue);
            color: var(--primary-text);
        }
        
        .language-flag {
            width: 24px;
            height: 18px;
            border-radius: 2px;
            object-fit: cover;
        }
        
        .language-name {
            flex: 1;
            font-size: 14px;
        }
        
        .language-code {
            color: var(--secondary-text);
            font-size: 12px;
        }
        
        .language-option.active .language-code {
            color: var(--primary-text);
        }
        
        .language-pagination {
            display: flex;
            justify-content: space-between;
            padding: 12px 16px;
            border-top: 1px solid var(--divider-color);
            background: var(--secondary-bg);
        }
        
        .language-pagination-btn {
            background: none;
            border: none;
            color: var(--primary-blue);
            cursor: pointer;
            font-size: 13px;
            padding: 6px 12px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }
        
        .language-pagination-btn:hover:not(:disabled) {
            background: rgba(9, 45, 116, 0.1);
        }
        
        .language-pagination-btn:disabled {
            color: var(--muted-text);
            cursor: not-allowed;
        }
        
        .language-pagination-info {
            color: var(--secondary-text);
            font-size: 13px;
            display: flex;
            align-items: center;
        }
        
        /* Auth Buttons */
        .auth-buttons {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .auth-buttons .btn {
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        /* User Balance Container */
        .user-balance-container {
            width: 100%;
            background-color: var(--secondary-bg);
            padding: 12px 0;
            position: fixed;
            top: 72px;
            z-index: 999;
            border-bottom: 1px solid var(--divider-color);
            display: none;
        }
        
        .user-balances {
            display: flex;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
        }
        
        .user-balance {
            background-color: var(--primary-blue);
            color: var(--primary-text);
            padding: 8px 16px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            border: 1px solid transparent;
        }
        
        .user-balance:hover {
            background-color: var(--hover-blue);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--accent-glow);
        }
        
        .user-balance i {
            font-size: 14px;
        }
        
        /* Matured Balance Animation */
        @keyframes pulseHighlight {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 199, 140, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(0, 199, 140, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 199, 140, 0); }
        }
        
        .matured-balance-animation {
            animation: pulseHighlight 2s ease-in-out infinite;
            background: linear-gradient(135deg, var(--gold) 0%, #FFD700 100%) !important;
            color: var(--primary-bg) !important;
            position: relative;
            overflow: hidden;
        }
        
        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--primary-text);
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            z-index: 1001;
            transition: var(--transition);
        }
        
        .mobile-menu-toggle:hover {
            color: var(--primary-blue);
        }
        
        .mobile-menu-dropdown {
            position: absolute;
            top: 72px;
            right: 20px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 16px 0;
            transform: translateY(-20px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 1000;
            border: 1px solid var(--divider-color);
            min-width: 220px;
            backdrop-filter: blur(10px);
        }
        
        .mobile-menu-dropdown.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .mobile-menu-dropdown ul {
            list-style: none;
        }
        
        .mobile-menu-dropdown li {
            padding: 12px 24px;
        }
        
        .mobile-menu-dropdown a {
            color: var(--primary-text);
            text-decoration: none;
            font-size: 14px;
            transition: var(--transition);
            display: block;
            font-weight: 500;
        }
        
        .mobile-menu-dropdown a:hover {
            color: var(--primary-blue);
        }
        
        /* PC Toggle Menu */
        .pc-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--primary-text);
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            z-index: 1001;
            transition: var(--transition);
            margin-left: 15px;
        }
        
        .pc-menu-toggle:hover {
            color: var(--primary-blue);
        }
        
        .pc-menu-dropdown {
            position: absolute;
            top: 72px;
            right: 20px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 16px 0;
            transform: translateY(-20px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 1000;
            border: 1px solid var(--divider-color);
            min-width: 220px;
            backdrop-filter: blur(10px);
        }
        
        .pc-menu-dropdown.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .pc-menu-dropdown ul {
            list-style: none;
        }
        
        .pc-menu-dropdown li {
            padding: 12px 24px;
        }
        
        .pc-menu-dropdown a {
            color: var(--primary-text);
            text-decoration: none;
            font-size: 14px;
            transition: var(--transition);
            display: block;
            font-weight: 500;
        }
        
        .pc-menu-dropdown a:hover {
            color: var(--primary-blue);
        }
        
        nav {
            transition: var(--transition-slow);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 32px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--primary-text);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            font-size: 14px;
            padding: 4px 0;
            opacity: 0.9;
        }
        
        nav a:hover {
            color: var(--primary-blue);
            opacity: 1;
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-blue);
            transition: var(--transition);
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        /* Buttons - Crypto.com Style */
        .btn {
            padding: 14px 28px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
            font-family: 'Inter', sans-serif;
        }
        
        .btn-primary {
            background: var(--primary-blue);
            color: var(--primary-text);
            box-shadow: 0 4px 15px rgba(9, 45, 116, 0.3);
        }
        
        .btn-primary:hover {
            background: var(--hover-blue);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary-text);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }
        
        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.06);
            color: var(--primary-text);
            transform: translateY(-2px);
        }
        
        .btn-gold {
            background: linear-gradient(135deg, var(--gold) 0%, #FFD700 100%);
            color: var(--primary-bg);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
            font-weight: 700;
        }
        
        .btn-gold:hover {
            background: linear-gradient(135deg, #FFD700 0%, var(--gold) 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }

        /* Announcement System */
        .announcement-center {
            position: fixed;
            top: 72px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9998;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            width: 100%;
            max-width: 550px;
            padding: 0 20px;
        }

        .announcement {
            width: 100%;
            padding: 20px 24px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: flex-start;
            gap: 16px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(-25px) scale(0.95);
            opacity: 0;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            background: var(--card-bg);
            border: 1px solid var(--divider-color);
            pointer-events: auto;
            position: relative;
            border-left: 4px solid var(--negative);
            color: var(--primary-text);
            min-height: auto;
            max-height: none;
            overflow: visible;
            word-wrap: break-word;
            word-break: break-word;
            white-space: normal;
            line-height: 1.6;
        }

        .announcement.show {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .announcement.error {
            border-left: 4px solid var(--negative);
        }

        .announcement.warning {
            border-left: 4px solid var(--warning);
        }

        .announcement.info {
            border-left: 4px solid var(--primary-blue);
        }

        .announcement i {
            font-size: 18px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .announcement.error i {
            color: var(--negative);
        }

        .announcement.warning i {
            color: var(--warning);
        }

        .announcement.info i {
            color: var(--primary-blue);
        }

        .announcement-content {
            flex: 1;
            padding-right: 12px;
            overflow: visible;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
        }

        .announcement-title {
            font-weight: 700;
            margin-bottom: 0;
            font-size: 16px;
            color: var(--primary-text) !important;
            white-space: normal;
            overflow: visible;
            text-overflow: unset;
            line-height: 1.3;
            letter-spacing: -0.01em;
            display: block;
        }

        .announcement-message {
            font-size: 14px;
            line-height: 1.6;
            color: var(--secondary-text) !important;
            white-space: normal;
            overflow: visible;
            text-overflow: unset;
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .announcement-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            margin-top: 16px;
            color: var(--primary-blue) !important;
            white-space: nowrap;
            border-top: 1px solid var(--divider-color);
            padding-top: 16px;
            gap: 0;
            font-weight: 600 !important;
            width: 100%;
        }

        .announcement-sender {
            font-weight: 600 !important;
            color: var(--primary-blue) !important;
            white-space: nowrap;
            overflow: visible;
            text-overflow: unset;
        }

        .announcement-date {
            opacity: 0.9;
            color: var(--primary-blue) !important;
            font-weight: 600 !important;
            white-space: nowrap;
        }

        .announcement-close {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.05);
            border: none;
            color: var(--secondary-text);
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
            padding: 0;
            opacity: 0.8;
        }

        .announcement-close:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
            color: var(--primary-text);
            opacity: 1;
        }

        /* Notification System */
        .notification-center {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            justify-content: flex-start;
            pointer-events: none;
            width: 100%;
            max-width: 350px;
        }
        
        .notification {
            width: 100%;
            padding: 16px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            display: flex;
            align-items: start;
            gap: 12px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform: translateX(30px) scale(0.95);
            opacity: 0;
            margin-bottom: 10px;
            font-size: 13px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            background-color: var(--card-bg);
            border: 1px solid var(--divider-color);
            pointer-events: auto;
            position: relative;
        }
        
        .notification.show {
            transform: translateX(0) scale(1);
            opacity: 1;
        }
        
        .notification.error {
            background-color: rgba(224, 36, 36, 0.1);
            border-left: 4px solid var(--negative);
        }
        
        .notification.success {
            background-color: rgba(0, 199, 140, 0.1);
            border-left: 4px solid var(--positive);
        }
        
        .notification.warning {
            background-color: rgba(245, 165, 36, 0.1);
            border-left: 4px solid var(--warning);
        }
        
        .notification i {
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .notification-content {
            flex: 1;
            padding-right: 10px;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 14px;
            color: var(--primary-text);
        }
        
        .notification-message {
            font-size: 13px;
            line-height: 1.4;
            color: var(--secondary-text);
        }
        
        .notification-close {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: var(--transition);
            font-size: 12px;
            color: var(--secondary-text);
        }
        
        .notification-close:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: rotate(90deg);
            color: var(--primary-text);
        }

        /* Loan Popup */
        .loan-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-lg);
            padding: 32px;
            width: 90%;
            max-width: 420px;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 1px solid var(--divider-color);
            font-size: 14px;
            overflow-y: auto;
            max-height: 85vh;
        }
        
        .loan-popup.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            visibility: visible;
        }
        
        .loan-popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--divider-color);
        }
        
        .loan-popup-title {
            font-weight: 700;
            color: var(--primary-blue);
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .loan-popup-close {
            background: none;
            border: none;
            color: var(--secondary-text);
            cursor: pointer;
            font-size: 24px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .loan-popup-close:hover {
            background-color: var(--secondary-bg);
            color: var(--primary-text);
        }
        
        .loan-popup-content {
            font-size: 14px;
            color: var(--primary-text);
            margin-bottom: 24px;
            line-height: 1.6;
        }
        
        .loan-popup-content p {
            margin-bottom: 16px;
            color: var(--secondary-text);
        }
        
        .loan-eligibility-details {
            background: var(--secondary-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--divider-color);
        }
        
        .eligibility-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--divider-color);
        }
        
        .eligibility-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .eligibility-icon {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .eligibility-icon.success {
            background: rgba(0, 199, 140, 0.1);
            color: var(--positive);
        }
        
        .eligibility-icon.warning {
            background: rgba(245, 165, 36, 0.1);
            color: var(--warning);
        }
        
        .eligibility-icon.error {
            background: rgba(224, 36, 36, 0.1);
            color: var(--negative);
        }
        
        .eligibility-text {
            flex: 1;
            font-size: 14px;
            color: var(--primary-text);
        }
        
        .eligibility-value {
            font-weight: 600;
            color: var(--primary-blue);
        }
        
        .loan-popup-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--divider-color);
        }
        
        .loan-popup-btn {
            padding: 12px 24px;
            border-radius: var(--border-radius);
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-weight: 600;
            min-width: 120px;
        }
        
        .loan-popup-btn-primary {
            background: var(--primary-blue);
            color: var(--primary-text);
            box-shadow: 0 4px 15px rgba(9, 45, 116, 0.25);
        }
        
        .loan-popup-btn-primary:hover:not(:disabled) {
            background: var(--hover-blue);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
        }
        
        .loan-popup-btn-secondary {
            background-color: transparent;
            color: var(--primary-text);
            border: 1px solid var(--divider-color);
        }
        
        .loan-popup-btn-secondary:hover {
            background-color: var(--secondary-bg);
            border-color: var(--primary-blue);
        }
        
        .loan-popup-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Loan Application Modal */
        .loan-application-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(5, 25, 65, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
            backdrop-filter: blur(8px);
            padding: 20px;
        }

        .loan-application-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .loan-application-content {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            width: 100%;
            max-width: 500px;
            box-shadow: var(--box-shadow-lg);
            transform: translateY(30px) scale(0.95);
            transition: var(--transition-slow);
            border: 1px solid var(--divider-color);
            max-height: 90vh;
            overflow-y: auto;
        }

        .loan-application-modal.active .loan-application-content {
            transform: translateY(0) scale(1);
        }

        .loan-application-header {
            padding: 32px;
            border-bottom: 1px solid var(--divider-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--primary-blue);
            color: var(--primary-text);
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        }

        .loan-application-header h3 {
            font-size: 20px;
            margin: 0;
            color: var(--primary-text);
            font-weight: 700;
        }

        .loan-application-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.8);
            font-size: 24px;
            cursor: pointer;
            transition: var(--transition);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loan-application-close:hover {
            color: var(--primary-text);
            transform: rotate(90deg);
            background: rgba(255, 255, 255, 0.1);
        }

        .loan-application-body {
            padding: 32px;
        }

        .loan-terms-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .loan-term-item {
            background: var(--secondary-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-blue);
        }

        .loan-term-label {
            font-size: 13px;
            color: var(--secondary-text);
            margin-bottom: 8px;
        }

        .loan-term-value {
            font-size: 18px;
            color: var(--primary-text);
            font-weight: 700;
        }

        .loan-eligibility-check {
            background: rgba(0, 199, 140, 0.08);
            border: 1px solid rgba(0, 199, 140, 0.15);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 24px;
        }

        .loan-eligibility-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .loan-eligibility-item:last-child {
            margin-bottom: 0;
        }

        .loan-eligibility-icon {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .loan-eligibility-icon.verified {
            background: rgba(0, 199, 140, 0.15);
            color: var(--positive);
        }

        .loan-eligibility-icon.pending {
            background: rgba(245, 165, 36, 0.15);
            color: var(--warning);
        }

        .loan-eligibility-icon.unverified {
            background: rgba(224, 36, 36, 0.15);
            color: var(--negative);
        }

        .loan-eligibility-text {
            flex: 1;
            font-size: 14px;
            color: var(--primary-text);
        }

        .loan-disbursement-info {
            background: rgba(245, 165, 36, 0.08);
            border-left: 4px solid var(--warning);
            padding: 20px;
            margin: 24px 0;
            border-radius: var(--border-radius);
            font-size: 14px;
            color: var(--primary-text);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .loan-disbursement-info i {
            color: var(--warning);
            font-size: 16px;
            margin-top: 2px;
        }

        .loan-application-form {
            margin-top: 24px;
        }

        .loan-application-form .form-group {
            margin-bottom: 24px;
        }

        .loan-application-form label {
            display: block;
            margin-bottom: 8px;
            color: var(--secondary-text);
            font-size: 14px;
            font-weight: 500;
        }

        .loan-application-form .form-control {
            width: 100%;
            padding: 14px 16px;
            border-radius: var(--border-radius);
            border: 1px solid var(--divider-color);
            background-color: var(--secondary-bg);
            color: var(--primary-text);
            font-size: 14px;
            transition: var(--transition);
            font-family: 'Inter', sans-serif;
        }

        .loan-application-form .form-control:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(9, 45, 116, 0.2);
        }

        .loan-application-form .form-control[readonly] {
            background-color: var(--secondary-bg);
            cursor: not-allowed;
        }

        #submit-loan-application {
            width: 100%;
            padding: 16px;
            font-size: 14px;
            font-weight: 600;
            background: var(--primary-blue);
            color: var(--primary-text);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
            box-shadow: 0 4px 15px rgba(9, 45, 116, 0.25);
        }

        #submit-loan-application:hover:not(:disabled) {
            background: var(--hover-blue);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--accent-glow);
        }

        #submit-loan-application:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .loan-application-status {
            margin-top: 16px;
            text-align: center;
            font-size: 14px;
            min-height: 20px;
            color: var(--primary-text);
        }

        /* Security Indicators */
        .security-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--secondary-text);
            margin-top: 8px;
        }
        
        .security-indicator i {
            color: var(--positive);
            font-size: 14px;
        }
        
        /* Hero Section */
        .hero-section {
            padding: 160px 0 100px;
            background-color: var(--primary-bg);
            position: relative;
            overflow: hidden;
        }
        
        .hero-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }
        
        .hero-content {
            max-width: 600px;
        }
        
        .hero-content h1 {
            font-size: 56px;
            margin-bottom: 24px;
            color: var(--primary-text);
            line-height: 1.2;
            font-weight: 700;
        }
        
        .hero-content h1 span {
            color: var(--primary-blue);
        }
        
        .hero-content p {
            font-size: 18px;
            margin-bottom: 32px;
            color: var(--secondary-text);
            line-height: 1.6;
        }

        /* Bitcoin Price Container */
        .btc-price-container {
            width: 100%;
            max-width: 400px;
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            border: 1px solid var(--divider-color);
            transition: var(--transition);
        }

        .btc-price-container:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-lg);
            border-color: var(--gold);
        }

        .btc-price-header {
            background: var(--secondary-bg);
            padding: 20px 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--divider-color);
        }

        .btc-price-header i {
            font-size: 24px;
            color: var(--gold);
        }

        .btc-price-header h3 {
            font-size: 18px;
            color: var(--primary-text);
            margin: 0;
            font-weight: 600;
        }

        .btc-price-display {
            padding: 24px;
        }

        .btc-price-main {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .btc-price {
            font-size: 32px;
            font-weight: 700;
            color: var(--gold);
            font-family: 'Inter', sans-serif;
        }

        .btc-change {
            padding: 6px 12px;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 14px;
        }

        .btc-change.positive {
            background-color: rgba(0, 199, 140, 0.2);
            color: var(--positive);
        }

        .btc-change.negative {
            background-color: rgba(224, 36, 36, 0.2);
            color: var(--negative);
        }

        .btc-price-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .btc-price-detail {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .btc-price-detail span:first-child {
            font-size: 13px;
            color: var(--secondary-text);
        }

        .btc-price-detail span:last-child {
            font-size: 14px;
            color: var(--primary-text);
            font-weight: 500;
        }

        .btc-price-footer {
            padding: 16px 24px;
            background-color: var(--secondary-bg);
            font-size: 12px;
            color: var(--secondary-text);
            text-align: center;
            border-top: 1px solid var(--divider-color);
        }
        
        /* Enhanced Stats Section */
        .stats-section {
            padding: 100px 0;
            background-color: var(--secondary-bg);
            position: relative;
            overflow: hidden;
        }

        .stats-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(9, 45, 116, 0.05) 0%, rgba(0, 0, 0, 0) 100%);
            z-index: 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            margin-top: 40px;
            position: relative;
            z-index: 1;
        }

        .stat-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 32px;
            text-align: center;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
            border: 1px solid var(--divider-color);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 150%;
            height: 100%;
            background: linear-gradient(135deg, rgba(9, 45, 116, 0.1) 0%, rgba(0, 0, 0, 0) 100%);
            opacity: 0;
            transition: var(--transition);
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-lg);
            border-color: var(--primary-blue);
        }

        .stat-icon {
            font-size: 40px;
            color: var(--primary-blue);
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1);
            color: var(--hover-blue);
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-text);
            margin-bottom: 12px;
            font-family: 'Inter', sans-serif;
            transition: var(--transition);
        }

        .stat-card:hover .stat-number {
            color: var(--primary-blue);
        }

        .stat-label {
            font-size: 16px;
            color: var(--secondary-text);
            line-height: 1.5;
            min-height: 48px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .stat-label span {
            font-size: 14px;
            margin-top: 8px;
            display: inline-flex;
            align-items: center;
        }

        /* About Section */
        .about-section {
            padding: 100px 0;
            background-color: var(--primary-bg);
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .section-title h2 {
            font-size: 40px;
            color: var(--primary-text);
            margin-bottom: 16px;
            font-weight: 700;
        }
        
        .section-title p {
            color: var(--secondary-text);
            max-width: 700px;
            margin: 0 auto;
            font-size: 18px;
            line-height: 1.6;
        }
        
        .about-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }
        
        .about-image {
            position: relative;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow-lg);
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s ease;
        }
        
        .about-image:hover img {
            transform: scale(1.05);
        }
        
        .about-content h3 {
            font-size: 32px;
            margin-bottom: 24px;
            color: var(--primary-text);
            font-weight: 700;
        }
        
        .about-content p {
            margin-bottom: 24px;
            color: var(--secondary-text);
            font-size: 16px;
            line-height: 1.6;
        }
        
        .about-features {
            margin-top: 32px;
        }
        
        .about-feature {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .about-feature-icon {
            width: 24px;
            height: 24px;
            background: var(--primary-blue);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-text);
            flex-shrink: 0;
            margin-top: 2px;
            font-size: 12px;
        }
        
        .about-feature-text h4 {
            font-size: 16px;
            margin-bottom: 4px;
            color: var(--primary-text);
            font-weight: 600;
        }
        
        .about-feature-text p {
            font-size: 14px;
            margin-bottom: 0;
            color: var(--secondary-text);
        }

        /* Cloud Mining Explanation Section */
        .cloud-mining-explanation {
            padding: 100px 0;
            background-color: var(--secondary-bg);
        }

        .cloud-mining-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .cloud-mining-content h2 {
            font-size: 40px;
            color: var(--primary-text);
            margin-bottom: 32px;
            text-align: center;
            font-weight: 700;
        }

        .cloud-mining-content h3 {
            font-size: 28px;
            color: var(--primary-blue);
            margin: 40px 0 20px 0;
            border-left: 4px solid var(--primary-blue);
            padding-left: 16px;
            font-weight: 600;
        }

        .cloud-mining-content p {
            font-size: 16px;
            line-height: 1.7;
            color: var(--secondary-text);
            margin-bottom: 24px;
        }

        .cloud-mining-content ul {
            list-style: none;
            margin: 24px 0;
            padding-left: 0;
        }

        .cloud-mining-content li {
            padding: 12px 0 12px 32px;
            position: relative;
            color: var(--secondary-text);
            font-size: 16px;
            line-height: 1.6;
        }

        .cloud-mining-content li:before {
            content: "";
            position: absolute;
            left: 0;
            color: var(--primary-blue);
            font-weight: bold;
            font-size: 16px;
        }

        .cloud-mining-benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin: 48px 0;
        }

        .benefit-card {
            background: var(--card-bg);
            padding: 32px;
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--divider-color);
            transition: var(--transition);
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-blue);
            box-shadow: var(--box-shadow-lg);
        }

        .benefit-icon {
            font-size: 40px;
            color: var(--primary-blue);
            margin-bottom: 24px;
        }

        .benefit-card h4 {
            font-size: 20px;
            color: var(--primary-text);
            margin-bottom: 16px;
            font-weight: 600;
        }

        .benefit-card p {
            font-size: 14px;
            margin-bottom: 0;
            color: var(--secondary-text);
        }

        .cta-box {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--hover-blue) 100%);
            border-radius: var(--border-radius-lg);
            padding: 48px;
            text-align: center;
            margin-top: 60px;
            border: 1px solid var(--divider-color);
        }

        .cta-box h3 {
            color: var(--primary-text);
            font-size: 32px;
            margin-bottom: 16px;
            border: none;
            padding: 0;
            font-weight: 700;
        }

        .cta-box p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 18px;
            margin-bottom: 32px;
        }

        /* Enhanced Plans Section - Crypto.com Style */
        .plans-section {
            padding: 100px 0;
            background-color: var(--primary-bg);
            position: relative;
            overflow: hidden;
        }

        .plans-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(9, 45, 116, 0.05) 0%, transparent 30%);
            pointer-events: none;
        }

        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 32px;
            margin-top: 48px;
        }

        .plan-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 40px 32px;
            box-shadow: var(--box-shadow);
            transition: var(--transition-slow);
            position: relative;
            overflow: hidden;
            z-index: 1;
            border: 1px solid var(--divider-color);
            display: flex;
            flex-direction: column;
            min-height: 680px;
        }

        /* Plan Color Styling - Maintained from template */
        .plan-card:nth-child(1) {
            border-top: 4px solid var(--plan-color-1);
        }
        .plan-card:nth-child(2) {
            border-top: 4px solid var(--plan-color-2);
        }
        .plan-card:nth-child(3) {
            border-top: 4px solid var(--plan-color-3);
        }
        .plan-card:nth-child(4) {
            border-top: 4px solid var(--plan-color-4);
        }
        .plan-card:nth-child(5) {
            border-top: 4px solid var(--plan-color-5);
        }
        .plan-card:nth-child(6) {
            border-top: 4px solid var(--plan-color-6);
        }

        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--box-shadow-lg);
            border-color: var(--primary-blue);
        }

        /* Cloud Mining Plan Header */
        .plan-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--divider-color);
        }

        .plan-icon {
            font-size: 24px;
            color: var(--primary-blue);
            background: rgba(9, 45, 116, 0.1);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .plan-name {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-text);
            transition: var(--transition);
            flex: 1;
        }

        .cloud-mining-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--primary-blue);
            color: var(--primary-text);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 8px;
        }

        /* Plan Mining Image */
        .plan-mining-image {
            width: 100%;
            height: 200px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin: 20px 0;
            position: relative;
            border: 1px solid var(--divider-color);
        }

        .plan-mining-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .plan-card:hover .plan-mining-image img {
            transform: scale(1.05);
        }

        .mining-image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            padding: 12px;
            color: var(--primary-text);
            font-size: 13px;
            text-align: center;
        }

        /* Cloud Mining Description */
        .cloud-mining-description {
            font-size: 14px;
            color: var(--secondary-text);
            margin: 20px 0;
            line-height: 1.6;
            background: var(--secondary-bg);
            padding: 16px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-blue);
        }

        .cloud-mining-description strong {
            color: var(--primary-text);
        }

        .plan-description {
            font-size: 16px;
            color: var(--secondary-text);
            margin-bottom: 24px;
            min-height: 60px;
        }

        .plan-features {
            margin-bottom: 32px;
            flex: 1;
        }

        .plan-feature {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            font-size: 14px;
            color: var(--secondary-text);
        }

        .plan-feature i {
            color: var(--primary-blue);
            font-size: 14px;
            width: 20px;
            text-align: center;
        }

        .plan-button {
            width: 100%;
            padding: 16px 24px;
            font-size: 14px;
            font-weight: 600;
            border-radius: var(--border-radius);
            background-color: var(--primary-blue);
            color: var(--primary-text);
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: auto;
        }

        .plan-button i {
            font-size: 16px;
        }

        .plan-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: rgba(255, 255, 255, 0.15);
        }

        .plan-limits {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid var(--divider-color);
            font-size: 14px;
        }

        .plan-min, .plan-max {
            display: flex;
            flex-direction: column;
        }

        .plan-min span:first-child, .plan-max span:first-child {
            color: var(--secondary-text);
            font-size: 13px;
        }

        .plan-min span:last-child, .plan-max span:last-child {
            color: var(--primary-text);
            font-weight: 600;
        }

        /* Investment Modal */
        .investment-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(5, 25, 65, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
            backdrop-filter: blur(5px);
            padding: 20px;
            overflow-y: auto;
        }

        .investment-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            width: 100%;
            max-width: 500px;
            box-shadow: var(--box-shadow-lg);
            transform: translateY(20px);
            transition: var(--transition-slow);
            border: 1px solid var(--divider-color);
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .investment-modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--divider-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background-color: var(--card-bg);
            z-index: 10;
        }

        .modal-header h3 {
            font-size: 24px;
            color: var(--primary-text);
            margin: 0;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--secondary-text);
            font-size: 24px;
            cursor: pointer;
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--primary-blue);
        }

        .modal-body {
            padding: 32px;
        }

        .plan-details {
            margin-bottom: 32px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--divider-color);
        }

        .detail-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .detail-label {
            color: var(--secondary-text);
            font-size: 14px;
        }

        .detail-value {
            color: var(--primary-text);
            font-weight: 600;
            font-size: 14px;
        }

        .investment-form {
            margin-top: 24px;
        }

        .investment-form .form-group {
            margin-bottom: 24px;
        }

        .investment-form label {
            display: block;
            margin-bottom: 8px;
            color: var(--secondary-text);
            font-size: 14px;
            font-weight: 500;
        }

        .investment-form .form-control {
            width: 100%;
            padding: 14px 16px;
            border-radius: var(--border-radius);
            border: 1px solid var(--divider-color);
            background-color: var(--secondary-bg);
            color: var(--primary-text);
            font-size: 14px;
            transition: var(--transition);
            font-family: 'Inter', sans-serif;
        }

        .investment-form .form-control:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(9, 45, 116, 0.2);
        }

        .amount-error {
            color: var(--negative);
            font-size: 13px;
            margin-top: 8px;
            min-height: 20px;
        }

        .expected-return {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 32px 0;
            padding: 20px;
            background-color: var(--secondary-bg);
            border-radius: var(--border-radius);
            font-size: 16px;
        }

        .expected-return span:first-child {
            color: var(--secondary-text);
            font-size: 14px;
        }

        .expected-return span:last-child {
            color: var(--primary-blue);
            font-weight: 700;
            font-size: 20px;
        }

        #confirm-investment {
            width: 100%;
            padding: 16px;
            font-size: 14px;
            font-weight: 600;
        }

        .investment-status {
            margin-top: 16px;
            text-align: center;
            font-size: 14px;
            min-height: 20px;
            color: var(--primary-text);
        }

        /* Balance Selector Styles */
        .balance-selector {
            margin: 20px 0;
            padding: 20px;
            background: var(--secondary-bg);
            border-radius: var(--border-radius);
            border: 1px solid var(--divider-color);
        }

        .balance-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            margin: 8px 0;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
            background: var(--card-bg);
        }

        .balance-option:hover {
            background: var(--secondary-bg);
            border-color: var(--divider-color);
        }

        .balance-option.selected {
            background: rgba(9, 45, 116, 0.1);
            border-color: var(--primary-blue);
        }

        .balance-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .balance-radio {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid var(--secondary-text);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .balance-option.selected .balance-radio {
            border-color: var(--primary-blue);
        }

        .balance-option.selected .balance-radio::after {
            content: '';
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary-blue);
        }

        .balance-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .balance-info i {
            color: var(--primary-blue);
            font-size: 20px;
        }

        .balance-details {
            display: flex;
            flex-direction: column;
        }

        .balance-name {
            font-weight: 600;
            color: var(--primary-text);
            font-size: 14px;
        }

        .balance-amount {
            font-size: 13px;
            color: var(--secondary-text);
        }

        /* Fee Information */
        .fee-info {
            background: rgba(245, 165, 36, 0.1);
            border-left: 4px solid var(--warning);
            padding: 16px 20px;
            margin: 20px 0;
            border-radius: var(--border-radius);
            font-size: 14px;
            color: var(--primary-text);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .fee-info i {
            color: var(--warning);
            font-size: 16px;
            margin-top: 2px;
        }

        /* How It Works Section */
        .how-it-works-section {
            padding: 100px 0;
            background-color: var(--secondary-bg);
        }
        
        .steps-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 32px;
            margin-top: 48px;
        }
        
        .step-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 40px 32px;
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--divider-color);
        }
        
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-lg);
            border-color: var(--primary-blue);
        }
        
        .step-number {
            width: 56px;
            height: 56px;
            background: var(--primary-blue);
            color: var(--primary-text);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 24px;
            margin: 0 auto 20px;
        }
        
        .step-card h3 {
            font-size: 20px;
            margin-bottom: 16px;
            color: var(--primary-text);
            font-weight: 600;
        }
        
        .step-card p {
            color: var(--secondary-text);
            font-size: 14px;
            line-height: 1.6;
        }
        
        /* Mining Video Section */
        .mining-video-section {
            padding: 100px 0;
            background-color: var(--primary-bg);
            text-align: center;
        }
        
        .video-container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow-lg);
        }
        
        .video-container video {
            width: 100%;
            display: block;
            object-fit: cover;
        }
        
        /* Enhanced Loans Section */
        .loans-section {
            padding: 100px 0;
            background-color: var(--primary-blue);
            position: relative;
        }
        
        .loans-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(9, 45, 116, 0.8) 0%, rgba(11, 62, 157, 0.9) 100%);
            z-index: 0;
        }
        
        .loans-container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        /* Loan Balances Section */
        .loan-balances-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 40px;
        }
        
        .loan-balance-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-lg);
            padding: 32px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        
        .loan-balance-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--gold);
        }
        
        .loan-balance-icon {
            font-size: 40px;
            color: var(--gold);
            margin-bottom: 20px;
        }
        
        .loan-balance-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            margin-bottom: 12px;
        }
        
        .loan-balance-amount {
            color: var(--primary-text);
            font-size: 32px;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
        }
        
        .loan-balance-subtext {
            color: rgba(255, 255, 255, 0.6);
            font-size: 13px;
            margin-top: 8px;
        }
        
        /* Updated Loan Calculator Section */
        .loan-calculator {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-lg);
            padding: 48px;
            box-shadow: var(--box-shadow);
            color: var(--primary-text);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .loan-calculator h3 {
            font-size: 32px;
            margin-bottom: 32px;
            text-align: center;
            color: var(--primary-text);
            font-weight: 700;
        }
        
        /* Loan Eligibility Status Display */
        .loan-eligibility-status {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 32px;
            margin-bottom: 32px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .loan-eligibility-status h4 {
            font-size: 24px;
            margin-bottom: 24px;
            color: var(--primary-text);
            font-weight: 600;
        }
        
        .loan-eligibility-message {
            font-size: 16px;
            margin-bottom: 24px;
            line-height: 1.5;
            color: var(--primary-text);
        }
        
        .loan-limit-display {
            background: rgba(0, 199, 140, 0.1);
            border-left: 4px solid var(--positive);
            padding: 24px;
            margin: 24px 0;
            border-radius: var(--border-radius);
        }
        
        .loan-limit-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 8px;
        }
        
        .loan-limit-value {
            font-size: 40px;
            font-weight: 700;
            color: var(--positive);
            font-family: 'Inter', sans-serif;
        }
        
        .loan-apply-button-container {
            margin-top: 32px;
            text-align: center;
        }
        
        .loan-apply-button {
            width: 100%;
            padding: 20px 32px;
            font-size: 16px;
            font-weight: 600;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }
        
        .loan-apply-button.eligible {
            background: var(--positive);
            color: var(--primary-bg);
            box-shadow: 0 4px 15px rgba(0, 199, 140, 0.3);
        }
        
        .loan-apply-button.eligible:hover {
            background: #00E5A1;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 199, 140, 0.4);
        }
        
        .loan-apply-button.not-eligible {
            background: rgba(224, 36, 36, 0.2);
            color: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(224, 36, 36, 0.3);
            cursor: not-allowed;
        }
        
        .loan-status-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 32px;
            gap: 20px;
        }
        
        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* BTC News Section */
        .btc-news-section {
            padding: 100px 0;
            background-color: var(--secondary-bg);
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 32px;
            margin-top: 48px;
            min-height: 300px;
        }

        .news-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            border: 1px solid var(--divider-color);
        }

        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-lg);
            border-color: var(--primary-blue);
        }

        .news-image-container {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .news-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .news-card:hover .news-image {
            transform: scale(1.05);
        }

        .news-content {
            padding: 24px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .news-title {
            font-size: 18px;
            margin-bottom: 12px;
            color: var(--primary-text);
            line-height: 1.4;
            flex: 1;
            font-weight: 600;
        }

        .news-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 13px;
            color: var(--secondary-text);
        }

        .news-source {
            font-weight: 600;
            color: var(--primary-blue);
        }

        .news-date {
            color: var(--secondary-text);
        }

        .news-navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 24px;
            margin-top: 40px;
        }

        #news-page-info {
            font-size: 14px;
            color: var(--secondary-text);
            min-width: 100px;
            text-align: center;
        }

        .news-loading {
            grid-column: 1 / -1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 0;
        }

        /* News Modal */
        .news-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(5, 25, 65, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-slow);
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .news-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .news-modal-content {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--box-shadow-lg);
            border: 1px solid var(--divider-color);
        }

        .news-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: var(--secondary-text);
            font-size: 24px;
            cursor: pointer;
            z-index: 1;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
        }

        .news-modal-close:hover {
            color: var(--primary-blue);
            transform: rotate(90deg);
            background: rgba(255, 255, 255, 0.15);
        }

        .news-modal-header {
            position: relative;
            height: 300px;
            overflow: hidden;
        }

        #news-modal-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .news-modal-header-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 40px;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        }

        #news-modal-title {
            color: var(--primary-text);
            font-size: 32px;
            margin-bottom: 12px;
            font-weight: 700;
            line-height: 1.3;
        }

        .news-modal-meta {
            display: flex;
            gap: 24px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        .news-modal-body {
            padding: 40px;
        }

        #news-modal-description {
            color: var(--primary-text);
            margin-bottom: 32px;
            line-height: 1.6;
            font-size: 16px;
        }

        /* CTA Section */
        .cta-section {
            padding: 100px 0;
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--hover-blue) 100%);
            text-align: center;
            color: var(--primary-text);
        }
        
        .cta-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .cta-container h2 {
            font-size: 48px;
            margin-bottom: 24px;
            font-weight: 700;
        }
        
        .cta-container p {
            margin-bottom: 40px;
            font-size: 20px;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        /* Footer */
        footer {
            background-color: var(--primary-bg);
            color: var(--primary-text);
            padding: 80px 0 32px;
            border-top: 1px solid var(--divider-color);
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 48px;
            margin-bottom: 48px;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .footer-logo img {
            height: 32px;
            width: auto;
        }
        
        .footer-logo-text {
            font-weight: 700;
            font-size: 20px;
            color: var(--primary-blue);
        }
        
        .footer-about p {
            color: var(--secondary-text);
            font-size: 14px;
            margin-bottom: 24px;
            line-height: 1.6;
        }
        
        .footer-social {
            display: flex;
            gap: 12px;
        }
        
        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: var(--primary-text);
            background: var(--secondary-bg);
            border: 1px solid var(--divider-color);
        }
        
        .social-icon:hover {
            transform: translateY(-3px) scale(1.05);
            background: var(--primary-blue);
            border-color: var(--primary-blue);
        }
        
        .footer-title {
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 18px;
            color: var(--primary-text);
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: var(--secondary-text);
            text-decoration: none;
            transition: var(--transition);
            font-size: 14px;
            display: inline-block;
        }
        
        .footer-links a:hover {
            color: var(--primary-blue);
            transform: translateX(3px);
        }
        
        .footer-contact p {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            color: var(--secondary-text);
            margin-bottom: 16px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .footer-contact i {
            color: var(--primary-blue);
            width: 20px;
            text-align: center;
            margin-top: 2px;
            font-size: 16px;
        }
        
        .footer-bottom {
            border-top: 1px solid var(--divider-color);
            padding-top: 32px;
            text-align: center;
            color: var(--secondary-text);
            font-size: 14px;
        }

        /* Dark Theme Smartsupp Chat Widget */
        .smartsupp-noscript-warning {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            backdrop-filter: blur(5px);
            padding: 16px 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--divider-color);
            box-shadow: var(--box-shadow);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: var(--secondary-text);
            z-index: 99999;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 320px;
        }
        
        .smartsupp-noscript-warning svg {
            color: var(--primary-blue);
            flex-shrink: 0;
        }
        
        .smartsupp-noscript-warning a {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .smartsupp-noscript-warning a:hover {
            color: var(--hover-blue);
            text-decoration: underline;
        }
        
        /* Cloud Mining Badge Styling */
        .cloud-mining-badge-enhanced {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(9, 45, 116, 0.1);
            color: var(--primary-blue);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid rgba(9, 45, 116, 0.2);
            margin: 12px 0;
        }

        .cloud-mining-badge-enhanced i {
            font-size: 14px;
            color: var(--primary-blue);
        }

        .miner-specs {
            background: var(--secondary-bg);
            padding: 16px;
            border-radius: var(--border-radius);
            margin: 16px 0;
            border-left: 4px solid var(--primary-blue);
        }

        .miner-specs .miner-name {
            font-weight: 600;
            color: var(--primary-text);
            margin-bottom: 8px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .miner-specs .miner-description {
            font-size: 13px;
            color: var(--secondary-text);
            line-height: 1.5;
        }

        /* Loan Process Steps */
        .loan-process-steps {
            margin-top: 40px;
        }

        .loan-process-steps h4 {
            color: var(--primary-text);
            margin-bottom: 24px;
            font-size: 20px;
            font-weight: 600;
        }

        .process-step {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-blue);
        }

        .step-number {
            background: var(--primary-blue);
            color: var(--primary-text);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            flex-shrink: 0;
        }

        .step-content h5 {
            color: var(--primary-text);
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: 600;
        }

        .step-content p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            line-height: 1.5;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .container {
                max-width: 1140px;
            }
            
            .hero-container, .about-container {
                gap: 48px;
            }
            
            .plans-grid, .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .steps-container {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .news-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .footer-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 40px;
            }
        }
        
        @media (max-width: 992px) {
            .container {
                max-width: 960px;
            }
            
            .hero-content h1 {
                font-size: 48px;
            }
            
            .section-title h2 {
                font-size: 36px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .loan-balances-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pc-menu-toggle {
                display: block;
            }
            
            nav {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            
            .pc-menu-toggle {
                display: none;
            }
            
            nav {
                display: none;
            }
            
            .hero-container, .about-container {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 40px;
            }
            
            .hero-content h1 {
                font-size: 40px;
            }
            
            .section-title h2 {
                font-size: 32px;
            }
            
            .plans-grid, .steps-container, .stats-grid, .loan-balances-container {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin: 40px auto 0;
            }
            
            .news-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
                gap: 32px;
                text-align: center;
            }
            
            .footer-social {
                justify-content: center;
            }
            
            .announcement-center {
                top: 72px;
                max-width: 90%;
                padding: 0 15px;
            }
            
            .loan-terms-grid {
                grid-template-columns: 1fr;
            }
            
            .process-step {
                flex-direction: column;
                text-align: center;
                gap: 16px;
            }
        }
        
        @media (max-width: 576px) {
            .hero-section {
                padding: 140px 0 80px;
            }
            
            .hero-content h1 {
                font-size: 32px;
            }
            
            .hero-content p {
                font-size: 16px;
            }
            
            .section-title h2 {
                font-size: 28px;
            }
            
            .section-title p {
                font-size: 16px;
            }
            
            .cta-container h2 {
                font-size: 36px;
            }
            
            .cta-container p {
                font-size: 18px;
            }
            
            .btn {
                padding: 12px 24px;
                font-size: 14px;
            }
            
            .notification-center {
                max-width: 90%;
            }
            
            .announcement {
                padding: 16px 20px;
                font-size: 13px;
            }
            
            .announcement-title {
                font-size: 14px;
            }
            
            .announcement-message {
                font-size: 13px;
            }
        }

        /* Promo Banner Styles */
        .promo-banner-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(5, 25, 65, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            backdrop-filter: blur(8px);
            padding: 20px;
        }

        .promo-banner-overlay.active {
            display: flex;
        }

        .promo-banner {
            width: 90%;
            max-width: 900px;
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow-lg);
            border: 1px solid var(--divider-color);
            position: relative;
            display: flex;
            flex-direction: row;
        }

        .banner-content {
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .banner-media {
            flex: 0 0 45%;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .banner-media img,
        .banner-media video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .promo-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: var(--secondary-bg);
            border: none;
            border-radius: 50%;
            color: var(--secondary-text);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            z-index: 10;
        }

        .promo-close:hover {
            background: var(--primary-blue);
            transform: rotate(90deg);
            color: var(--primary-text);
        }

        @media (max-width: 768px) {
            .promo-banner {
                flex-direction: column;
                max-width: 500px;
            }
            
            .banner-media {
                flex: 0 0 200px;
                order: -1;
            }
            
            .banner-content {
                padding: 32px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
        <div class="loading-text">Establishing Secure Connection</div>
    </div>

    <!-- Security Badge -->
    <div class="security-badge">
        <i class="fas fa-shield-alt"></i>
        <span>256-bit AES & TLS 1.3 Encrypted</span>
    </div>

    <!-- Enhanced Announcement System -->
    <div class="announcement-center" id="announcement-center">
        <!-- Announcements will be dynamically inserted here -->
    </div>

    <!-- Critical Error Notification System -->
    <div class="notification-center" id="notification-center">
        <!-- Critical error notifications will be dynamically inserted here -->
    </div>

    <!-- Loan Qualification Popup -->
    <div class="loan-popup" id="loan-popup">
        <div class="loan-popup-header">
            <div class="loan-popup-title">
                <i class="fas fa-file-contract"></i>
                Loan Eligibility Results
            </div>
            <button class="loan-popup-close" id="loan-popup-close">&times;</button>
        </div>
        <div class="loan-popup-content" id="loan-popup-content">
            <!-- Content will be dynamically inserted here -->
        </div>
        <div class="loan-popup-footer">
            <button class="loan-popup-btn loan-popup-btn-secondary" id="loan-popup-cancel">Cancel</button>
            <button class="loan-popup-btn loan-popup-btn-primary" id="loan-popup-apply">Apply Now</button>
        </div>
    </div>

    <!-- Loan Application Modal -->
    <div class="loan-application-modal" id="loan-application-modal">
        <div class="loan-application-content">
            <div class="loan-application-header">
                <h3>BitHash Loan Application</h3>
                <button class="loan-application-close" id="loan-application-close">&times;</button>
            </div>
            <div class="loan-application-body">
                <div class="loan-terms-grid" id="loan-terms-display">
                    <!-- Loan terms will be dynamically inserted here -->
                </div>
                
                <div class="loan-eligibility-check" id="loan-eligibility-check">
                    <!-- Eligibility requirements will be dynamically inserted here -->
                </div>
                
                <div class="loan-disbursement-info">
                    <i class="fas fa-info-circle"></i>
                    <span>A 0.99% disbursement fee will be deducted from the loan amount before funds are released to your account.</span>
                </div>
                
                <div class="loan-application-form">
                    <div class="form-group">
                        <label for="loan-request-amount">Loan Amount Requested ($)</label>
                        <input type="number" id="loan-request-amount" class="form-control" placeholder="Enter desired loan amount" min="1000" step="100" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="loan-purpose">Purpose of Loan</label>
                        <select id="loan-purpose" class="form-control">
                            <option value="cloud_mining_expansion">Cloud Mining Expansion</option>
                            <option value="equipment_upgrade">Mining Equipment Upgrade</option>
                            <option value="portfolio_diversification">Portfolio Diversification</option>
                            <option value="emergency_funds">Emergency Funds</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="loan-term-selection">Loan Term</label>
                        <select id="loan-term-selection" class="form-control">
                            <option value="3">3 Months</option>
                            <option value="6">6 Months</option>
                            <option value="12" selected>12 Months</option>
                            <option value="24">24 Months</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" id="submit-loan-application">Submit Loan Application</button>
                    <div class="loan-application-status" id="loan-application-status"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Header -->
    <header id="main-header">
        <div class="container header-container">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
                <span class="logo-text">BitHash</span>
            </div>
            
            <!-- Language Selector -->
            <div class="language-selector">
                <button class="language-dropdown-btn" id="language-dropdown-btn">
                    <i class="fas fa-globe"></i>
                    <span id="current-language">English</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="language-dropdown" id="language-dropdown">
                    <div class="language-search">
                        <input type="text" id="language-search" placeholder="Search languages...">
                    </div>
                    <div class="language-list" id="language-list">
                        <!-- Languages will be dynamically loaded here -->
                    </div>
                    <div class="language-pagination">
                        <button class="language-pagination-btn" id="language-prev" disabled>
                            <i class="fas fa-chevron-left"></i> Prev
                        </button>
                        <span class="language-pagination-info" id="language-page-info">Page 1 of 5</span>
                        <button class="language-pagination-btn" id="language-next">
                            Next <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            
            <button class="pc-menu-toggle" id="pc-menu-toggle" aria-label="Toggle navigation">
                <i class="fas fa-ellipsis-v"></i>
            </button>
            
            <div class="mobile-menu-dropdown" id="mobile-menu-dropdown">
                <ul>
                    <li><a href="#plans">Cloud Mining Plans</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            
            <div class="pc-menu-dropdown" id="pc-menu-dropdown">
                <ul>
                    <li><a href="#plans">Cloud Mining Plans</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="#plans">Cloud Mining Plans</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="accountsetting.html">Settings</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            
            <div class="auth-buttons" id="auth-buttons">
                <button class="btn btn-outline" onclick="window.location.href='login.html'">Login</button>
                <button class="btn btn-primary" onclick="window.location.href='signup.html'">Sign Up</button>
            </div>
        </div>
    </header>

    <!-- Enhanced User Balance Container -->
    <div class="user-balance-container" id="user-balance-container">
        <div class="container">
            <div class="user-balances">
                <div class="user-balance" id="main-balance" onclick="redirectToDashboard()">
                    <i class="fas fa-wallet"></i>
                    <span id="main-balance-amount">Main: $0.00</span>
                </div>
                <div class="user-balance" id="matured-balance" onclick="redirectToDashboard()">
                    <i class="fas fa-piggy-bank"></i>
                    <span id="matured-balance-amount">Matured: $0.00</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section" id="home">
        <div class="container">
            <div class="hero-container">
                <div class="hero-content" data-aos="fade-right">
                    <h1>Bitcoin Cloud Mining Powered <span>by Efficiency and Scale</span></h1>
                    <p>Join BitHash and access SHA-256 ASIC miners operating across energy-efficient data centers through cloud mining. Invest in live mining units, with payouts based on verified output and distributed per your selected plan.</p>
                    
                    <div class="hero-buttons">
                        <button class="btn btn-primary" onclick="window.location.href='signup.html'">Start Cloud Mining</button>
                        <button class="btn btn-outline" onclick="window.location.href='#plans'">View Cloud Mining Plans</button>
                    </div>
                    
                    <!-- Security Indicators -->
                    <div class="security-indicator">
                        <i class="fas fa-lock"></i>
                        <span>256-bit AES Encryption</span>
                    </div>
                    <div class="security-indicator">
                        <i class="fas fa-shield-alt"></i>
                        <span>Multi-Signature Wallets</span>
                    </div>
                    <div class="security-indicator">
                        <i class="fas fa-user-shield"></i>
                        <span>SOC 2 Type II Certified</span>
                    </div>
                </div>
                <div class="hero-image" data-aos="fade-left">
                    <div class="btc-price-container">
                        <div class="btc-price-header">
                            <i class="fab fa-bitcoin"></i>
                            <h3>Bitcoin Price</h3>
                        </div>
                        <div class="btc-price-display">
                            <div class="btc-price-main">
                                <span class="btc-price" id="btc-price">$0.00</span>
                                <span class="btc-change" id="btc-change">0.00%</span>
                            </div>
                            <div class="btc-price-details">
                                <div class="btc-price-detail">
                                    <span>24h High</span>
                                    <span id="btc-high">$0.00</span>
                                </div>
                                <div class="btc-price-detail">
                                    <span>24h Low</span>
                                    <span id="btc-low">$0.00</span>
                                </div>
                                <div class="btc-price-detail">
                                    <span>24h Volume</span>
                                    <span id="btc-volume">0 BTC</span>
                                </div>
                            </div>
                        </div>
                        <div class="btc-price-footer">
                            <span>Real-time prices from BitHash LCC</span>
                        </div>
                    </div> 
                </div>
            </div>
        </div>
    </section>

    <section class="stats-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Live Cloud Mining Stats</h2>
                <p>Live metrics from BitHash cloud mining operations across all active data centers worldwide.</p>
            </div>
            
            <div class="stats-grid" id="stats-container">
                <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number" id="total-investors">0</div>
                    <div class="stat-label">
                        Total Active Cloud Miners
                        <span id="investors-change"></span>
                    </div>
                </div>
                
                <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="stat-number" id="total-invested">$0</div>
                    <div class="stat-label">
                        24-Hour Cloud Mining Investment
                        <span id="invested-change"></span>
                    </div>
                </div>
                
                <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="stat-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <div class="stat-number" id="total-withdrawals">$0</div>
                    <div class="stat-label">
                        24-Hour Mining Payouts
                        <span id="withdrawals-change"></span>
                    </div>
                </div>
                
                <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="stat-icon">
                        <i class="fas fa-piggy-bank"></i>
                    </div>
                    <div class="stat-number" id="total-loans">$0</div>
                    <div class="stat-label">
                        24-Hour Loan Disbursements
                        <span id="loans-change"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Why Choose BitHash Cloud Mining?</h2>
                <p>BitHash connects you to high efficiency Bitcoin mining systems through cloud mining, with real-time performance tracking and secure, automated payouts.</p>
            </div>
            
            <div class="about-container">
                <div class="about-image" data-aos="fade-right">
                    <img src="https://www.dropbox.com/scl/fi/0qn1054f0y3d3dzvn9w5h/WhatsApp-Image-2025-07-19-at-17.16.42_679cc7d5.jpg?rlkey=la1zhkgazqsoh182cn67wtc19&raw=1" alt="BitHash Mining Facility">
                </div>
                <div class="about-content" data-aos="fade-left">
                    <h3>Professional Cloud Mining Infrastructure</h3>
                    <p>BitHash runs a globally distributed Bitcoin cloud mining network with data centers strategically located across North America, Europe, and Asia for optimal energy efficiency and uptime.</p>
                    <p>Our facilities deploy next-generation SHA-256 ASIC miners with advanced thermal management, including liquid cooling, to deliver sustained high hash rates beyond the reach of individual setups.</p>
                    
                    <div class="about-features">
                        <div class="about-feature">
                            <div class="about-feature-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="about-feature-text">
                                <h4>Renewable Energy</h4>
                                <p>85% of our energy comes from sustainable sources, reducing environmental impact.</p>
                            </div>
                        </div>
                        <div class="about-feature">
                            <div class="about-feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="about-feature-text">
                                <h4>High-Level Security</h4>
                                <p>Biometric access controls and 24/7 monitoring protect our facilities.</p>
                            </div>
                        </div>
                        <div class="about-feature">
                            <div class="about-feature-icon">
                                <i class="fas fa-network-wired"></i>
                            </div>
                            <div class="about-feature-text">
                                <h4>99.99% Uptime</h4>
                                <p>Redundant network connections ensure continuous mining operations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cloud Mining Explanation Section -->
    <section class="cloud-mining-explanation" id="cloud-mining-explained">
        <div class="container">
            <div class="cloud-mining-content" data-aos="fade-up">
                <h2>What is Bitcoin Cloud Mining and Why Start with BitHash?</h2>
                
                <p><strong>Bitcoin cloud mining</strong> allows you to participate in Bitcoin mining without owning or maintaining expensive hardware. Instead of buying ASIC miners, dealing with electricity costs, cooling systems, and technical maintenance, you rent hash power from professional mining facilities like BitHash.</p>
                
                <h3>How Cloud Mining Works for Beginners</h3>
                <p>When you invest in a BitHash cloud mining plan, you're purchasing a contract for a specific amount of SHA-256 hash power. This hash power is dedicated to mining Bitcoin on your behalf in our industrial data centers. Your investment is converted into active mining capacity using enterprise-grade Antminer and Avalon miners.</p>
                
                <div class="cloud-mining-benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-plug"></i>
                        </div>
                        <h4>No Electricity Costs</h4>
                        <p>We cover all power expenses at our optimized data centers, saving you 60-80% compared to home mining electricity rates.</p>
                    </div>
                    
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-server"></i>
                        </div>
                        <h4>No Hardware Maintenance</h4>
                        <p>Our technical team handles all ASIC miner maintenance, repairs, and upgrades 24/7. No downtime, no technical knowledge required.</p>
                    </div>
                    
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4>Lower Entry Cost</h4>
                        <p>Start Bitcoin mining with just $200 instead of thousands for hardware. Scale your mining operation gradually as you earn.</p>
                    </div>
                </div>
                
                <h3>Why Bitcoin Cloud Mining Beats Traditional Mining</h3>
                <p>Traditional Bitcoin mining requires significant capital investment in ASIC miners (often $3,000-$10,000 per unit), expensive electricity contracts, cooling systems, and technical expertise. Most individual miners face:</p>
                
                <ul>
                    <li>High initial hardware costs for SHA-256 ASIC miners</li>
                    <li>Electricity rates 2-3x higher than industrial rates</li>
                    <li>Miner obsolescence within 12-18 months</li>
                    <li>Technical maintenance and downtime losses</li>
                    <li>Noise and heat management issues</li>
                </ul>
                
                <p><strong>BitHash cloud mining solves all these problems.</strong> We operate at industrial scale with access to renewable energy at $0.03-$0.05 per kWh, maintain the latest generation ASIC miners, and provide 99.9% uptime guarantees. Your mining returns are based on actual Bitcoin mined, not speculative promises.</p>
                
                <h3>Start Bitcoin Mining with These Advantages</h3>
                <p>When you choose BitHash for your Bitcoin cloud mining journey, you benefit from:</p>
                
                <ul>
                    <li><strong>Transparent Operations:</strong> Real-time mining statistics and daily payout reports</li>
                    <li><strong>Professional-Grade Hardware:</strong> Latest Antminer S21 and Avalon A13 series miners</li>
                    <li><strong>Geographic Diversification:</strong> Mining facilities across North America, Europe, and Asia</li>
                    <li><strong>Renewable Energy Focus:</strong> 85% of our power comes from hydro, wind, and solar sources</li>
                    <li><strong>Flexible Investment:</strong> Start with $200 and scale up as you become more comfortable</li>
                    <li><strong>Daily Payouts:</strong> Receive your mining rewards directly to your BitHash wallet daily</li>
                </ul>
                
                <div class="cta-box">
                    <h3>Ready to Start Bitcoin Mining the Smart Way?</h3>
                    <p>Join thousands of successful cloud miners who are earning Bitcoin daily without the hassles of hardware ownership. With BitHash, you get professional grade mining infrastructure, transparent operations, and the support needed to succeed in cryptocurrency mining.</p>
                    <button class="btn btn-gold" onclick="window.location.href='signup.html'">
                        <i class="fas fa-cloud"></i> Start Cloud Mining Now
                    </button>
                    <p class="cta-subtext">No credit card required to explore our platform. Sign up takes 2 minutes.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Plans Section -->
    <section class="plans-section" id="plans">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Bitcoin Cloud Mining Plans</h2>
                <p>Each cloud mining plan operates under a distinct contract hash, tied to live ASIC miner deployments. Invest in cloud mining and earn based on actual mining output.</p>
                <div class="cloud-mining-icon">
                    <i class="fas fa-cloud"></i>
                    <span>CLOUD MINING INVESTMENT</span>
                </div>
                <div id="balance-display" style="display: none; margin-top: 15px;">
                    <span style="color: var(--primary-blue); font-weight: 600;">Your Balances: </span>
                    <span id="current-balance">Main: $0.00 | Matured: $0.00</span>
                </div>
            </div>
            
            <div class="plans-grid" id="plans-container">
                <!-- Cloud Mining Plans will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- Investment Modal -->
    <div class="investment-modal" id="investment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-plan-name">Cloud Mining Plan</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="plan-details">
                    <div class="detail-row">
                        <span class="detail-label">Mining Return:</span>
                        <span class="detail-value" id="modal-plan-return">0%</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Mining Duration:</span>
                        <span class="detail-value" id="modal-plan-duration">0 hours</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Minimum Investment:</span>
                        <span class="detail-value" id="modal-plan-min">$200</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Maximum Investment:</span>
                        <span class="detail-value" id="modal-plan-max">$0</span>
                    </div>
                </div>
                
                <div class="investment-form">
                    <!-- Balance Selector -->
                    <div class="form-group">
                        <label for="balance-type">Select Balance to Use for Cloud Mining</label>
                        <div class="balance-selector" id="balance-selector">
                            <div class="balance-option" data-balance="main">
                                <div class="balance-info">
                                    <i class="fas fa-wallet"></i>
                                    <div class="balance-details">
                                        <span class="balance-name">Main Balance</span>
                                        <span class="balance-amount" id="modal-main-balance-amount">$0.00</span>
                                    </div>
                                </div>
                                <div class="balance-radio"></div>
                            </div>
                            <div class="balance-option" data-balance="matured">
                                <div class="balance-info">
                                    <i class="fas fa-piggy-bank"></i>
                                    <div class="balance-details">
                                        <span class="balance-name">Matured Balance</span>
                                        <span class="balance-amount" id="modal-matured-balance-amount">$0.00</span>
                                    </div>
                                </div>
                                <div class="balance-radio"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fee Information -->
                    <div class="fee-info">
                        <i class="fas fa-info-circle"></i>
                        <span>A 3% mining fee will be deducted from your selected balance before the cloud mining contract is processed.</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="investment-amount">Cloud Mining Investment ($)</label>
                        <input type="number" id="investment-amount" class="form-control" placeholder="Enter investment amount">
                        <div class="amount-error" id="amount-error"></div>
                    </div>
                    
                    <div class="expected-return">
                        <span>Expected Mining Return (after 3% fee):</span>
                        <span id="expected-return">$0.00</span>
                    </div>
                    
                    <button class="btn btn-primary" id="confirm-investment">Start Cloud Mining</button>
                    <div class="investment-status" id="investment-status"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- How It Works Section -->
    <section class="how-it-works-section" id="how-it-works">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>How Bithash Capital Cloud Mining Works</h2>
                <p>Our streamlined process makes Bitcoin cloud mining accessible to everyone</p>
            </div>
            
            <div class="steps-container">
                <div class="step-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="step-number">1</div>
                    <h3>Create Account</h3>
                    <p>Register in minutes with our secure onboarding process. No technical knowledge required.</p>
                </div>
                <div class="step-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="step-number">2</div>
                    <h3>Choose Your Preffered Cloud Mining Plan</h3>
                    <p>Select a cloud mining plan that matches your goals and invest securely.</p>
                </div>
                <div class="step-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="step-number">3</div>
                    <h3>Start Earning from Mining</h3>
                    <p>Watch your investment grow with daily mining updates. Withdraw profits anytime.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Mining Video Section -->
    <section class="mining-video-section">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Real-Time Crypto Cloud Mining Operations</h2>
                <p>Our 24/7 Bitcoin cloud mining hubs equipped with high efficiency ASIC rigs and live performance monitoring</p>
            </div>
            
            <div class="video-container" data-aos="fade-up">
                <video autoplay loop muted playsinline disablePictureInPicture disableRemotePlayback>
                    <source src="https://www.dropbox.com/scl/fi/2ln68i04x0ep95aisvtnz/Cryptocurrency-Bitcoins-mining-in-4K-UHD-flat-animation-1.mp4?rlkey=vpsim9qc57886qu8dppx9npax&raw=1" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="video-overlay"></div>
            </div>
        </div>
    </section>

    <!-- Enhanced Loans Section -->
    <section class="loans-section" id="loans">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>BitHash Loans</h2>
                <p>Access loans based on your eligibility determined by our backend API. All requirements are checked through the eligibility API to ensure consistency.</p>
            </div>
            
            <!-- Loan Balances Section -->
            <div class="loan-balances-container" id="loan-balances-container" data-aos="fade-up">
                <div class="loan-balance-card">
                    <div class="loan-balance-icon">
                        <i class="fas fa-credit-card"></i>
                    </div>
                    <div class="loan-balance-label">Loan Limit</div>
                    <div class="loan-balance-amount" id="loan-limit-amount">$0.00</div>
                    <div class="loan-balance-subtext">Maximum amount you can borrow</div>
                </div>
                
                <div class="loan-balance-card">
                    <div class="loan-balance-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="loan-balance-label">Current Debt Balance</div>
                    <div class="loan-balance-amount" id="debt-balance-amount">$0.00</div>
                    <div class="loan-balance-subtext">Total outstanding loan amount</div>
                </div>
                
                <div class="loan-balance-card">
                    <div class="loan-balance-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <div class="loan-balance-label">Available Credit</div>
                    <div class="loan-balance-amount" id="available-credit-amount">$0.00</div>
                    <div class="loan-balance-subtext">Amount you can still borrow</div>
                </div>
            </div>
            
            <div class="loan-calculator" data-aos="fade-up">
                <!-- Loan Eligibility Status Display -->
                <div class="loan-eligibility-status" id="loan-eligibility-status">
                    <h4>Loan Eligibility Status</h4>
                    <div id="eligibility-message-container">
                        <!-- Message will be dynamically inserted here -->
                    </div>
                    
                    <!-- Loan Limit Display (Shown when eligible) -->
                    <div id="loan-limit-display" style="display: none;">
                        <div class="loan-limit-display">
                            <div class="loan-limit-label">Your Maximum Loan Amount</div>
                            <div class="loan-limit-value" id="loan-limit-value">$0.00</div>
                        </div>
                        
                        <div class="loan-apply-button-container">
                            <button class="loan-apply-button eligible" id="apply-loan-button" onclick="window.location.href='dashboard.html#loan-section'">
                                <i class="fas fa-paper-plane"></i> Apply for Loan
                            </button>
                        </div>
                    </div>
                    
                    <!-- Not Eligible Button (Disabled) -->
                    <div id="not-eligible-button" style="display: none;">
                        <button class="loan-apply-button not-eligible" disabled>
                            <i class="fas fa-times-circle"></i> Not Eligible
                        </button>
                    </div>
                </div>
                
                <!-- Loan Process Steps Only -->
                <div class="loan-process-steps">
                    <h4>How Our Loan Process Works</h4>
                    <div class="process-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h5>API Eligibility Check</h5>
                            <p>Our system calls the eligibility API to verify all requirements</p>
                        </div>
                    </div>
                    <div class="process-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h5>Credit Assessment</h5>
                            <p>The API determines your maximum loan amount based on account data</p>
                        </div>
                    </div>
                    <div class="process-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h5>Loan Approval</h5>
                            <p>If API confirms eligibility, you can apply for the maximum loan amount</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- BTC News Section -->
    <section class="btc-news-section" id="news">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>Latest Bitcoin News</h2>
                <p>Stay updated with the latest developments in Bitcoin and cryptocurrency mining</p>
            </div>
            
            <div class="news-grid" id="news-container">
                <!-- News cards will be dynamically loaded here -->
                <div class="news-loading">
                    <div class="loading-spinner"></div>
                    <p>Loading latest Bitcoin news...</p>
                </div>
            </div>
            
            <div class="news-navigation">
                <button class="btn btn-outline" id="prev-news" disabled>Previous</button>
                <span id="news-page-info">Page 1</span>
                <button class="btn btn-outline" id="next-news">Next</button>
            </div>
        </div>
    </section>

    <!-- News Modal -->
    <div class="news-modal" id="news-modal">
        <div class="news-modal-content">
            <button class="news-modal-close" id="news-modal-close">&times;</button>
            <div class="news-modal-header">
                <img id="news-modal-image" src="" alt="News Image">
                <div class="news-modal-header-text">
                    <h3 id="news-modal-title"></h3>
                    <div class="news-modal-meta">
                        <span id="news-modal-source"></span>
                        <span id="news-modal-date"></span>
                    </div>
                </div>
            </div>
            <div class="news-modal-body">
                <p id="news-modal-description"></p>
                <a href="#" target="_blank" id="news-modal-link" class="btn btn-primary">Read Full Article</a>
            </div>
        </div>
    </div>
    
    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-container" data-aos="fade-up">
                <h2>Ready to Start Cloud Mining Bitcoin?</h2>
                <p>Start with a minimum investment of $200 and begin earning from mining today.</p>
                <button class="btn btn-gold" onclick="window.location.href='signup.html'">Start Cloud Mining Now</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-container">
                <div class="footer-about">
                    <div class="footer-logo">
                        <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="loading-logo">    
                        <span class="footer-logo-text">BitHash</span>
                    </div>
                    <p>Bitcoin cloud mining platform serving investors worldwide with transparent operations and reliable returns.</p>
                    <div class="footer-social">
                        <!-- Social Share Buttons -->
                        <a href="https://twitter.com/intent/tweet?url=https://bithhash.vercel.app/&text=Check%20out%20this%20Bitcoin%20cloud%20mining%20platform!" 
                           class="social-icon twitter" aria-label="Twitter" target="_blank" rel="noopener">
                           <i class="fab fa-twitter"></i>
                        </a>
                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://bithhash.vercel.app/" 
                           class="social-icon linkedin" aria-label="LinkedIn" target="_blank" rel="noopener">
                           <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://bithhash.vercel.app/" 
                           class="social-icon facebook" aria-label="Facebook" target="_blank" rel="noopener">
                           <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com" 
                           class="social-icon instagram" aria-label="Instagram" target="_blank" rel="noopener" 
                           onclick="alert('Instagram does not support direct sharing via links. Please share manually.'); return false;">
                           <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Platform</h3>
                    <ul>
                        <li><a href="#home">Dashboard</a></li>
                        <li><a href="#plans">Cloud Mining Plans</a></li>
                        <li><a href="#loans">Loans</a></li>
                        <li><a href="dashboard.html">My Account</a></li>
                        <li><a href="rewards.html">Rewards</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-title">Company</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="careers.html">Careers</a></li>
                        <li><a href="press.html">Press</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="partners.html">Partners</a></li>
                    </ul>
                </div>
                
                <div class="footer-contact">
                    <h3 class="footer-title">Contact Us</h3>
                    <p><i class="fas fa-envelope"></i> support@bithash.com</p>
                    <p><i class="fas fa-phone"></i> +1 606-363-2032</p>
                    <p><i class="fas fa-map-marker-alt"></i> 800 Plant St, Wilmington, DE 19801, United States</p>
                    <p><i class="fas fa-clock"></i> 24/7 Support</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> BitHash LLC. All Rights Reserved. Registered in Delaware, USA. FINRA/SIPC Member.</p>
            </div>
        </div>
    </footer>

    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Smartsupp Live Chat script -->
    <script type="text/javascript">
        var _smartsupp = _smartsupp || {};
        _smartsupp.key = '164ffa4b3acec94eb79a39bad2033ab6eb10f487';
        window.smartsupp||(function(d) {
            var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
            s=d.getElementsByTagName('script')[0];c=d.createElement('script');
            c.type='text/javascript';c.charset='utf-8';c.async=true;
            c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
        })(document);
    </script>
    <noscript> Powered by <a href=https://www.smartsupp.com target=_blank>Smartsupp</a></noscript>

<script>
    // Initialize AOS animation
    AOS.init({
        duration: 400,
        once: true,
        easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
        offset: 100
    });
    
    // Set page as loaded for animations
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
            document.body.classList.add('loading-complete');
        }, 100);
    });
    
    // Global variable to track if modal event listeners are already set up
    let investmentModalInitialized = false;
    
    // Global App State
    const AppState = {
        activeAnnouncements: new Map(),
        userBalances: {
            main: 0,
            matured: 0
        },
        loanEligibility: {
            eligible: false,
            maxAmount: 0,
            creditScore: 0,
            requirements: []
        },
        loanData: null
    };
    
    // Hide loading overlay when page is loaded
    window.addEventListener('load', function() {
        setTimeout(function() {
            document.getElementById('loading-overlay').classList.add('hidden');
        }, 1000);
        
        // Load all dynamic data from backend
        loadStatsData();
        loadPlansData();
        checkAuthState();
        
        // Initialize language selector
        initializeLanguageSelector();
        
        // Initialize video autoplay
        const video = document.querySelector('video');
        if (video) {
            video.setAttribute('autoplay', '');
            video.setAttribute('loop', '');
            video.setAttribute('muted', '');
            video.setAttribute('playsinline', '');
            
            // Prevent right-click menu on video
            video.addEventListener('contextmenu', function(e) {
                e.preventDefault();
            });
            
            // Ensure video plays even if autoplay is blocked
            const playVideo = () => {
                video.play().catch(error => {
                    console.log('Video autoplay prevented:', error);
                });
            };
            
            // Try to play when page loads
            playVideo();
            
            // Try to play when user interacts with page
            document.addEventListener('click', playVideo, { once: true });
            document.addEventListener('scroll', playVideo, { once: true });
        }
    });
    
    // Set current year in footer
    document.getElementById('current-year').textContent = new Date().getFullYear();
    
    // Language Selector Functionality
    function initializeLanguageSelector() {
        const languageBtn = document.getElementById('language-dropdown-btn');
        const languageDropdown = document.getElementById('language-dropdown');
        const languageSearch = document.getElementById('language-search');
        const languageList = document.getElementById('language-list');
        const languagePrev = document.getElementById('language-prev');
        const languageNext = document.getElementById('language-next');
        const languagePageInfo = document.getElementById('language-page-info');
        
        let currentPage = 1;
        const languagesPerPage = 10;
        let allLanguages = [];
        let filteredLanguages = [];
        
        // Toggle dropdown
        languageBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            languageDropdown.classList.toggle('active');
            languageBtn.classList.toggle('active');
            
            if (languageDropdown.classList.contains('active')) {
                loadLanguages();
            }
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function() {
            languageDropdown.classList.remove('active');
            languageBtn.classList.remove('active');
        });
        
        // Prevent dropdown from closing when clicking inside
        languageDropdown.addEventListener('click', function(e) {
            e.stopPropagation();
        });
        
        // Search functionality
        languageSearch.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            filteredLanguages = allLanguages.filter(lang => 
                lang.name.toLowerCase().includes(searchTerm) || 
                lang.nativeName.toLowerCase().includes(searchTerm) ||
                lang.code.toLowerCase().includes(searchTerm)
            );
            currentPage = 1;
            renderLanguages();
        });
        
        // Pagination
        languagePrev.addEventListener('click', function() {
            if (currentPage > 1) {
                currentPage--;
                renderLanguages();
            }
        });
        
        languageNext.addEventListener('click', function() {
            const totalPages = Math.ceil(filteredLanguages.length / languagesPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                renderLanguages();
            }
        });
        
        // Load languages from backend
        async function loadLanguages() {
            try {
                const response = await fetch('https://bithashcapital.onrender.com/api/languages');
                if (response.ok) {
                    const data = await response.json();
                    allLanguages = data.languages || [];
                    filteredLanguages = [...allLanguages];
                    renderLanguages();
                } else {
                    throw new Error('Failed to load languages');
                }
            } catch (error) {
                console.error('Error loading languages:', error);
                // Fallback to default languages
                allLanguages = getDefaultLanguages();
                filteredLanguages = [...allLanguages];
                renderLanguages();
            }
        }
        
        // Render languages in the dropdown
        function renderLanguages() {
            const startIndex = (currentPage - 1) * languagesPerPage;
            const endIndex = startIndex + languagesPerPage;
            const languagesToShow = filteredLanguages.slice(startIndex, endIndex);
            
            languageList.innerHTML = languagesToShow.map(lang => `
                <div class="language-option ${lang.code === getCurrentLanguage() ? 'active' : ''}" 
                     data-code="${lang.code}">
                    <img src="${lang.flag}" alt="${lang.name}" class="language-flag" onerror="this.style.display='none'">
                    <span class="language-name">${lang.name}</span>
                    <span class="language-code">${lang.nativeName}</span>
                </div>
            `).join('');
            
            // Add click event listeners
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function() {
                    const languageCode = this.getAttribute('data-code');
                    changeLanguage(languageCode);
                });
            });
            
            // Update pagination
            const totalPages = Math.ceil(filteredLanguages.length / languagesPerPage);
            languagePageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
            languagePrev.disabled = currentPage === 1;
            languageNext.disabled = currentPage === totalPages;
        }
        
        // Get current language from localStorage or browser
        function getCurrentLanguage() {
            return localStorage.getItem('preferred-language') || 
                   navigator.language.split('-')[0] || 'en';
        }
        
        // Change language
        async function changeLanguage(languageCode) {
            try {
                // Save preference to backend if user is logged in
                const token = localStorage.getItem('jwtToken');
                if (token) {
                    await fetch('https://bithashcapital.onrender.com/api/users/language', {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify({ language: languageCode })
                    });
                }
                
                // Save to localStorage
                localStorage.setItem('preferred-language', languageCode);
                
                // Update UI
                const selectedLanguage = allLanguages.find(lang => lang.code === languageCode);
                if (selectedLanguage) {
                    document.getElementById('current-language').textContent = selectedLanguage.name;
                }
                
                // Close dropdown
                languageDropdown.classList.remove('active');
                languageBtn.classList.remove('active');
                
                // Show success message
                showNotification('success', 'Language Updated', `Language changed to ${selectedLanguage?.name || languageCode}`);
                
                // Reload translations
                loadTranslations(languageCode);
                
            } catch (error) {
                console.error('Error changing language:', error);
                showNotification('error', 'Language Error', 'Failed to change language');
            }
        }
        
        // Load translations for the selected language
        async function loadTranslations(languageCode) {
            try {
                const response = await fetch(`https://bithashcapital.onrender.com/api/translations/${languageCode}`);
                if (response.ok) {
                    const translations = await response.json();
                    applyTranslations(translations);
                }
            } catch (error) {
                console.error('Error loading translations:', error);
            }
        }
        
        // Apply translations to the page
        function applyTranslations(translations) {
            // This would update all translatable elements on the page
            // For now, we'll just update a few key elements as an example
            const elementsToTranslate = {
                'hero-title': translations.heroTitle || 'Bitcoin Cloud Mining Powered by Efficiency and Scale',
                'hero-description': translations.heroDescription || 'Join BitHash and access SHA-256 ASIC miners operating across energy-efficient data centers through cloud mining.',
                'investment-plans-title': translations.investmentPlansTitle || 'Bitcoin Cloud Mining Plans'
            };
            
            // Update elements with data-translate attribute
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[key]) {
                    element.textContent = translations[key];
                }
            });
        }
        
        // Initialize with current language
        const currentLang = getCurrentLanguage();
        const currentLangData = getDefaultLanguages().find(lang => lang.code === currentLang);
        if (currentLangData) {
            document.getElementById('current-language').textContent = currentLangData.name;
        }
    }
    
    // Default languages fallback
    function getDefaultLanguages() {
        return [
            { code: 'en', name: 'English', nativeName: 'English', flag: 'https://flagcdn.com/w40/gb.png' },
            { code: 'fi', name: 'Finnish', nativeName: 'Suomi', flag: 'https://flagcdn.com/w40/fi.png' },
            { code: 'sv', name: 'Swedish', nativeName: 'Svenska', flag: 'https://flagcdn.com/w40/se.png' },
            { code: 'no', name: 'Norwegian', nativeName: 'Norsk', flag: 'https://flagcdn.com/w40/no.png' },
            { code: 'da', name: 'Danish', nativeName: 'Dansk', flag: 'https://flagcdn.com/w40/dk.png' },
            { code: 'de', name: 'German', nativeName: 'Deutsch', flag: 'https://flagcdn.com/w40/de.png' },
            { code: 'fr', name: 'French', nativeName: 'Franais', flag: 'https://flagcdn.com/w40/fr.png' },
            { code: 'es', name: 'Spanish', nativeName: 'Espaol', flag: 'https://flagcdn.com/w40/es.png' },
            { code: 'it', name: 'Italian', nativeName: 'Italiano', flag: 'https://flagcdn.com/w40/it.png' },
            { code: 'pt', name: 'Portuguese', nativeName: 'Portugus', flag: 'https://flagcdn.com/w40/pt.png' },
            { code: 'nl', name: 'Dutch', nativeName: 'Nederlands', flag: 'https://flagcdn.com/w40/nl.png' },
            { code: 'ru', name: 'Russian', nativeName: '', flag: 'https://flagcdn.com/w40/ru.png' },
            { code: 'zh', name: 'Chinese', nativeName: '', flag: 'https://flagcdn.com/w40/cn.png' },
            { code: 'ja', name: 'Japanese', nativeName: '', flag: 'https://flagcdn.com/w40/jp.png' },
            { code: 'ko', name: 'Korean', nativeName: '', flag: 'https://flagcdn.com/w40/kr.png' },
            { code: 'ar', name: 'Arabic', nativeName: '', flag: 'https://flagcdn.com/w40/sa.png' },
            { code: 'hi', name: 'Hindi', nativeName: '', flag: 'https://flagcdn.com/w40/in.png' },
            { code: 'tr', name: 'Turkish', nativeName: 'Trke', flag: 'https://flagcdn.com/w40/tr.png' },
            { code: 'pl', name: 'Polish', nativeName: 'Polski', flag: 'https://flagcdn.com/w40/pl.png' },
            { code: 'uk', name: 'Ukrainian', nativeName: '', flag: 'https://flagcdn.com/w40/ua.png' },
            { code: 'cs', name: 'Czech', nativeName: 'etina', flag: 'https://flagcdn.com/w40/cz.png' },
            { code: 'el', name: 'Greek', nativeName: '', flag: 'https://flagcdn.com/w40/gr.png' },
            { code: 'he', name: 'Hebrew', nativeName: '', flag: 'https://flagcdn.com/w40/il.png' },
            { code: 'th', name: 'Thai', nativeName: '', flag: 'https://flagcdn.com/w40/th.png' },
            { code: 'vi', name: 'Vietnamese', nativeName: 'Ting Vit', flag: 'https://flagcdn.com/w40/vn.png' },
            { code: 'id', name: 'Indonesian', nativeName: 'Bahasa Indonesia', flag: 'https://flagcdn.com/w40/id.png' },
            { code: 'ms', name: 'Malay', nativeName: 'Bahasa Melayu', flag: 'https://flagcdn.com/w40/my.png' },
            { code: 'fil', name: 'Filipino', nativeName: 'Filipino', flag: 'https://flagcdn.com/w40/ph.png' },
            { code: 'ro', name: 'Romanian', nativeName: 'Romn', flag: 'https://flagcdn.com/w40/ro.png' },
            { code: 'hu', name: 'Hungarian', nativeName: 'Magyar', flag: 'https://flagcdn.com/w40/hu.png' },
            { code: 'bg', name: 'Bulgarian', nativeName: '', flag: 'https://flagcdn.com/w40/bg.png' },
            { code: 'hr', name: 'Croatian', nativeName: 'Hrvatski', flag: 'https://flagcdn.com/w40/hr.png' },
            { code: 'sr', name: 'Serbian', nativeName: '', flag: 'https://flagcdn.com/w40/rs.png' },
            { code: 'sk', name: 'Slovak', nativeName: 'Slovenina', flag: 'https://flagcdn.com/w40/sk.png' },
            { code: 'sl', name: 'Slovenian', nativeName: 'Slovenina', flag: 'https://flagcdn.com/w40/si.png' },
            { code: 'et', name: 'Estonian', nativeName: 'Eesti', flag: 'https://flagcdn.com/w40/ee.png' },
            { code: 'lv', name: 'Latvian', nativeName: 'Latvieu', flag: 'https://flagcdn.com/w40/lv.png' },
            { code: 'lt', name: 'Lithuanian', nativeName: 'Lietuvi', flag: 'https://flagcdn.com/w40/lt.png' },
            { code: 'mt', name: 'Maltese', nativeName: 'Malti', flag: 'https://flagcdn.com/w40/mt.png' },
            { code: 'ga', name: 'Irish', nativeName: 'Gaeilge', flag: 'https://flagcdn.com/w40/ie.png' },
            { code: 'is', name: 'Icelandic', nativeName: 'slenska', flag: 'https://flagcdn.com/w40/is.png' },
            { code: 'sq', name: 'Albanian', nativeName: 'Shqip', flag: 'https://flagcdn.com/w40/al.png' },
            { code: 'mk', name: 'Macedonian', nativeName: '', flag: 'https://flagcdn.com/w40/mk.png' },
            { code: 'bs', name: 'Bosnian', nativeName: 'Bosanski', flag: 'https://flagcdn.com/w40/ba.png' },
            { code: 'ca', name: 'Catalan', nativeName: 'Catal', flag: 'https://flagcdn.com/w40/ad.png' },
            { code: 'eu', name: 'Basque', nativeName: 'Euskara', flag: 'https://flagcdn.com/w40/es-pv.png' },
            { code: 'gl', name: 'Galician', nativeName: 'Galego', flag: 'https://flagcdn.com/w40/es-ga.png' },
            { code: 'af', name: 'Afrikaans', nativeName: 'Afrikaans', flag: 'https://flagcdn.com/w40/za.png' },
            { code: 'sw', name: 'Swahili', nativeName: 'Kiswahili', flag: 'https://flagcdn.com/w40/ke.png' },
            { code: 'zu', name: 'Zulu', nativeName: 'isiZulu', flag: 'https://flagcdn.com/w40/za.png' }
        ];
    }

    // Mobile menu toggle functionality
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const mobileMenuDropdown = document.getElementById('mobile-menu-dropdown');
    
    mobileMenuToggle.addEventListener('click', function() {
        mobileMenuDropdown.classList.toggle('active');
        this.innerHTML = mobileMenuDropdown.classList.contains('active') ? 
            '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
        this.setAttribute('aria-expanded', mobileMenuDropdown.classList.contains('active'));
    });
    
    // PC menu toggle functionality
    const pcMenuToggle = document.getElementById('pc-menu-toggle');
    const pcMenuDropdown = document.getElementById('pc-menu-dropdown');
    
    pcMenuToggle.addEventListener('click', function() {
        pcMenuDropdown.classList.toggle('active');
        this.setAttribute('aria-expanded', pcMenuDropdown.classList.contains('active'));
    });
    
    // Close menus when clicking outside
    document.addEventListener('click', function(event) {
        if (!mobileMenuToggle.contains(event.target)) {
            mobileMenuDropdown.classList.remove('active');
            mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
            mobileMenuToggle.setAttribute('aria-expanded', 'false');
        }
        
        if (!pcMenuToggle.contains(event.target)) {
            pcMenuDropdown.classList.remove('active');
            pcMenuToggle.setAttribute('aria-expanded', 'false');
        }
    });

    /* Enhanced Announcement System */
    function startAnnouncementsPolling() {
        setInterval(async () => {
            await checkAnnouncements();
        }, 30000);
        
        checkAnnouncements();
    }
    
    async function checkAnnouncements() {
        try {
            const response = await apiCall('https://bithashcapital.onrender.com/api/announcements');
            const announcements = response.data || [];
            
            const newAnnouncements = announcements.filter(announcement => 
                !AppState.activeAnnouncements.has(announcement.id) && 
                !isAnnouncementDismissed(announcement.id)
            );
            
            if (newAnnouncements.length > 0) {
                clearAllAnnouncements();
                
                const announcement = newAnnouncements[0];
                showAnnouncement(announcement);
                AppState.activeAnnouncements.set(announcement.id, announcement);
                
                localStorage.setItem('activeAnnouncement', JSON.stringify(announcement));
            }
            
            const activeIds = announcements.map(a => a.id);
            for (const [id, announcement] of AppState.activeAnnouncements.entries()) {
                if (!activeIds.includes(id)) {
                    removeAnnouncement(id);
                }
            }
            
        } catch (error) {
            console.error('Error checking announcements:', error);
            const storedAnnouncement = localStorage.getItem('activeAnnouncement');
            if (storedAnnouncement && !document.querySelector('.announcement.show')) {
                try {
                    const announcement = JSON.parse(storedAnnouncement);
                    if (!isAnnouncementDismissed(announcement.id)) {
                        showAnnouncement(announcement);
                        AppState.activeAnnouncements.set(announcement.id, announcement);
                    }
                } catch (e) {
                    console.error('Error loading stored announcement:', e);
                }
            }
        }
    }
    
    function isAnnouncementDismissed(announcementId) {
        const dismissedAnnouncements = JSON.parse(localStorage.getItem('dismissedAnnouncements') || '[]');
        return dismissedAnnouncements.includes(announcementId);
    }
    
    function dismissAnnouncement(announcementId) {
        const dismissedAnnouncements = JSON.parse(localStorage.getItem('dismissedAnnouncements') || '[]');
        if (!dismissedAnnouncements.includes(announcementId)) {
            dismissedAnnouncements.push(announcementId);
            localStorage.setItem('dismissedAnnouncements', JSON.stringify(dismissedAnnouncements));
        }
    }
    
    function showAnnouncement(announcement) {
        const announcementCenter = document.getElementById('announcement-center');
        if (!announcementCenter) return;
        
        const announcementEl = document.createElement('div');
        announcementEl.className = 'announcement';
        announcementEl.id = `announcement-${announcement.id}`;
        
        let type = 'info';
        let icon = 'fa-bullhorn';
        
        if (announcement.type === 'error' || announcement.priority === 'high') {
            type = 'error';
            icon = 'fa-exclamation-circle';
        } else if (announcement.type === 'warning') {
            type = 'warning';
            icon = 'fa-exclamation-triangle';
        }
        
        announcementEl.classList.add(type);
        
        const announcementDate = announcement.createdAt ? formatDate(announcement.createdAt) : '';
        
        announcementEl.innerHTML = `
            <i class="fas ${icon}"></i>
            <div class="announcement-content">
                <div class="announcement-title">${announcement.title || 'Announcement'}</div>
                <div class="announcement-message">${announcement.message || ''}</div>
                <div class="announcement-meta">
                    <span class="announcement-sender">${announcement.sender || 'BitHash Support'}</span>
                    <span class="announcement-date">${announcementDate}</span>
                </div>
            </div>
            <button class="announcement-close" title="Dismiss this announcement">
                <i class="fas fa-times"></i>
            </button>
        `;
        
        announcementCenter.appendChild(announcementEl);
        
        const closeButton = announcementEl.querySelector('.announcement-close');
        closeButton.addEventListener('click', function() {
            dismissAnnouncement(announcement.id);
            removeAnnouncement(announcement.id);
        });
        
        void announcementEl.offsetWidth;
        
        announcementEl.classList.add('show');
        
        if ('vibrate' in navigator && type === 'error') {
            navigator.vibrate([200, 100, 200]);
        }
    }
    
    function clearAllAnnouncements() {
        const announcementCenter = document.getElementById('announcement-center');
        if (!announcementCenter) return;
        
        const announcements = announcementCenter.querySelectorAll('.announcement');
        announcements.forEach(announcement => {
            announcement.classList.remove('show');
            setTimeout(() => {
                if (announcement.parentNode) {
                    announcement.parentNode.removeChild(announcement);
                }
            }, 400);
        });
    }
    
    function removeAnnouncement(announcementId) {
        const announcementEl = document.getElementById(`announcement-${announcementId}`);
        if (!announcementEl) return;
        
        announcementEl.classList.remove('show');
        
        setTimeout(() => {
            if (announcementEl.parentNode) {
                announcementEl.parentNode.removeChild(announcementEl);
            }
            AppState.activeAnnouncements.delete(announcementId);
            
            const storedAnnouncement = localStorage.getItem('activeAnnouncement');
            if (storedAnnouncement) {
                const parsedAnnouncement = JSON.parse(storedAnnouncement);
                if (parsedAnnouncement.id === announcementId) {
                    localStorage.removeItem('activeAnnouncement');
                }
            }
        }, 400);
    }
    
    /* Critical Error Notification System */
    const notificationQueue = [];
    let isNotificationShowing = false;
    
    function showNotification(type, title, message, duration = 5000) {
        notificationQueue.push({ type, title, message, duration });
        
        if (!isNotificationShowing) {
            processNotificationQueue();
        }
    }
    
    function processNotificationQueue() {
        if (notificationQueue.length === 0) {
            isNotificationShowing = false;
            return;
        }
        
        isNotificationShowing = true;
        const { type, title, message, duration } = notificationQueue.shift();
        
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        
        const icon = type === 'error' ? 'fa-exclamation-circle' : 
                    type === 'warning' ? 'fa-exclamation-triangle' : 'fa-check-circle';
        
        notification.innerHTML = `
            <i class="fas ${icon}"></i>
            <div class="notification-content">
                <div class="notification-title">${title}</div>
                <div class="notification-message">${message}</div>
            </div>
            <div class="notification-close">&times;</div>
        `;
        
        const notificationCenter = document.getElementById('notification-center');
        notificationCenter.appendChild(notification);
        
        void notification.offsetWidth;
        
        notification.classList.add('show');
        
        if (type === 'error' && 'vibrate' in navigator) {
            navigator.vibrate([200, 100, 200]);
        }
        
        notification.querySelector('.notification-close').addEventListener('click', () => {
            closeNotification(notification);
        });
        
        if (duration > 0) {
            setTimeout(() => {
                if (notification.parentNode) {
                    closeNotification(notification);
                }
            }, duration);
        }
    }
    
    function closeNotification(notification) {
        notification.classList.remove('show');
        
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
                }
            
            processNotificationQueue();
        }, 400);
    }

    // Fetch Bitcoin price from CoinGecko API
    async function fetchBitcoinPrice() {
        try {
            const response = await fetch('https://api.coingecko.com/api/v3/coins/bitcoin?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false');
            
            if (!response.ok) {
                throw new Error('Failed to fetch Bitcoin price');
            }
            
            const data = await response.json();
            return data.market_data;
        } catch (error) {
            console.error('Error fetching Bitcoin price:', error);
            return fetchSimpleBitcoinPrice();
        }
    }

    async function fetchSimpleBitcoinPrice() {
        try {
            const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true');
            
            if (!response.ok) {
                throw new Error('Failed to fetch simple Bitcoin price');
            }
            
            const data = await response.json();
            return {
                current_price: { usd: data.bitcoin.usd },
                price_change_percentage_24h: data.bitcoin.usd_24h_change,
                high_24h: { usd: data.bitcoin.usd * 1.05 },
                low_24h: { usd: data.bitcoin.usd * 0.95 },
                total_volume: { btc: 0 }
            };
        } catch (error) {
            console.error('Error fetching simple Bitcoin price:', error);
            return null;
        }
    }

    function updateBitcoinPriceDisplay(marketData) {
        if (!marketData) {
            showNotification('error', 'Price Error', 'Failed to load Bitcoin price data');
            return;
        }

        const currentPrice = marketData.current_price.usd;
        const priceChange = marketData.price_change_percentage_24h;
        const high24h = marketData.high_24h.usd;
        const low24h = marketData.low_24h.usd;
        const volume24h = marketData.total_volume.btc;

        const formatCurrency = num => '$' + num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        const formatPercentage = num => num.toFixed(2) + '%';
        const formatVolume = num => num.toLocaleString('en-US', { maximumFractionDigits: 2 }) + ' BTC';

        document.getElementById('btc-price').textContent = formatCurrency(currentPrice);
        
        const changeElement = document.getElementById('btc-change');
        changeElement.textContent = formatPercentage(priceChange);
        changeElement.className = priceChange >= 0 ? 'btc-change positive' : 'btc-change negative';
        
        document.getElementById('btc-high').textContent = formatCurrency(high24h);
        document.getElementById('btc-low').textContent = formatCurrency(low24h);
        document.getElementById('btc-volume').textContent = formatVolume(volume24h);
    }

    async function initBitcoinPriceUpdates() {
        const marketData = await fetchBitcoinPrice();
        updateBitcoinPriceDisplay(marketData);
        
        setInterval(async () => {
            const marketData = await fetchBitcoinPrice();
            updateBitcoinPriceDisplay(marketData);
        }, 60000);
    }

    document.addEventListener('DOMContentLoaded', initBitcoinPriceUpdates);
    
    // Enhanced stats loading
    async function loadStatsData() {
        try {
            const response = await fetch('https://bithashcapital.onrender.com/api/stats');
            if (response.ok) {
                const data = await response.json();
                
                animateNumberChange('total-investors', data.totalInvestors, 0);
                animateNumberChange('total-invested', data.totalInvested, 2);
                animateNumberChange('total-withdrawals', data.totalWithdrawals, 2);
                animateNumberChange('total-loans', data.totalLoans, 2);
                
                updateChangeIndicator('investors-change', data.changeRates.investors);
                updateChangeIndicator('invested-change', data.changeRates.invested);
                updateChangeIndicator('withdrawals-change', data.changeRates.withdrawals);
                updateChangeIndicator('loans-change', data.changeRates.loans);
                
                setTimeout(loadStatsData, 5000);
            } else {
                console.error('Failed to load stats data');
                showNotification('error', 'Backend Error', 'Failed to load statistics data. Please try again later.');
                setTimeout(loadStatsData, 30000);
            }
        } catch (error) {
            console.error('Error loading stats data:', error);
            showNotification('error', 'Connection Error', 'Failed to connect to statistics service. Please check your connection.');
            setTimeout(loadStatsData, 30000);
        }
    }

    function animateNumberChange(elementId, targetValue, decimals) {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        const currentValue = parseFloat(element.textContent.replace(/,/g, '') || '0');
        const duration = 1000;
        const startTime = performance.now();
        
        const formatNumber = (num) => {
            if (decimals === 0) {
                return num.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }
            return num.toFixed(decimals).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        };

        function updateNumber(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            const value = currentValue + (targetValue - currentValue) * progress;
            
            element.textContent = formatNumber(value);
            
            if (progress < 1) {
                requestAnimationFrame(updateNumber);
            } else {
                element.textContent = formatNumber(targetValue);
            }
        }
        
        requestAnimationFrame(updateNumber);
    }

    function updateChangeIndicator(elementId, changeRate) {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        element.innerHTML = '';
        
        const arrow = document.createElement('span');
        arrow.style.marginLeft = '5px';
        arrow.style.fontSize = '0.8em';
        
        if (changeRate > 0) {
            arrow.innerHTML = `<i class="fas fa-arrow-up" style="color: var(--positive);"></i> ${Math.abs(changeRate)}%`;
        } else if (changeRate < 0) {
            arrow.innerHTML = `<i class="fas fa-arrow-down" style="color: var(--negative);"></i> ${Math.abs(changeRate)}%`;
        } else {
            arrow.innerHTML = `<i class="fas fa-minus" style="color: var(--secondary-text);"></i> 0%`;
        }
        
        element.appendChild(arrow);
    }

    // BTC News functionality
    let currentNewsPage = 1;
    const newsPerPage = 3;
    let allNewsData = [];

    const newsContainer = document.getElementById('news-container');
    const prevNewsBtn = document.getElementById('prev-news');
    const nextNewsBtn = document.getElementById('next-news');
    const newsPageInfo = document.getElementById('news-page-info');
    const newsModal = document.getElementById('news-modal');
    const newsModalClose = document.getElementById('news-modal-close');

    async function fetchBTCNews() {
        try {
            newsContainer.innerHTML = `
                <div class="news-loading">
                    <div class="loading-spinner"></div>
                    <p>Loading latest Bitcoin news...</p>
                </div>
            `;
            
            const response = await fetch('https://bithashcapital.onrender.com/api/btc-news');
            if (response.ok) {
                const data = await response.json();
                allNewsData = data.data || [];
                renderNews();
            } else {
                throw new Error('Failed to fetch news');
            }
        } catch (error) {
            console.error('Error fetching BTC news:', error);
            newsContainer.innerHTML = `
                <div class="news-loading">
                    <i class="fas fa-exclamation-triangle" style="font-size: 2rem; color: var(--negative); margin-bottom: 15px;"></i>
                    <p>Failed to load news. Please try again later.</p>
                    <button class="btn btn-outline" onclick="fetchBTCNews()" style="margin-top: 15px;">Retry</button>
                </div>
            `;
        }
    }

    function renderNews() {
        if (allNewsData.length === 0) {
            newsContainer.innerHTML = `
                <div class="news-loading">
                    <i class="fas fa-newspaper" style="font-size: 2rem; color: var(--secondary-text); margin-bottom: 15px;"></i>
                    <p>No news available at the moment.</p>
                </div>
            `;
            return;
        }

        const startIndex = (currentNewsPage - 1) * newsPerPage;
        const endIndex = startIndex + newsPerPage;
        const newsToDisplay = allNewsData.slice(startIndex, endIndex);

        newsContainer.innerHTML = newsToDisplay.map(news => `
            <div class="news-card" data-aos="fade-up" data-id="${news.id}">
                <div class="news-image-container">
                    <img src="${news.image || 'https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1'}" 
                         alt="${news.title}" class="news-image" 
                         onerror="this.src='https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1'">
                </div>
                <div class="news-content">
                    <h3 class="news-title">${news.title}</h3>
                    <div class="news-meta">
                        <span class="news-source">${news.source}</span>
                        <span class="news-date">${formatDate(news.publishedAt)}</span>
                    </div>
                </div>
            </div>
        `).join('');

        document.querySelectorAll('.news-card').forEach(card => {
            card.addEventListener('click', () => {
                const newsId = card.getAttribute('data-id');
                const newsItem = allNewsData.find(item => item.id === newsId);
                if (newsItem) {
                    openNewsModal(newsItem);
                }
            });
        });

        updatePaginationControls();
    }

    function formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric'
        });
    }

    function updatePaginationControls() {
        const totalPages = Math.ceil(allNewsData.length / newsPerPage);
        
        prevNewsBtn.disabled = currentNewsPage <= 1;
        nextNewsBtn.disabled = currentNewsPage >= totalPages;
        
        newsPageInfo.textContent = `Page ${currentNewsPage} of ${totalPages}`;
    }

    function openNewsModal(newsItem) {
        document.getElementById('news-modal-title').textContent = newsItem.title;
        document.getElementById('news-modal-description').textContent = newsItem.description || 'No description available.';
        document.getElementById('news-modal-source').textContent = newsItem.source;
        document.getElementById('news-modal-date').textContent = formatDate(newsItem.publishedAt);
        document.getElementById('news-modal-link').href = newsItem.url;
        
        const modalImage = document.getElementById('news-modal-image');
        modalImage.src = newsItem.image || 'https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1';
        modalImage.alt = newsItem.title;
        
        newsModal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeNewsModal() {
        newsModal.classList.remove('active');
        document.body.style.overflow = '';
    }

    prevNewsBtn.addEventListener('click', () => {
        if (currentNewsPage > 1) {
            currentNewsPage--;
            renderNews();
            window.scrollTo({
                top: document.getElementById('news').offsetTop - 100,
                behavior: 'smooth'
            });
        }
    });

    nextNewsBtn.addEventListener('click', () => {
        const totalPages = Math.ceil(allNewsData.length / newsPerPage);
        if (currentNewsPage < totalPages) {
            currentNewsPage++;
            renderNews();
            window.scrollTo({
                top: document.getElementById('news').offsetTop - 100,
                behavior: 'smooth'
            });
        }
    });

    newsModalClose.addEventListener('click', closeNewsModal);
    newsModal.addEventListener('click', (e) => {
        if (e.target === newsModal) {
            closeNewsModal();
        }
    });

    document.addEventListener('DOMContentLoaded', fetchBTCNews);
    
    // Check authentication state
    async function checkAuthState() {
        try {
            const token = localStorage.getItem('jwtToken');
            if (!token) {
                document.getElementById('auth-buttons').style.display = 'flex';
                document.getElementById('user-balance-container').style.display = 'none';
                return;
            }
            
            const response = await fetch('https://bithashcapital.onrender.com/api/users/me', {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
            
            if (response.ok) {
                const userData = await response.json();
                document.getElementById('auth-buttons').style.display = 'none';
                fetchAndUpdateBalances();
                loadLoanBalances();
                setTimeout(() => {
                    checkLoanEligibilityAuto();
                }, 2000);
            } else {
                localStorage.removeItem('jwtToken');
                document.getElementById('auth-buttons').style.display = 'flex';
                document.getElementById('user-balance-container').style.display = 'none';
                showNotification('error', 'Session Expired', 'Your session has expired. Please login again.');
            }
        } catch (error) {
            console.error('Authentication check failed:', error);
            showNotification('error', 'Session Error', 'Failed to verify your session. Please login again.');
        }
    }

    // Load and render cloud mining plans
    async function loadPlansData() {
        try {
            console.log('Loading cloud mining plans data...');
            const token = localStorage.getItem('jwtToken');
            const headers = token ? { 'Authorization': `Bearer ${token}` } : {};
            
            const plansResponse = await fetch('https://bithashcapital.onrender.com/api/plans', {
                headers: headers
            });
            
            if (!plansResponse.ok) {
                throw new Error(`Failed to load plans: ${plansResponse.status}`);
            }
            
            const plansData = await plansResponse.json();
            console.log('Cloud mining plans data loaded:', plansData);
            
            let userBalance = null;
            let userMaturedBalance = null;
            
            if (token) {
                try {
                    const balanceResponse = await fetch('https://bithashcapital.onrender.com/api/users/balances', {
                        headers: headers
                    });
                    
                    if (balanceResponse.ok) {
                        const balanceData = await balanceResponse.json();
                        console.log('User balances:', balanceData);
                        userBalance = balanceData.data?.balances?.main || 0;
                        userMaturedBalance = balanceData.data?.balances?.matured || 0;
                    }
                } catch (balanceError) {
                    console.warn('Could not fetch user balances:', balanceError);
                }
            }
            
            renderPlans(plansData.data?.plans || [], userBalance, userMaturedBalance);
            
        } catch (error) {
            console.error('Error loading cloud mining plans data:', error);
            showNotification('error', 'Connection Error', 'Failed to load cloud mining plans. Please try again later.');
            
            const plansContainer = document.getElementById('plans-container');
            if (plansContainer) {
                plansContainer.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--secondary-text);">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-bottom: 20px;"></i>
                        <p>Unable to load cloud mining plans. Please check your connection and try again.</p>
                        <button class="btn btn-primary" onclick="loadPlansData()" style="margin-top: 15px;">
                            <i class="fas fa-redo"></i> Retry
                        </button>
                    </div>
                `;
            }
        }
    }

    function renderPlans(plans, userBalance = null, userMaturedBalance = null) {
        const plansContainer = document.getElementById('plans-container');
        if (!plansContainer) {
            console.error('Plans container element not found');
            return;
        }
        
        plansContainer.innerHTML = '';
        
        const balanceDisplay = document.getElementById('balance-display');
        if (balanceDisplay) {
            if (userBalance !== null) {
                balanceDisplay.style.display = 'block';
                const currentBalanceElement = document.getElementById('current-balance');
                if (currentBalanceElement) {
                    currentBalanceElement.textContent = `Main: $${userBalance.toFixed(2)} | Matured: $${userMaturedBalance.toFixed(2)}`;
                }
            } else {
                balanceDisplay.style.display = 'none';
            }
        }
        
        if (!plans || plans.length === 0) {
            plansContainer.innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--secondary-text);">
                    <i class="fas fa-inbox" style="font-size: 3rem; margin-bottom: 20px;"></i>
                    <p>No cloud mining plans available at the moment.</p>
                    <p style="font-size: 0.9rem; margin-top: 10px;">Please check back later or contact support.</p>
                </div>
            `;
            return;
        }
        
        const sortedPlans = [...plans].sort((a, b) => a.minAmount - b.minAmount);
        
        const cloudMiningImages = [
            'https://www.dropbox.com/scl/fi/9b69f9sll2gj6ozzjb58d/WhatsApp-Image-2025-12-13-at-1.27.06-AM.jpeg?rlkey=ea4rqkom2ubwvwvki83yd3lgr&raw=1',
            'https://www.dropbox.com/scl/fi/nmapzrnkx9kcvk839tzte/WhatsApp-Image-2026-01-12-at-11.43.02-AM.jpeg?rlkey=3tde1g2bnuyjnh4v26frl58rz&raw=1',
            'https://www.dropbox.com/scl/fi/yvbb5aexy5ssxqlowadkl/WhatsApp-Image-l2026-01-12-at-11.43.03-AM.jpeg?rlkey=b4mks0p68perwqum12cg8841m&raw=1',
            'https://www.dropbox.com/scl/fi/ya1o0lgg1l0tuzss619rg/WhatsApp-Imageg-2026-01-12-at-11.43.02-AM.jpeg?rlkey=s0du0qllprsui00c1fnoaemvy&raw=1',
            'https://www.dropbox.com/scl/fi/v43ux1dnqj1usc6eocvsl/WhatsApp-Imagek-2026-01-12-at-11.43.02-AM.jpeg?rlkey=xqh93bl1onk3b2qiajezoxpje&raw=1',
            'https://www.dropbox.com/scl/fi/lz60ouvvbr565du5afcwx/WhatsApp-Image-20l26-01-12-at-11.43.03-AM.jpeg?rlkey=dgnhcskve2p0gq6npr2igjidf&raw=1'
        ];
        
        const miners = [
            { name: "Avalon Mini 3", description: "Entry-level miner for basic cloud mining operations" },
            { name: "Fluminer T3", description: "Efficient mid-range miner with optimized power consumption" },
            { name: "Avalon Q", description: "Advanced miner with improved hash rate efficiency" },
            { name: "Antminer S21 Pro", description: "Professional-grade miner for high-performance cloud mining" },
            { name: "Antminer S21 XP", description: "Premium miner with enhanced cooling and hash rate" },
            { name: "Antminer S23 Hyd", description: "Flagship liquid-cooled miner for maximum efficiency and performance" }
        ];
        
        const cloudMiningDescriptions = [
            "Basic cloud mining with entry-level Avalon Mini 3 miners. Perfect for beginners starting their Bitcoin mining journey.",
            "Standard cloud mining powered by Fluminer T3 miners. Balanced performance for consistent returns.",
            "Advanced cloud mining utilizing Avalon Q miners. Higher efficiency for better mining output.",
            "Professional cloud mining with Antminer S21 Pro. Optimized for maximum uptime and reliability.",
            "Premium cloud mining using Antminer S21 XP. Enhanced cooling for sustained high performance.",
            "Enterprise cloud mining powered by flagship Antminer S23 Hyd liquid-cooled miners. Maximum efficiency and hash rate."
        ];
        
        sortedPlans.forEach((plan, index) => {
            const animationDelay = (index + 1) * 100;
            const miningImage = cloudMiningImages[index % cloudMiningImages.length];
            const miner = miners[Math.min(index, miners.length - 1)];
            const cloudDescription = cloudMiningDescriptions[Math.min(index, cloudMiningDescriptions.length - 1)];
            
            const planCard = document.createElement('div');
            planCard.className = 'plan-card';
            planCard.setAttribute('data-aos', 'fade-up');
            planCard.setAttribute('data-aos-delay', animationDelay);
            
            const isLoggedIn = localStorage.getItem('jwtToken') !== null;
            const hasSufficientMainBalance = userBalance !== null && userBalance >= 200;
            const hasSufficientMaturedBalance = userMaturedBalance !== null && userMaturedBalance >= 200;
            const canInvest = hasSufficientMainBalance || hasSufficientMaturedBalance;
            
            let buttonText, buttonIcon, buttonTitle;
            if (!isLoggedIn) {
                buttonText = 'Login to Invest';
                buttonIcon = 'fa-lock';
                buttonTitle = 'Please login to invest in cloud mining';
            } else if (!canInvest) {
                buttonText = 'Insufficient Balance';
                buttonIcon = 'fa-exclamation-circle';
                buttonTitle = `Minimum $200 required in main or matured balance for cloud mining`;
            } else {
                buttonText = 'Start Cloud Mining';
                buttonIcon = 'fa-cloud';
                buttonTitle = `Click to invest in ${plan.name} cloud mining`;
            }
            
            planCard.innerHTML = `
                <div class="plan-header">
                    <div class="plan-icon">
                        <i class="fas fa-cloud"></i>
                    </div>
                    <div>
                        <h3 class="plan-name">${plan.name}</h3>
                        <div class="cloud-mining-badge">
                            <i class="fas fa-cloud"></i>
                            <span>CLOUD MINING</span>
                        </div>
                    </div>
                </div>
                
                <div class="plan-mining-image">
                    <img src="${miningImage}" alt="${plan.name} Cloud Mining" 
                         onerror="this.src='https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1'">
                    <div class="mining-image-overlay">
                        <i class="fas fa-server"></i> Live Mining Operations
                    </div>
                </div>
                
                <div class="cloud-mining-description">
                    <strong>Cloud Mining Investment:</strong> ${cloudDescription}
                </div>
                
                <div class="miner-specs">
                    <div class="miner-name">
                        <i class="fas fa-microchip"></i> ${miner.name}
                    </div>
                    <div class="miner-description">
                        ${miner.description}
                    </div>
                </div>
                
                <div class="plan-features">
                    <div class="plan-feature">
                        <i class="fas fa-chart-line"></i>
                        <span><strong>${plan.percentage}% mining return</strong> after ${plan.duration} hours</span>
                    </div>
                    <div class="plan-feature">
                        <i class="fas fa-dollar-sign"></i>
                        <span>Minimum investment: <strong>$${plan.minAmount}</strong></span>
                    </div>
                    <div class="plan-feature">
                        <i class="fas fa-shield-alt"></i>
                        <span>Principal protection guarantee</span>
                    </div>
                    <div class="plan-feature">
                        <i class="fas fa-users"></i>
                        <span>Referral bonus: ${plan.referralBonus}%</span>
                    </div>
                    <div class="plan-feature">
                        <i class="fas fa-percentage"></i>
                        <span>3% company fee upon maturity</span>
                    </div>
                </div>
                
                <div class="plan-limits">
                    <div class="plan-min">
                        <span>Minimum Investment</span>
                        <span>$${plan.minAmount}</span>
                    </div>
                    <div class="plan-max">
                        <span>Maximum Investment</span>
                        <span>$${plan.maxAmount}</span>
                    </div>
                </div>
                
                <button class="btn plan-button" 
                    onclick="handlePlanSelection('${plan.id}', ${plan.minAmount}, ${plan.maxAmount}, ${plan.percentage}, ${plan.duration}, '${plan.name.replace(/'/g, "\\'")}')" 
                    ${!isLoggedIn || !canInvest ? 'disabled' : ''}
                    title="${buttonTitle}">
                    <i class="fas ${buttonIcon}"></i>
                    ${buttonText}
                </button>
            `;
            
            plansContainer.appendChild(planCard);
        });
        
        AOS.refresh();
    }

    async function handlePlanSelection(planId, minAmount, maxAmount, percentage, duration, planName) {
        const token = localStorage.getItem('jwtToken');
        
        if (!token) {
            showNotification('error', 'Authentication Required', 'Please login or create an account to invest in cloud mining.');
            setTimeout(() => {
                window.location.href = 'signup.html';
            }, 2000);
            return;
        }
        
        await openInvestmentModal(planId, minAmount, maxAmount, percentage, duration, planName);
    }

    async function openInvestmentModal(planId, minAmount, maxAmount, percentage, duration, planName) {
        const modal = document.getElementById('investment-modal');
        if (!modal) {
            console.error('Cloud mining modal not found');
            return;
        }
        
        document.getElementById('modal-plan-name').textContent = `${planName} - Cloud Mining`;
        document.getElementById('modal-plan-return').textContent = `${percentage}%`;
        document.getElementById('modal-plan-duration').textContent = `${duration} hours`;
        document.getElementById('modal-plan-min').textContent = `$${minAmount}`;
        document.getElementById('modal-plan-max').textContent = `$${maxAmount}`;
        
        modal.dataset.planId = planId;
        modal.dataset.minAmount = minAmount;
        modal.dataset.maxAmount = maxAmount;
        modal.dataset.percentage = percentage;
        
        document.getElementById('investment-amount').value = minAmount;
        document.getElementById('amount-error').textContent = '';
        document.getElementById('expected-return').textContent = '$0.00';
        document.getElementById('investment-status').textContent = '';
        
        await updateModalBalances();
        
        const balanceOptions = document.querySelectorAll('.balance-option');
        balanceOptions.forEach(option => {
            option.classList.remove('selected', 'disabled');
        });
        
        const firstAvailableOption = document.querySelector('.balance-option:not(.disabled)');
        if (firstAvailableOption) {
            firstAvailableOption.classList.add('selected');
            modal.dataset.balanceSource = firstAvailableOption.dataset.balance;
        } else {
            showNotification('warning', 'Insufficient Funds', 
                `You need at least $200 in either main or matured balance to invest in cloud mining.`);
        }
        
        calculateExpectedReturn(minAmount, percentage);
        
        if (!investmentModalInitialized) {
            setupModalEventListeners();
            investmentModalInitialized = true;
        }
        
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    async function updateModalBalances() {
        try {
            const token = localStorage.getItem('jwtToken');
            if (!token) {
                console.log('No authentication token found');
                return;
            }
            
            console.log('Fetching balances for modal display...');
            
            const response = await fetch('https://bithashcapital.onrender.com/api/users/balances', {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
            
            if (!response.ok) {
                throw new Error(`Balance fetch failed: ${response.status}`);
            }
            
            const balanceData = await response.json();
            console.log('Modal balance data:', balanceData);
            
            const mainBalance = balanceData.data?.balances?.main || 0;
            const maturedBalance = balanceData.data?.balances?.matured || 0;
            
            const mainBalanceElement = document.getElementById('modal-main-balance-amount');
            const maturedBalanceElement = document.getElementById('modal-matured-balance-amount');
            
            if (mainBalanceElement) {
                mainBalanceElement.textContent = `$${mainBalance.toFixed(2)}`;
            }
            if (maturedBalanceElement) {
                maturedBalanceElement.textContent = `$${maturedBalance.toFixed(2)}`;
            }
            
            const balanceOptions = document.querySelectorAll('.balance-option');
            const minAmount = parseFloat(document.getElementById('modal-plan-min').textContent.replace('$', '')) || 0;
            
            balanceOptions.forEach(option => {
                const balanceType = option.dataset.balance;
                const balanceAmount = balanceType === 'main' ? mainBalance : maturedBalance;
                
                if (balanceAmount < minAmount) {
                    option.classList.add('disabled');
                } else {
                    option.classList.remove('disabled');
                }
            });
            
        } catch (error) {
            console.error('Error updating modal balances:', error);
            
            const mainBalanceElement = document.getElementById('modal-main-balance-amount');
            const maturedBalanceElement = document.getElementById('modal-matured-balance-amount');
            
            if (mainBalanceElement) mainBalanceElement.textContent = '$0.00';
            if (maturedBalanceElement) maturedBalanceElement.textContent = '$0.00';
            
            const balanceOptions = document.querySelectorAll('.balance-option');
            balanceOptions.forEach(option => {
                option.classList.add('disabled');
            });
            
            showNotification('error', 'Balance Error', 'Failed to load balance information. Please try again.');
        }
    }

    function setupModalEventListeners() {
        const modal = document.getElementById('investment-modal');
        const amountInput = document.getElementById('investment-amount');
        const balanceOptions = document.querySelectorAll('.balance-option');
        const confirmBtn = document.getElementById('confirm-investment');
        
        const newAmountInput = amountInput.cloneNode(true);
        amountInput.parentNode.replaceChild(newAmountInput, amountInput);
        
        newAmountInput.addEventListener('input', function() {
            const minAmount = parseFloat(modal.dataset.minAmount) || 0;
            const maxAmount = parseFloat(modal.dataset.maxAmount) || 0;
            const percentage = parseFloat(modal.dataset.percentage) || 0;
            const amount = parseFloat(this.value) || 0;
            validateInvestmentAmount(amount, minAmount, maxAmount);
            calculateExpectedReturn(amount, percentage);
        });
        
        balanceOptions.forEach(option => {
            const newOption = option.cloneNode(true);
            option.parentNode.replaceChild(newOption, option);
            
            newOption.addEventListener('click', function() {
                if (this.classList.contains('disabled')) return;
                
                document.querySelectorAll('.balance-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                modal.dataset.balanceSource = this.dataset.balance;
                
                const minAmount = parseFloat(modal.dataset.minAmount) || 0;
                const maxAmount = parseFloat(modal.dataset.maxAmount) || 0;
                const amount = parseFloat(newAmountInput.value) || 0;
                validateInvestmentAmount(amount, minAmount, maxAmount);
            });
        });
        
        let isProcessing = false;
        
        const newConfirmBtn = confirmBtn.cloneNode(true);
        confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
        
        newConfirmBtn.addEventListener('click', async function() {
            if (isProcessing) {
                console.log('Cloud mining investment already in progress, please wait...');
                return;
            }
            
            isProcessing = true;
            newConfirmBtn.disabled = true;
            
            try {
                const amount = parseFloat(newAmountInput.value);
                const selectedBalanceSource = modal.dataset.balanceSource;
                const minAmount = parseFloat(modal.dataset.minAmount) || 0;
                const maxAmount = parseFloat(modal.dataset.maxAmount) || 0;
                const planId = modal.dataset.planId;
                
                if (await validateInvestmentAmount(amount, minAmount, maxAmount)) {
                    await createInvestment(planId, amount, selectedBalanceSource);
                }
            } catch (error) {
                console.error('Cloud mining investment error:', error);
                showNotification('error', 'Investment Error', 'An unexpected error occurred. Please try again.');
            } finally {
                setTimeout(() => {
                    isProcessing = false;
                    newConfirmBtn.disabled = false;
                }, 2000);
            }
        });
    }

    function closeInvestmentModal() {
        const modal = document.getElementById('investment-modal');
        modal.classList.remove('active');
        document.body.style.overflow = '';
        
        delete modal.dataset.planId;
        delete modal.dataset.minAmount;
        delete modal.dataset.maxAmount;
        delete modal.dataset.percentage;
        delete modal.dataset.balanceSource;
    }

    async function validateInvestmentAmount(amount, minAmount, maxAmount) {
        const errorElement = document.getElementById('amount-error');
        const modal = document.getElementById('investment-modal');
        const selectedBalanceSource = modal.dataset.balanceSource;
        
        errorElement.textContent = '';
        
        if (isNaN(amount) || amount <= 0) {
            errorElement.textContent = 'Please enter a valid investment amount';
            return false;
        }
        
        if (amount < 200) {
            errorElement.textContent = `Minimum cloud mining investment is $200`;
            return false;
        }
        
        if (amount > maxAmount) {
            errorElement.textContent = `Maximum cloud mining investment is $${maxAmount}`;
            return false;
        }
        
        if (selectedBalanceSource) {
            try {
                const token = localStorage.getItem('jwtToken');
                if (!token) {
                    errorElement.textContent = 'Authentication required';
                    return false;
                }
                
                const response = await fetch('https://bithashcapital.onrender.com/api/users/balances', {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const balanceData = await response.json();
                    const selectedBalance = balanceData.data?.balances?.[selectedBalanceSource] || 0;
                    
                    if (selectedBalance < amount) {
                        errorElement.textContent = 
                            `Insufficient ${selectedBalanceSource} balance. Available: $${selectedBalance.toFixed(2)}`;
                        return false;
                    }
                } else {
                    throw new Error('Failed to verify balance');
                }
            } catch (error) {
                console.error('Balance validation error:', error);
                errorElement.textContent = 'Unable to verify balance. Please try again.';
                return false;
            }
        } else {
            errorElement.textContent = 'Please select a balance source';
            return false;
        }
        
        return true;
    }

    function calculateExpectedReturn(amount, percentage) {
        const returnElement = document.getElementById('expected-return');
        
        if (isNaN(amount) || amount <= 0) {
            returnElement.textContent = '$0.00';
            return;
        }
        
        const miningFee = amount * 0.03;
        const netInvestment = amount - miningFee;
        const totalReturn = netInvestment + (netInvestment * percentage / 100);
        
        returnElement.textContent = `$${totalReturn.toFixed(2)}`;
    }

    async function createInvestment(planId, amount, balanceSource) {
        const token = localStorage.getItem('jwtToken');
        if (!token) return;
        
        const statusElement = document.getElementById('investment-status');
        
        try {
            statusElement.textContent = 'Processing your cloud mining investment...';
            statusElement.style.color = 'var(--primary-blue)';
            
            console.log('Creating cloud mining investment:', { planId, amount, balanceSource });
            
            const response = await fetch('https://bithashcapital.onrender.com/api/investments', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({
                    planId: planId,
                    amount: parseFloat(amount),
                    balanceType: balanceSource
                })
            });
            
            let responseData;
            try {
                responseData = await response.json();
            } catch (parseError) {
                console.error('Response parse error:', parseError);
                responseData = { status: 'success' };
            }
            
            if (response.ok) {
                statusElement.textContent = 'Cloud mining investment started successfully!';
                statusElement.style.color = 'var(--positive)';
                
                showNotification('success', 'Cloud Mining Started', 
                    `Your cloud mining investment of $${amount} has been created successfully. ` +
                    `Returns will be generated from actual mining operations and available after the plan duration.`);
                
                setTimeout(() => {
                    closeInvestmentModal();
                    loadPlansData();
                    checkAndCompleteInvestments();
                    loadLoanBalances();
                    setTimeout(() => {
                        checkLoanEligibilityAuto();
                    }, 1000);
                }, 1500);
                
            } else {
                throw new Error(responseData.message || `Cloud mining investment failed: ${response.status}`);
            }
            
        } catch (error) {
            console.error('Cloud mining investment creation error:', error);
            statusElement.textContent = error.message || 'Failed to create cloud mining investment';
            statusElement.style.color = 'var(--negative)';
            
            showNotification('error', 'Investment Failed', 
                error.message || 'There was an issue creating your cloud mining investment. Please try again.');
        }
    }

    async function checkAndCompleteInvestments() {
        const token = localStorage.getItem('jwtToken');
        if (!token) return;
        
        try {
            const response = await fetch('https://bithashcapital.onrender.com/api/investments/active', {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
            
            if (response.ok) {
                const data = await response.json();
                const investments = data.data?.investments || [];
                const now = new Date();
                
                for (const investment of investments) {
                    if (investment.status === 'active') {
                        const endDate = new Date(investment.endDate);
                        
                        if (endDate <= now) {
                            await completeInvestment(investment.id);
                        }
                    }
                }
            }
        } catch (error) {
            console.error('Error checking cloud mining investments:', error);
        }
    }

    async function completeInvestment(investmentId) {
        const token = localStorage.getItem('jwtToken');
        if (!token) return;
        
        try {
            const response = await fetch(`https://bithashcapital.onrender.com/api/investments/${investmentId}/complete`, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
            
            if (response.ok) {
                const data = await response.json();
                console.log('Cloud mining investment completed:', data);
                
                fetchAndUpdateBalances();
                loadPlansData();
                loadLoanBalances();
                setTimeout(() => {
                    checkLoanEligibilityAuto();
                }, 1000);
                
                showNotification('success', 'Cloud Mining Completed', 
                    'Your cloud mining investment has matured! Mining returns have been transferred to your matured balance.');
            }
        } catch (error) {
            console.error('Error completing cloud mining investment:', error);
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        const modalCloseBtn = document.getElementById('modal-close');
        const investmentModal = document.getElementById('investment-modal');
        
        if (modalCloseBtn) {
            modalCloseBtn.addEventListener('click', closeInvestmentModal);
        }
        
        if (investmentModal) {
            investmentModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeInvestmentModal();
                }
            });
        }
    });

    async function fetchAndUpdateBalances() {
        try {
            const token = localStorage.getItem('jwtToken');
            const userBalanceContainer = document.getElementById('user-balance-container');
            
            if (!token) {
                if (userBalanceContainer) userBalanceContainer.style.display = 'none';
                return;
            }
            
            const response = await fetch('https://bithashcapital.onrender.com/api/users/balances', {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
            
            if (response.ok) {
                const data = await response.json();
                const mainBalance = data.data?.balances?.main || 0;
                const maturedBalance = data.data?.balances?.matured || 0;
                
                const mainBalanceElement = document.getElementById('main-balance-amount');
                const maturedBalanceElement = document.getElementById('matured-balance-amount');
                
                if (mainBalanceElement) mainBalanceElement.textContent = `Main: $${mainBalance.toFixed(2)}`;
                if (maturedBalanceElement) maturedBalanceElement.textContent = `Matured: $${maturedBalance.toFixed(2)}`;
                if (userBalanceContainer) userBalanceContainer.style.display = 'block';
                
                if (maturedBalance > 0) {
                    startMaturedBalanceAnimation();
                }
            } else {
                throw new Error('Failed to fetch balances');
            }
        } catch (error) {
            console.error('Error fetching balances:', error);
            const mainBalanceElement = document.getElementById('main-balance-amount');
            const maturedBalanceElement = document.getElementById('matured-balance-amount');
            
            if (mainBalanceElement) mainBalanceElement.textContent = 'Main: $0.00';
            if (maturedBalanceElement) maturedBalanceElement.textContent = 'Matured: $0.00';
        }
    }

    function startMaturedBalanceAnimation() {
        const maturedBalanceElement = document.getElementById('matured-balance');
        if (maturedBalanceElement) {
            maturedBalanceElement.classList.add('matured-balance-animation');
            
            setTimeout(() => {
                maturedBalanceElement.classList.remove('matured-balance-animation');
            }, 90000);
        }
    }

    function redirectToDashboard() {
        window.location.href = 'dashboard.html';
    }

    function startBalanceUpdates() {
        fetchAndUpdateBalances();
        
        setInterval(fetchAndUpdateBalances, 30000);
        setInterval(checkAndCompleteInvestments, 60000);
        setInterval(loadLoanBalances, 30000);
    }

    document.addEventListener('DOMContentLoaded', function() {
        startBalanceUpdates();
        loadPlansData();
        checkAndCompleteInvestments();
        
        initializeLoanPopup();
        initializeLoanApplicationModal();
        
        setTimeout(() => {
            loadLoanBalances();
        }, 2000);
    });

    /* LOAN BALANCES FUNCTIONALITY */
    async function loadLoanBalances() {
        try {
            const token = localStorage.getItem('jwtToken');
            if (!token) {
                document.getElementById('loan-balances-container').style.display = 'none';
                return;
            }
            
            document.getElementById('loan-balances-container').style.display = 'grid';
            
            const response = await fetch('https://bithashcapital.onrender.com/api/loans/balances', {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
            
            if (response.ok) {
                const loanData = await response.json();
                console.log('Loan balances data:', loanData);
                
                const loanLimit = loanData.loanLimit || 0;
                const debtBalance = loanData.debtBalance || 0;
                const availableCredit = loanLimit - debtBalance;
                
                const formatCurrency = (amount) => `$${parseFloat(amount).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}`;
                
                document.getElementById('loan-limit-amount').textContent = formatCurrency(loanLimit);
                document.getElementById('debt-balance-amount').textContent = formatCurrency(debtBalance);
                document.getElementById('available-credit-amount').textContent = formatCurrency(Math.max(0, availableCredit));
                
                AppState.loanData = loanData;
                
            } else if (response.status === 401) {
                document.getElementById('loan-balances-container').style.display = 'none';
            } else {
                throw new Error('Failed to load loan balances');
            }
        } catch (error) {
            console.error('Error loading loan balances:', error);
            document.getElementById('loan-limit-amount').textContent = '$0.00';
            document.getElementById('debt-balance-amount').textContent = '$0.00';
            document.getElementById('available-credit-amount').textContent = '$0.00';
        }
    }

    /* AUTOMATIC LOAN ELIGIBILITY CHECK */
    async function checkLoanEligibilityAuto() {
        const token = localStorage.getItem('jwtToken');
        
        if (!token) {
            document.getElementById('eligibility-message-container').innerHTML = `
                <div class="loan-eligibility-message">
                    <i class="fas fa-info-circle" style="color: var(--primary-blue); margin-right: 8px;"></i>
                    Please <a href="login.html" style="color: var(--primary-blue); text-decoration: underline;">login</a> to check your loan eligibility.
                </div>
            `;
            document.getElementById('loan-limit-display').style.display = 'none';
            document.getElementById('not-eligible-button').style.display = 'block';
            return;
        }
        
        try {
            document.getElementById('eligibility-message-container').innerHTML = `
                <div class="loan-status-loading">
                    <div class="loading-spinner"></div>
                    <div>Checking loan eligibility...</div>
                </div>
            `;
            document.getElementById('loan-limit-display').style.display = 'none';
            document.getElementById('not-eligible-button').style.display = 'none';
            
            const eligibilityResponse = await fetch('https://bithashcapital.onrender.com/api/loans/check-eligibility', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({
                    requestedAmount: 1000
                })
            });
            
            if (eligibilityResponse.ok) {
                const eligibilityData = await eligibilityResponse.json();
                
                if (eligibilityData.eligible) {
                    const maxLoanAmount = eligibilityData.maxLoanAmount || 0;
                    
                    document.getElementById('eligibility-message-container').innerHTML = `
                        <div class="loan-eligibility-message" style="color: var(--positive);">
                            <i class="fas fa-check-circle" style="margin-right: 8px;"></i>
                            Congratulations! You qualify for a BitHash loan.
                        </div>
                    `;
                    
                    document.getElementById('loan-limit-value').textContent = `$${maxLoanAmount.toFixed(2)}`;
                    document.getElementById('loan-limit-display').style.display = 'block';
                    document.getElementById('not-eligible-button').style.display = 'none';
                    
                    AppState.loanEligibility = eligibilityData;
                    
                } else {
                    document.getElementById('eligibility-message-container').innerHTML = `
                        <div class="loan-eligibility-message" style="color: var(--negative);">
                            <i class="fas fa-times-circle" style="margin-right: 8px;"></i>
                            Currently not eligible for a loan. Please check your account requirements.
                        </div>
                    `;
                    document.getElementById('loan-limit-display').style.display = 'none';
                    document.getElementById('not-eligible-button').style.display = 'block';
                }
            } else {
                throw new Error('Failed to check eligibility');
            }
        } catch (error) {
            console.error('Error checking loan eligibility:', error);
            
            document.getElementById('eligibility-message-container').innerHTML = `
                <div class="loan-eligibility-message" style="color: var(--negative);">
                    <i class="fas fa-exclamation-triangle" style="margin-right: 8px;"></i>
                    Unable to check eligibility at this time. Please try again later.
                </div>
            `;
            document.getElementById('loan-limit-display').style.display = 'none';
            document.getElementById('not-eligible-button').style.display = 'block';
        }
    }

    function initializeLoanPopup() {
        const loanPopup = document.getElementById('loan-popup');
        const loanPopupClose = document.getElementById('loan-popup-close');
        const loanPopupCancel = document.getElementById('loan-popup-cancel');
        const loanPopupApply = document.getElementById('loan-popup-apply');
        
        if (!loanPopup || !loanPopupClose || !loanPopupCancel || !loanPopupApply) {
            console.error('Loan popup elements not found');
            return;
        }
        
        loanPopupClose.addEventListener('click', function() {
            loanPopup.classList.remove('active');
        });
        
        loanPopupCancel.addEventListener('click', function() {
            loanPopup.classList.remove('active');
        });
        
        loanPopupApply.addEventListener('click', async function() {
            loanPopup.classList.remove('active');
            await openLoanApplicationModal();
        });
        
        document.addEventListener('click', function(event) {
            if (!loanPopup.contains(event.target) && !event.target.closest('.btn-primary')) {
                loanPopup.classList.remove('active');
            }
        });
    }

    function initializeLoanApplicationModal() {
        const loanApplicationModal = document.getElementById('loan-application-modal');
        const loanApplicationClose = document.getElementById('loan-application-close');
        const submitLoanApplication = document.getElementById('submit-loan-application');
        
        if (!loanApplicationModal || !loanApplicationClose || !submitLoanApplication) {
            console.error('Loan application modal elements not found');
            return;
        }
        
        loanApplicationClose.addEventListener('click', function() {
            closeLoanApplicationModal();
        });
        
        loanApplicationModal.addEventListener('click', function(event) {
            if (event.target === loanApplicationModal) {
                closeLoanApplicationModal();
            }
        });
        
        submitLoanApplication.addEventListener('click', async function() {
            await submitLoanApplicationHandler();
        });
    }

    function closeLoanApplicationModal() {
        const loanApplicationModal = document.getElementById('loan-application-modal');
        if (loanApplicationModal) {
            loanApplicationModal.classList.remove('active');
            document.body.style.overflow = '';
            
            delete loanApplicationModal.dataset.eligibilityData;
            
            const loanRequestAmount = document.getElementById('loan-request-amount');
            if (loanRequestAmount) {
                loanRequestAmount.readOnly = false;
                loanRequestAmount.title = '';
            }
        }
    }

    async function submitLoanApplicationHandler() {
        const token = localStorage.getItem('jwtToken');
        const loanRequestAmount = document.getElementById('loan-request-amount');
        const loanPurpose = document.getElementById('loan-purpose');
        const loanTermSelection = document.getElementById('loan-term-selection');
        const submitButton = document.getElementById('submit-loan-application');
        const statusElement = document.getElementById('loan-application-status');
        const loanApplicationModal = document.getElementById('loan-application-modal');
        
        if (!token) {
            showNotification('error', 'Authentication Required', 'Please login to submit a loan application.');
            return;
        }
        
        const amount = parseFloat(loanRequestAmount.value) || 0;
        const purpose = loanPurpose.value;
        const term = parseInt(loanTermSelection.value) || 12;
        
        if (amount < 1000) {
            showNotification('error', 'Invalid Amount', 'Minimum loan amount is $1,000.');
            return;
        }
        
        const eligibilityData = AppState.loanEligibility;
        
        if (!eligibilityData || !eligibilityData.eligible) {
            showNotification('error', 'Not Eligible', 'You are not eligible for a loan. Please check your eligibility first.');
            return;
        }
        
        const maxLoanAmount = eligibilityData.maxLoanAmount || 0;
        if (amount > maxLoanAmount) {
            showNotification('error', 'Amount Exceeds Limit', `Maximum loan amount is $${maxLoanAmount.toFixed(2)}`);
            return;
        }
        
        try {
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            if (statusElement) statusElement.textContent = 'Submitting your loan application...';
            
            const response = await fetch('https://bithashcapital.onrender.com/api/loans/apply', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({
                    amount: amount,
                    purpose: purpose,
                    term: term,
                    interestRate: eligibilityData.monthlyInterest || 9.99,
                    disbursementFee: eligibilityData.disbursementFee || 0.99,
                    maxAmount: maxLoanAmount,
                    eligibilityData: eligibilityData
                })
            });
            
            let responseData;
            try {
                responseData = await response.json();
            } catch (parseError) {
                console.error('Response parse error:', parseError);
                responseData = { status: 'success' };
            }
            
            if (response.ok) {
                if (statusElement) {
                    statusElement.textContent = 'Loan application submitted successfully!';
                    statusElement.style.color = 'var(--positive)';
                }
                
                showNotification('success', 'Application Submitted', 
                    `Your loan application for $${amount} has been submitted successfully. ` +
                    `You will receive a decision within 24 hours.`);
                
                setTimeout(() => {
                    closeLoanApplicationModal();
                    submitButton.disabled = false;
                    submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Loan Application';
                    if (statusElement) statusElement.textContent = '';
                    
                    loadLoanBalances();
                }, 2000);
                
            } else {
                throw new Error(responseData.message || 'Failed to submit loan application');
            }
        } catch (error) {
            console.error('Error submitting loan application:', error);
            
            submitButton.disabled = false;
            submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Loan Application';
            
            if (statusElement) {
                statusElement.textContent = error.message || 'Failed to submit application';
                statusElement.style.color = 'var(--negative)';
            }
            
            showNotification('error', 'Application Failed', 
                error.message || 'There was an issue submitting your loan application. Please try again.');
        }
    }

    function formatCurrency(amount) {
        return '$' + parseFloat(amount).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
    
    async function apiCall(url, options = {}) {
        const token = localStorage.getItem('jwtToken');
        const headers = {
            'Content-Type': 'application/json',
            ...options.headers
        };
        
        if (token) {
            headers['Authorization'] = `Bearer ${token}`;
        }
        
        try {
            const response = await fetch(url, {
                ...options,
                headers
            });
            
            if (!response.ok) {
                throw new Error(`API call failed: ${response.status}`);
            }
            
            return await response.json();
        } catch (error) {
            console.error('API call error:', error);
            throw error;
        }
    }
</script>
</body>
</html>
