<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>BitHash Admin | Enterprise Control Center</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rowdies:wght@300;400;700&family=Inter:wght@300;400;500;600;700&family=Manrope:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" type="image/png">
    
    <style>
        /* ========== CORE SYSTEM VARIABLES ========== */
        :root {
            /* Color System */
            --color-primary-50: #e6fff5;
            --color-primary-100: #b3ffdf;
            --color-primary-200: #80ffc9;
            --color-primary-300: #4dffb3;
            --color-primary-400: #1aff9d;
            --color-primary-500: #00e684;
            --color-primary-600: #00b369;
            --color-primary-700: #00804d;
            --color-primary-800: #004d2e;
            --color-primary-900: #001a0f;
            
            --color-secondary-50: #f3e6ff;
            --color-secondary-100: #d9b3ff;
            --color-secondary-200: #bf80ff;
            --color-secondary-300: #a64dff;
            --color-secondary-400: #8c1aff;
            --color-secondary-500: #7300e6;
            --color-secondary-600: #5900b3;
            --color-secondary-700: #400080;
            --color-secondary-800: #26004d;
            --color-secondary-900: #0d001a;
            
            --color-danger-50: #ffe6eb;
            --color-danger-100: #ffb3c2;
            --color-danger-200: #ff8099;
            --color-danger-300: #ff4d70;
            --color-danger-400: #ff1a47;
            --color-danger-500: #e60038;
            --color-danger-600: #b3002c;
            --color-danger-700: #800020;
            --color-danger-800: #4d0014;
            --color-danger-900: #1a0007;
            
            --color-warning-50: #fff9e6;
            --color-warning-100: #ffedb3;
            --color-warning-200: #ffe080;
            --color-warning-300: #ffd44d;
            --color-warning-400: #ffc71a;
            --color-warning-500: #e6b300;
            --color-warning-600: #b38c00;
            --color-warning-700: #806500;
            --color-warning-800: #4d3d00;
            --color-warning-900: #1a1400;
            
            --color-success-50: #e6fff1;
            --color-success-100: #b3ffd6;
            --color-success-200: #80ffbb;
            --color-success-300: #4dffa0;
            --color-success-400: #1aff85;
            --color-success-500: #00e66b;
            --color-success-600: #00b353;
            --color-success-700: #00803b;
            --color-success-800: #004d23;
            --color-success-900: #001a0c;
            
            --color-gray-50: #f9fafb;
            --color-gray-100: #f3f4f6;
            --color-gray-200: #e5e7eb;
            --color-gray-300: #d1d5db;
            --color-gray-400: #9ca3af;
            --color-gray-500: #6b7280;
            --color-gray-600: #4b5563;
            --color-gray-700: #374151;
            --color-gray-800: #1f2937;
            --color-gray-900: #111827;
            --color-gray-950: #030712;
            
            /* Semantic Colors */
            --color-primary: var(--color-primary-500);
            --color-primary-light: var(--color-primary-400);
            --color-primary-dark: var(--color-primary-600);
            --color-secondary: var(--color-secondary-500);
            --color-danger: var(--color-danger-500);
            --color-warning: var(--color-warning-500);
            --color-success: var(--color-success-500);
            --color-text: var(--color-gray-100);
            --color-text-muted: var(--color-gray-400);
            --color-bg: var(--color-gray-950);
            --color-bg-elevated: var(--color-gray-900);
            --color-bg-surface: var(--color-gray-800);
            --color-border: var(--color-gray-700);
            
            /* Spacing System */
            --space-0: 0;
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            --space-24: 6rem;
            --space-32: 8rem;
            --space-40: 10rem;
            --space-48: 12rem;
            --space-56: 14rem;
            --space-64: 16rem;
            
            /* Typography */
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            --font-heading: 'Manrope', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            --font-brand: 'Rowdies', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;
            --text-6xl: 3.75rem;
            --text-7xl: 4.5rem;
            --text-8xl: 6rem;
            --text-9xl: 8rem;
            --font-light: 300;
            --font-normal: 400;
            --font-medium: 500;
            --font-semibold: 600;
            --font-bold: 700;
            --font-extrabold: 800;
            --font-black: 900;
            --leading-none: 1;
            --leading-tight: 1.25;
            --leading-snug: 1.375;
            --leading-normal: 1.5;
            --leading-relaxed: 1.625;
            --leading-loose: 2;
            
            /* Shadows */
            --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
            --shadow-primary: 0 0 0 3px rgba(0, 230, 132, 0.3);
            --shadow-danger: 0 0 0 3px rgba(230, 0, 56, 0.3);
            
            /* Borders */
            --border-radius-none: 0;
            --border-radius-sm: 0.125rem;
            --border-radius-md: 0.25rem;
            --border-radius-lg: 0.5rem;
            --border-radius-xl: 0.75rem;
            --border-radius-2xl: 1rem;
            --border-radius-3xl: 1.5rem;
            --border-radius-full: 9999px;
            --border-width-1: 1px;
            --border-width-2: 2px;
            --border-width-4: 4px;
            --border-width-8: 8px;
            
            /* Transitions */
            --transition-none: none;
            --transition-all: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-colors: color 0.15s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.15s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.15s cubic-bezier(0.4, 0, 0.2, 1), fill 0.15s cubic-bezier(0.4, 0, 0.2, 1), stroke 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-opacity: opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-shadow: box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-transform: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Z-Index */
            --z-index-0: 0;
            --z-index-10: 10;
            --z-index-20: 20;
            --z-index-30: 30;
            --z-index-40: 40;
            --z-index-50: 50;
            --z-index-auto: auto;
            
            /* Layout */
            --header-height: 4rem;
            --sidebar-width: 18rem;
            --sidebar-collapsed-width: 5rem;
            --content-padding: var(--space-6);
            --container-max-width: 90rem;
            
            /* Animations */
            --animation-spin: spin 1s linear infinite;
            --animation-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
            --animation-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            --animation-bounce: bounce 1s infinite;
        }

        /* ========== BASE STYLES ========== */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 16px;
            line-height: var(--leading-normal);
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-sans);
            font-weight: var(--font-normal);
            color: var(--color-text);
            background-color: var(--color-bg);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        /* ========== TYPOGRAPHY ========== */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            font-weight: var(--font-bold);
            line-height: var(--leading-tight);
            margin-bottom: var(--space-4);
            color: var(--color-text);
        }

        h1 { font-size: var(--text-4xl); }
        h2 { font-size: var(--text-3xl); }
        h3 { font-size: var(--text-2xl); }
        h4 { font-size: var(--text-xl); }
        h5 { font-size: var(--text-lg); }
        h6 { font-size: var(--text-base); }

        p {
            margin-bottom: var(--space-4);
            line-height: var(--leading-normal);
        }

        a {
            color: var(--color-primary);
            text-decoration: none;
            transition: var(--transition-colors);
        }

        a:hover {
            color: var(--color-primary-light);
            text-decoration: underline;
        }

        /* ========== LAYOUT COMPONENTS ========== */
        .admin-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background-color: rgba(3, 7, 18, 0.98);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            padding: 0 var(--space-6);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: var(--z-index-40);
            border-bottom: var(--border-width-1) solid var(--color-border);
            box-shadow: var(--shadow-sm);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .logo {
            height: 2.25rem;
            width: 2.25rem;
            object-fit: contain;
        }

        .logo-text {
            font-family: var(--font-brand);
            font-weight: var(--font-bold);
            font-size: var(--text-xl);
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 0.025em;
        }

        .admin-container {
            display: flex;
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
        }

        .admin-sidebar {
            position: fixed;
            left: 0;
            top: var(--header-height);
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background-color: var(--color-bg-elevated);
            border-right: var(--border-width-1) solid var(--color-border);
            padding: var(--space-4) 0;
            overflow-y: auto;
            z-index: var(--z-index-30);
            transition: var(--transition-all);
        }

        .admin-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: var(--content-padding);
            background-color: var(--color-bg);
            min-height: calc(100vh - var(--header-height));
            transition: var(--transition-all);
        }

        /* ========== SIDEBAR NAVIGATION ========== */
        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .menu-item {
            margin-bottom: var(--space-1);
        }

        .menu-link {
            display: flex;
            align-items: center;
            padding: var(--space-3) var(--space-6);
            color: var(--color-text-muted);
            text-decoration: none;
            transition: var(--transition-colors);
            font-family: var(--font-heading);
            font-weight: var(--font-semibold);
            font-size: var(--text-sm);
            position: relative;
        }

        .menu-link:hover {
            background-color: rgba(0, 230, 132, 0.05);
            color: var(--color-primary);
        }

        .menu-link.active {
            background-color: rgba(0, 230, 132, 0.1);
            color: var(--color-primary);
            border-left: var(--border-width-2) solid var(--color-primary);
        }

        .menu-link.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: var(--border-width-2);
            background-color: var(--color-primary);
        }

        .menu-icon {
            margin-right: var(--space-3);
            font-size: var(--text-lg);
            width: 1.5rem;
            text-align: center;
        }

        .menu-text {
            flex: 1;
        }

        .menu-badge {
            background-color: var(--color-danger);
            color: white;
            font-size: var(--text-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--border-radius-full);
            font-weight: var(--font-bold);
        }

        /* ========== STATS CARDS ========== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(16rem, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-8);
        }

        .stat-card {
            background-color: var(--color-bg-elevated);
            border-radius: var(--border-radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-md);
            transition: var(--transition-all);
            border: var(--border-width-1) solid var(--color-border);
        }

        .stat-card:hover {
            transform: translateY(-0.25rem);
            box-shadow: var(--shadow-lg);
            border-color: rgba(0, 230, 132, 0.3);
        }

        .stat-title {
            font-size: var(--text-sm);
            color: var(--color-text-muted);
            margin-bottom: var(--space-2);
            font-family: var(--font-heading);
            font-weight: var(--font-semibold);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .stat-value {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            margin-bottom: var(--space-2);
            font-family: var(--font-sans);
            background: linear-gradient(90deg, var(--color-primary), var(--color-gray-100));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: var(--leading-tight);
        }

        .stat-change {
            display: flex;
            align-items: center;
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            gap: var(--space-1);
        }

        .change-positive {
            color: var(--color-success);
        }

        .change-negative {
            color: var(--color-danger);
        }

        /* ========== DATA TABLES ========== */
        .data-table-container {
            background-color: var(--color-bg-elevated);
            border-radius: var(--border-radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-8);
            box-shadow: var(--shadow-md);
            border: var(--border-width-1) solid var(--color-border);
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            flex-wrap: wrap;
            gap: var(--space-4);
        }

        .table-title {
            font-family: var(--font-heading);
            font-weight: var(--font-bold);
            font-size: var(--text-xl);
            color: var(--color-text);
        }

        .table-actions {
            display: flex;
            gap: var(--space-3);
            flex-wrap: wrap;
        }

        /* ========== BUTTONS ========== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-2) var(--space-4);
            border-radius: var(--border-radius-md);
            border: var(--border-width-1) solid transparent;
            font-family: var(--font-heading);
            font-weight: var(--font-semibold);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: var(--transition-all);
            gap: var(--space-2);
            white-space: nowrap;
            line-height: var(--leading-snug);
        }

        .btn i {
            font-size: 1.1em;
        }

        .btn-sm {
            padding: var(--space-1.5) var(--space-3);
            font-size: var(--text-xs);
        }

        .btn-lg {
            padding: var(--space-3) var(--space-6);
            font-size: var(--text-base);
        }

        .btn-block {
            display: flex;
            width: 100%;
        }

        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-gray-950);
            font-weight: var(--font-bold);
            border-color: var(--color-primary);
        }

        .btn-primary:hover {
            background-color: var(--color-primary-light);
            border-color: var(--color-primary-light);
            transform: translateY(-0.0625rem);
        }

        .btn-primary:active {
            background-color: var(--color-primary-dark);
            border-color: var(--color-primary-dark);
            transform: translateY(0);
        }

        .btn-secondary {
            background-color: rgba(255, 255, 255, 0.08);
            color: var(--color-text);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-0.0625rem);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--color-text);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .btn-outline:hover {
            background-color: rgba(255, 255, 255, 0.05);
            border-color: var(--color-primary);
            color: var(--color-primary);
        }

        .btn-danger {
            background-color: var(--color-danger);
            color: white;
            font-weight: var(--font-bold);
            border-color: var(--color-danger);
        }

        .btn-danger:hover {
            background-color: var(--color-danger-400);
            border-color: var(--color-danger-400);
            transform: translateY(-0.0625rem);
        }

        .btn-success {
            background-color: var(--color-success);
            color: white;
            font-weight: var(--font-bold);
            border-color: var(--color-success);
        }

        .btn-success:hover {
            background-color: var(--color-success-400);
            border-color: var(--color-success-400);
            transform: translateY(-0.0625rem);
        }

        .btn-group {
            display: inline-flex;
            border-radius: var(--border-radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .btn-group .btn {
            border-radius: 0;
            margin-left: calc(var(--border-width-1) * -1);
            position: relative;
            z-index: 1;
        }

        .btn-group .btn:first-child {
            border-top-left-radius: var(--border-radius-md);
            border-bottom-left-radius: var(--border-radius-md);
            margin-left: 0;
        }

        .btn-group .btn:last-child {
            border-top-right-radius: var(--border-radius-md);
            border-bottom-right-radius: var(--border-radius-md);
        }

        .btn-group .btn:not(:first-child):not(:last-child) {
            border-radius: 0;
        }

        .btn-group .btn.active {
            z-index: 2;
        }

        /* ========== FORMS ========== */
        .form-group {
            margin-bottom: var(--space-6);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-2);
            font-weight: var(--font-semibold);
            font-size: var(--text-sm);
            color: var(--color-text);
        }

        .form-control {
            width: 100%;
            padding: var(--space-3) var(--space-4);
            background-color: rgba(255, 255, 255, 0.05);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            color: var(--color-text);
            font-family: var(--font-sans);
            font-size: var(--text-sm);
            transition: var(--transition-all);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: var(--shadow-primary);
            background-color: rgba(0, 230, 132, 0.03);
        }

        .form-text {
            font-size: var(--text-xs);
            color: var(--color-text-muted);
            margin-top: var(--space-1);
        }

        /* ========== UTILITY CLASSES ========== */
        .text-primary { color: var(--color-primary); }
        .text-secondary { color: var(--color-secondary); }
        .text-success { color: var(--color-success); }
        .text-danger { color: var(--color-danger); }
        .text-warning { color: var(--color-warning); }
        .text-info { color: var(--color-info); }
        .text-light { color: var(--color-text); }
        .text-muted { color: var(--color-text-muted); }

        .bg-primary { background-color: var(--color-primary); }
        .bg-secondary { background-color: var(--color-secondary); }
        .bg-success { background-color: var(--color-success); }
        .bg-danger { background-color: var(--color-danger); }
        .bg-warning { background-color: var(--color-warning); }
        .bg-info { background-color: var(--color-info); }
        .bg-dark { background-color: var(--color-bg); }
        .bg-darker { background-color: var(--color-bg-elevated); }

        .d-flex { display: flex; }
        .align-items-center { align-items: center; }
        .justify-content-between { justify-content: space-between; }
        .gap-1 { gap: var(--space-1); }
        .gap-2 { gap: var(--space-2); }
        .gap-3 { gap: var(--space-3); }
        .gap-4 { gap: var(--space-4); }
        .gap-6 { gap: var(--space-6); }

        .mt-1 { margin-top: var(--space-1); }
        .mt-2 { margin-top: var(--space-2); }
        .mt-3 { margin-top: var(--space-3); }
        .mt-4 { margin-top: var(--space-4); }
        .mt-6 { margin-top: var(--space-6); }
        .mb-1 { margin-bottom: var(--space-1); }
        .mb-2 { margin-bottom: var(--space-2); }
        .mb-3 { margin-bottom: var(--space-3); }
        .mb-4 { margin-bottom: var(--space-4); }
        .mb-6 { margin-bottom: var(--space-6); }

        .p-2 { padding: var(--space-2); }
        .p-3 { padding: var(--space-3); }
        .p-4 { padding: var(--space-4); }
        .p-6 { padding: var(--space-6); }

        .rounded { border-radius: var(--border-radius-md); }
        .rounded-lg { border-radius: var(--border-radius-lg); }
        .rounded-full { border-radius: var(--border-radius-full); }

        .shadow-sm { box-shadow: var(--shadow-sm); }
        .shadow-md { box-shadow: var(--shadow-md); }
        .shadow-lg { box-shadow: var(--shadow-lg); }

        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 992px) {
            .admin-sidebar {
                transform: translateX(-100%);
            }
            
            .admin-content {
                margin-left: 0;
            }
            
            .sidebar-open .admin-sidebar {
                transform: translateX(0);
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-header {
                padding: 0 var(--space-4);
            }
            
            .admin-content {
                padding: var(--space-4);
            }
        }

        /* ========== ANIMATIONS ========== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(var(--space-2)); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .animate-fade {
            animation: fadeIn 0.3s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .animate-spin {
            animation: var(--animation-spin);
        }

        /* ========== CUSTOM SCROLLBAR ========== */
        ::-webkit-scrollbar {
            width: var(--space-2);
            height: var(--space-2);
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-md);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ========== LOADING STATES ========== */
        .loading {
            position: relative;
            overflow: hidden;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(3, 7, 18, 0.5);
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading-spinner {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            border: 0.25rem solid rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-full);
            border-top-color: var(--color-primary);
            animation: var(--animation-spin);
        }

        /* ========== SECURITY BADGE ========== */
        .security-badge {
            position: fixed;
            bottom: var(--space-4);
            right: var(--space-4);
            background-color: var(--color-bg-elevated);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-full);
            padding: var(--space-2) var(--space-4);
            font-size: var(--text-xs);
            font-weight: var(--font-semibold);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            box-shadow: var(--shadow-md);
            z-index: var(--z-index-20);
        }

        .security-badge::before {
            content: '';
            display: block;
            width: 0.75rem;
            height: 0.75rem;
            background-color: var(--color-success);
            border-radius: var(--border-radius-full);
            animation: var(--animation-pulse);
        }

        /* ========== DROPDOWN MENUS ========== */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            min-width: 12rem;
            background-color: var(--color-bg-elevated);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
            padding: var(--space-2) 0;
            z-index: var(--z-index-50);
            opacity: 0;
            visibility: hidden;
            transform: translateY(var(--space-1));
            transition: var(--transition-all);
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: var(--space-2) var(--space-4);
            color: var(--color-text);
            font-size: var(--text-sm);
            transition: var(--transition-colors);
        }

        .dropdown-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--color-primary);
        }

        .dropdown-divider {
            height: var(--border-width-1);
            background-color: var(--color-border);
            margin: var(--space-2) 0;
        }

        /* ========== TOOLTIPS ========== */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--color-bg-elevated);
            color: var(--color-text);
            font-size: var(--text-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--border-radius-md);
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-all);
            box-shadow: var(--shadow-md);
            z-index: var(--z-index-50);
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(calc(var(--space-1) * -1));
        }

        /* ========== MODALS ========== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(3, 7, 18, 0.8);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: var(--z-index-50);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-all);
        }

        .modal.open {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--color-bg-elevated);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-2xl);
            width: 100%;
            max-width: 32rem;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(var(--space-4));
            transition: var(--transition-all);
        }

        .modal.open .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: var(--space-4) var(--space-6);
            border-bottom: var(--border-width-1) solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            padding: var(--space-6);
        }

        .modal-footer {
            padding: var(--space-4) var(--space-6);
            border-top: var(--border-width-1) solid var(--color-border);
            display: flex;
            justify-content: flex-end;
            gap: var(--space-3);
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--color-text-muted);
            cursor: pointer;
            font-size: var(--text-xl);
            line-height: 1;
            padding: var(--space-1);
            transition: var(--transition-colors);
        }

        .modal-close:hover {
            color: var(--color-text);
        }

        /* ========== NOTIFICATIONS ========== */
        .notification-container {
            position: fixed;
            top: var(--space-4);
            right: var(--space-4);
            z-index: var(--z-index-50);
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
            max-width: 24rem;
            width: 100%;
        }

        .notification {
            background-color: var(--color-bg-elevated);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
            padding: var(--space-3) var(--space-4);
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
            transform: translateX(100%);
            opacity: 0;
            transition: var(--transition-all);
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification-icon {
            font-size: var(--text-xl);
            flex-shrink: 0;
        }

        .notification-success .notification-icon {
            color: var(--color-success);
        }

        .notification-error .notification-icon {
            color: var(--color-danger);
        }

        .notification-warning .notification-icon {
            color: var(--color-warning);
        }

        .notification-info .notification-icon {
            color: var(--color-info);
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: var(--font-semibold);
            margin-bottom: var(--space-1);
        }

        .notification-message {
            font-size: var(--text-sm);
            color: var(--color-text-muted);
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--color-text-muted);
            cursor: pointer;
            font-size: var(--text-lg);
            line-height: 1;
            padding: 0;
            transition: var(--transition-colors);
        }

        .notification-close:hover {
            color: var(--color-text);
        }

        /* ========== DATA GRID ========== */
        .data-grid {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .data-grid thead th {
            background-color: var(--color-bg-surface);
            color: var(--color-text-muted);
            font-weight: var(--font-semibold);
            font-size: var(--text-xs);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: var(--space-3) var(--space-4);
            text-align: left;
            border-bottom: var(--border-width-1) solid var(--color-border);
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .data-grid tbody tr {
            transition: var(--transition-colors);
        }

        .data-grid tbody tr:hover {
            background-color: rgba(255, 255, 255, 0.02);
        }

        .data-grid tbody td {
            padding: var(--space-3) var(--space-4);
            border-bottom: var(--border-width-1) solid var(--color-border);
            font-size: var(--text-sm);
        }

        .data-grid tbody tr:last-child td {
            border-bottom: none;
        }

        /* ========== PAGINATION ========== */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--space-2);
            margin-top: var(--space-6);
        }

        .page-item {
            display: inline-flex;
        }

        .page-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: var(--border-radius-md);
            font-weight: var(--font-semibold);
            font-size: var(--text-sm);
            transition: var(--transition-colors);
        }

        .page-link:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .page-link.active {
            background-color: var(--color-primary);
            color: var(--color-gray-950);
        }

        /* ========== TABS ========== */
        .tabs {
            display: flex;
            border-bottom: var(--border-width-1) solid var(--color-border);
            margin-bottom: var(--space-6);
        }

        .tab {
            padding: var(--space-3) var(--space-4);
            font-weight: var(--font-semibold);
            font-size: var(--text-sm);
            color: var(--color-text-muted);
            border-bottom: var(--border-width-2) solid transparent;
            transition: var(--transition-colors);
            cursor: pointer;
        }

        .tab:hover {
            color: var(--color-text);
        }

        .tab.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        /* ========== ACCORDION ========== */
        .accordion-item {
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            margin-bottom: var(--space-3);
            overflow: hidden;
        }

        .accordion-header {
            background-color: var(--color-bg-surface);
            padding: var(--space-3) var(--space-4);
            font-weight: var(--font-semibold);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition-colors);
        }

        .accordion-header:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .accordion-content {
            padding: var(--space-4);
            border-top: var(--border-width-1) solid var(--color-border);
        }

        /* ========== BADGES ========== */
        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-1) var(--space-2);
            border-radius: var(--border-radius-full);
            font-size: var(--text-xs);
            font-weight: var(--font-semibold);
            line-height: 1;
        }

        .badge-primary {
            background-color: var(--color-primary);
            color: var(--color-gray-950);
        }

        .badge-secondary {
            background-color: var(--color-secondary);
            color: white;
        }

        .badge-success {
            background-color: var(--color-success);
            color: white;
        }

        .badge-danger {
            background-color: var(--color-danger);
            color: white;
        }

        .badge-warning {
            background-color: var(--color-warning);
            color: var(--color-gray-950);
        }

        .badge-info {
            background-color: var(--color-info);
            color: white;
        }

        /* ========== ALERTS ========== */
        .alert {
            padding: var(--space-3) var(--space-4);
            border-radius: var(--border-radius-md);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
        }

        .alert-icon {
            font-size: var(--text-xl);
            flex-shrink: 0;
        }

        .alert-success {
            background-color: rgba(35, 209, 96, 0.1);
            border: var(--border-width-1) solid rgba(35, 209, 96, 0.2);
            color: var(--color-success);
        }

        .alert-error {
            background-color: rgba(230, 0, 56, 0.1);
            border: var(--border-width-1) solid rgba(230, 0, 56, 0.2);
            color: var(--color-danger);
        }

        .alert-warning {
            background-color: rgba(255, 221, 87, 0.1);
            border: var(--border-width-1) solid rgba(255, 221, 87, 0.2);
            color: var(--color-warning);
        }

        .alert-info {
            background-color: rgba(32, 156, 238, 0.1);
            border: var(--border-width-1) solid rgba(32, 156, 238, 0.2);
            color: var(--color-info);
        }

        /* ========== PROGRESS BARS ========== */
        .progress {
            height: 0.5rem;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-full);
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--color-primary);
            border-radius: var(--border-radius-full);
            transition: width 0.3s ease;
        }

        /* ========== AVATARS ========== */
        .avatar {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: var(--border-radius-full);
            background-color: var(--color-bg-surface);
            color: var(--color-text);
            font-weight: var(--font-semibold);
            overflow: hidden;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-sm {
            width: 2rem;
            height: 2rem;
            font-size: var(--text-sm);
        }

        .avatar-lg {
            width: 3rem;
            height: 3rem;
            font-size: var(--text-lg);
        }

        /* ========== TOASTS ========== */
        .toast {
            position: fixed;
            bottom: var(--space-4);
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--color-bg-elevated);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
            padding: var(--space-3) var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            z-index: var(--z-index-50);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-all);
        }

        .toast.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        .toast-icon {
            font-size: var(--text-xl);
        }

        .toast-success .toast-icon {
            color: var(--color-success);
        }

        .toast-error .toast-icon {
            color: var(--color-danger);
        }

        .toast-content {
            flex: 1;
        }

        .toast-close {
            background: none;
            border: none;
            color: var(--color-text-muted);
            cursor: pointer;
            font-size: var(--text-lg);
            line-height: 1;
            padding: 0;
            transition: var(--transition-colors);
        }

        .toast-close:hover {
            color: var(--color-text);
        }

        /* ========== TOOLTIPS ========== */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--color-bg-elevated);
            color: var(--color-text);
            font-size: var(--text-xs);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--border-radius-md);
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-all);
            box-shadow: var(--shadow-md);
            z-index: var(--z-index-50);
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(calc(var(--space-1) * -1));
        }

        /* ========== CUSTOM CHECKBOXES AND RADIOS ========== */
        .form-check {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            cursor: pointer;
        }

        .form-check-input {
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-sm);
            background-color: var(--color-bg);
            transition: var(--transition-all);
            position: relative;
            cursor: pointer;
        }

        .form-check-input:checked {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
        }

        .form-check-input:checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--color-gray-950);
            font-size: var(--text-sm);
            font-weight: var(--font-bold);
        }

        .form-check-label {
            font-size: var(--text-sm);
            cursor: pointer;
        }

        .form-radio {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            cursor: pointer;
        }

        .form-radio-input {
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-full);
            background-color: var(--color-bg);
            transition: var(--transition-all);
            position: relative;
            cursor: pointer;
        }

        .form-radio-input:checked {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
        }

        .form-radio-input:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0.5rem;
            height: 0.5rem;
            background-color: var(--color-gray-950);
            border-radius: var(--border-radius-full);
        }

        .form-radio-label {
            font-size: var(--text-sm);
            cursor: pointer;
        }

        /* ========== SWITCH TOGGLES ========== */
        .form-switch {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            cursor: pointer;
        }

        .form-switch-input {
            appearance: none;
            width: 2.5rem;
            height: 1.5rem;
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-full);
            background-color: var(--color-bg);
            transition: var(--transition-all);
            position: relative;
            cursor: pointer;
        }

        .form-switch-input:checked {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
        }

        .form-switch-input::after {
            content: '';
            position: absolute;
            top: 0.125rem;
            left: 0.125rem;
            width: 1.125rem;
            height: 1.125rem;
            background-color: var(--color-text);
            border-radius: var(--border-radius-full);
            transition: var(--transition-all);
        }

        .form-switch-input:checked::after {
            transform: translateX(1rem);
            background-color: var(--color-gray-950);
        }

        .form-switch-label {
            font-size: var(--text-sm);
            cursor: pointer;
        }

        /* ========== LOADING SKELETONS ========== */
        .skeleton {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-md);
            animation: var(--animation-pulse);
        }

        .skeleton-text {
            height: 1rem;
            width: 100%;
        }

        .skeleton-circle {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: var(--border-radius-full);
        }

        .skeleton-rect {
            width: 100%;
            height: 100%;
            border-radius: var(--border-radius-md);
        }

        /* ========== CUSTOM SELECT ========== */
        .form-select {
            position: relative;
        }

        .form-select select {
            appearance: none;
            width: 100%;
            padding: var(--space-3) var(--space-4);
            background-color: rgba(255, 255, 255, 0.05);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            color: var(--color-text);
            font-family: var(--font-sans);
            font-size: var(--text-sm);
            transition: var(--transition-all);
            cursor: pointer;
        }

        .form-select select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: var(--shadow-primary);
            background-color: rgba(0, 230, 132, 0.03);
        }

        .form-select::after {
            content: '⌄';
            position: absolute;
            top: 50%;
            right: var(--space-4);
            transform: translateY(-50%);
            pointer-events: none;
            color: var(--color-text-muted);
        }

        /* ========== CUSTOM FILE INPUT ========== */
        .form-file {
            position: relative;
        }

        .form-file input[type="file"] {
            position: absolute;
            width: 0.1px;
            height: 0.1px;
            opacity: 0;
            overflow: hidden;
            z-index: -1;
        }

        .form-file-label {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-3) var(--space-4);
            background-color: rgba(255, 255, 255, 0.05);
            border: var(--border-width-1) dashed var(--color-border);
            border-radius: var(--border-radius-md);
            color: var(--color-text);
            font-family: var(--font-sans);
            font-size: var(--text-sm);
            transition: var(--transition-all);
            cursor: pointer;
            text-align: center;
        }

        .form-file-label:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: var(--color-primary);
        }

        .form-file-name {
            margin-top: var(--space-2);
            font-size: var(--text-xs);
            color: var(--color-text-muted);
        }

        /* ========== CUSTOM RANGE SLIDER ========== */
        .form-range {
            width: 100%;
            height: 0.5rem;
            appearance: none;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-full);
            outline: none;
        }

        .form-range::-webkit-slider-thumb {
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            background-color: var(--color-primary);
            border-radius: var(--border-radius-full);
            cursor: pointer;
            transition: var(--transition-all);
        }

        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        /* ========== CUSTOM DATE PICKER ========== */
        .form-date {
            position: relative;
        }

        .form-date input[type="date"] {
            appearance: none;
            width: 100%;
            padding: var(--space-3) var(--space-4);
            background-color: rgba(255, 255, 255, 0.05);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            color: var(--color-text);
            font-family: var(--font-sans);
            font-size: var(--text-sm);
            transition: var(--transition-all);
        }

        .form-date input[type="date"]:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: var(--shadow-primary);
            background-color: rgba(0, 230, 132, 0.03);
        }

        .form-date::after {
            content: '📅';
            position: absolute;
            top: 50%;
            right: var(--space-4);
            transform: translateY(-50%);
            pointer-events: none;
        }

        /* ========== CUSTOM TIME PICKER ========== */
        .form-time {
            position: relative;
        }

        .form-time input[type="time"] {
            appearance: none;
            width: 100%;
            padding: var(--space-3) var(--space-4);
            background-color: rgba(255, 255, 255, 0.05);
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
            color: var(--color-text);
            font-family: var(--font-sans);
            font-size: var(--text-sm);
            transition: var(--transition-all);
        }

        .form-time input[type="time"]:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: var(--shadow-primary);
            background-color: rgba(0, 230, 132, 0.03);
        }

        .form-time::after {
            content: '🕒';
            position: absolute;
            top: 50%;
            right: var(--space-4);
            transform: translateY(-50%);
            pointer-events: none;
        }

        /* ========== CUSTOM COLOR PICKER ========== */
        .form-color {
            position: relative;
        }

        .form-color input[type="color"] {
            appearance: none;
            width: 3rem;
            height: 3rem;
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
        }

        .form-color input[type="color"]::-webkit-color-swatch {
            border: var(--border-width-1) solid var(--color-border);
            border-radius: var(--border-radius-md);
        }

        .form-color-label {
            position: absolute;
            top: 50%;
            left: 3.5rem;
            transform: translateY(-50%);
            font-size: var(--text-sm);
        }

        /* ========== CUSTOM TOGGLE BUTTONS ========== */
        .toggle-group {
            display: inline-flex;
            border-radius: var(--border-radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .toggle-btn {
            appearance: none;
            padding: var(--space-2) var(--space-4);
            background-color: rgba(255, 255, 255, 0.08);
            border: var(--border-width-1) solid rgba(255, 255, 255, 0.1);
            color: var(--color-text);
            font-family: var(--font-heading);
            font-weight: var(--font-semibold);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: var(--transition-all);
        }

        .toggle-btn:first-child {
            border-top-left-radius: var(--border-radius-md);
            border-bottom-left-radius: var(--border-radius-md);
        }

        .toggle-btn:last-child {
            border-top-right-radius: var(--border-radius-md);
            border-bottom-right-radius: var(--border-radius-md);
        }

        .toggle-btn:not(:first-child) {
            margin-left: calc(var(--border-width-1) * -1);
        }

        .toggle-btn.active {
            background-color: var(--color-primary);
            color: var(--color-gray-950);
            border-color: var(--color-primary);
            z-index: 1;
        }

        /* ========== CUSTOM SCROLL CONTAINER ========== */
        .scroll-container {
            overflow: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
        }

        .scroll-container::-webkit-scrollbar {
            width: 0.5rem;
            height: 0.5rem;
        }

        .scroll-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-full);
        }

        .scroll-container::-webkit-scrollbar-thumb:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* ========== RESPONSIVE UTILITIES ========== */
        @media (min-width: 640px) {
            .sm\:hidden { display: none; }
            .sm\:block { display: block; }
            .sm\:flex { display: flex; }
        }

        @media (min-width: 768px) {
            .md\:hidden { display: none; }
            .md\:block { display: block; }
            .md\:flex { display: flex; }
        }

        @media (min-width: 1024px) {
            .lg\:hidden { display: none; }
            .lg\:block { display: block; }
            .lg\:flex { display: flex; }
        }

        @media (min-width: 1280px) {
            .xl\:hidden { display: none; }
            .xl\:block { display: block; }
            .xl\:flex { display: flex; }
        }

        /* ========== PRINT STYLES ========== */
        @media print {
            body {
                background-color: white;
                color: black;
            }
            
            .admin-header,
            .admin-sidebar,
            .table-actions {
                display: none;
            }
            
            .admin-content {
                margin-left: 0;
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="logo-container">
            <img src="https://www.dropbox.com/scl/fi/1dq16nex1borvvknpcwox/circular_dark_background.png?rlkey=sq2ujl2oxxk9vyvg1j7oz0cdb&raw=1" alt="BitHash Logo" class="logo">
            <span class="logo-text">BitHash Admin</span>
        </div>
        
        <div class="d-flex align-items-center gap-3">
            <button class="btn btn-outline btn-sm" id="notifications-btn">
                <i>🔔</i>
                <span class="badge badge-danger">3</span>
            </button>
            <button class="btn btn-outline btn-sm" id="quick-actions-btn">
                <i>⚡</i>
                <span>Quick Actions</span>
            </button>
            <div class="dropdown">
                <button class="btn btn-secondary btn-sm" id="user-menu-btn">
                    <i>👤</i>
                    <span>Admin User</span>
                    <i>⌄</i>
                </button>
                <div class="dropdown-menu">
                    <a href="#" class="dropdown-item">Profile</a>
                    <a href="#" class="dropdown-item">Settings</a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item text-danger" id="logout-btn">Logout</a>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Admin Container -->
    <div class="admin-container">
        <!-- Sidebar Navigation -->
        <aside class="admin-sidebar" id="admin-sidebar">
            <ul class="sidebar-menu">
                <li class="menu-item">
                    <a href="#" class="menu-link active" data-section="dashboard">
                        <span class="menu-icon">📊</span>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="users">
                        <span class="menu-icon">👥</span>
                        <span class="menu-text">User Management</span>
                        <span class="menu-badge">42</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="kyc">
                        <span class="menu-icon">🆔</span>
                        <span class="menu-text">KYC Verification</span>
                        <span class="menu-badge">128</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="transactions">
                        <span class="menu-icon">💸</span>
                        <span class="menu-text">Transactions</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="mining">
                        <span class="menu-icon">⛏️</span>
                        <span class="menu-text">Mining Operations</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="loans">
                        <span class="menu-icon">🏦</span>
                        <span class="menu-text">Loan Management</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="reports">
                        <span class="menu-icon">📈</span>
                        <span class="menu-text">Reports & Analytics</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="settings">
                        <span class="menu-icon">⚙️</span>
                        <span class="menu-text">System Settings</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link" data-section="security">
                        <span class="menu-icon">🔒</span>
                        <span class="menu-text">Security Center</span>
                    </a>
                </li>
            </ul>
            
            <div class="p-3 mt-auto">
                <div class="text-muted text-center small">BitHash Enterprise v3.2.1</div>
                <div class="text-center small mt-1">🔒 256-bit AES Encrypted</div>
            </div>
        </aside>
        
        <!-- Main Content Area -->
        <main class="admin-content">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="animate-fade">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h1>Enterprise Dashboard</h1>
                        <p class="text-muted">Real-time overview of platform performance and metrics</p>
                    </div>
                    <div class="d-flex gap-2">
                        <button class="btn btn-outline btn-sm" id="refresh-btn">
                            <i>🔄</i>
                            <span>Refresh Data</span>
                        </button>
                        <button class="btn btn-secondary btn-sm" id="export-btn">
                            <i>📁</i>
                            <span>Export</span>
                        </button>
                    </div>
                </div>
                
                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 class="stat-title">Total Users</h3>
                        <h2 class="stat-value" id="total-users">2,145,892</h2>
                        <div class="stat-change change-positive">
                            <i>↑</i>
                            <span>12.5% (30d)</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <h3 class="stat-title">Active Miners</h3>
                        <h2 class="stat-value" id="active-miners">892,451</h2>
                        <div class="stat-change change-positive">
                            <i>↑</i>
                            <span>8.3% (30d)</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <h3 class="stat-title">Daily Transactions</h3>
                        <h2 class="stat-value" id="daily-tx">$14.2M</h2>
                        <div class="stat-change change-negative">
                            <i>↓</i>
                            <span>2.1% (7d)</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <h3 class="stat-title">Hash Rate</h3>
                        <h2 class="stat-value" id="hash-rate">42.7 EH/s</h2>
                        <div class="stat-change change-positive">
                            <i>↑</i>
                            <span>5.8% (7d)</span>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Row -->
                <div class="data-table-container">
                    <div class="table-header">
                        <h3 class="table-title">User Growth Analytics</h3>
                        <div class="table-actions">
                            <div class="btn-group">
                                <button class="btn btn-outline btn-sm active" data-period="7">7d</button>
                                <button class="btn btn-outline btn-sm" data-period="30">30d</button>
                                <button class="btn btn-outline btn-sm" data-period="90">90d</button>
                                <button class="btn btn-outline btn-sm" data-period="365">1y</button>
                            </div>
                            <button class="btn btn-primary btn-sm" id="user-growth-export">
                                <i>📊</i>
                                <span>Export Data</span>
                            </button>
                        </div>
                    </div>
                    <div id="user-growth-chart" style="height: 350px;"></div>
                </div>
                
                <!-- Recent Activity -->
                <div class="data-table-container">
                    <div class="table-header">
                        <h3 class="table-title">Recent Activity</h3>
                        <div class="table-actions">
                            <div class="form-group mb-0">
                                <select class="form-control form-control-sm" id="activity-filter">
                                    <option value="all">All Activities</option>
                                    <option value="login">User Logins</option>
                                    <option value="transaction">Transactions</option>
                                    <option value="kyc">KYC Submissions</option>
                                    <option value="admin">Admin Actions</option>
                                </select>
                            </div>
                            <button class="btn btn-primary btn-sm" id="export-activity-btn">
                                <i>📋</i>
                                <span>Export</span>
                            </button>
                        </div>
                    </div>
                    <div class="scroll-container" style="max-height: 500px;">
                        <table class="data-grid">
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>User ID</th>
                                    <th>Action</th>
                                    <th>Details</th>
                                    <th>IP Address</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="activity-table-body">
                                <!-- Activity data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination mt-4">
                        <button class="page-link" id="prev-page">← Previous</button>
                        <div class="d-flex gap-2 mx-3">
                            <button class="page-link active">1</button>
                            <button class="page-link">2</button>
                            <button class="page-link">3</button>
                            <span>...</span>
                            <button class="page-link">10</button>
                        </div>
                        <button class="page-link" id="next-page">Next →</button>
                    </div>
                </div>
                
                <!-- System Health -->
                <div class="data-table-container">
                    <div class="table-header">
                        <h3 class="table-title">System Health</h3>
                        <div class="table-actions">
                            <button class="btn btn-outline btn-sm" id="refresh-health-btn">
                                <i>🔄</i>
                                <span>Refresh</span>
                            </button>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-bg-surface p-4 rounded-lg">
                            <h4 class="text-lg font-semibold mb-2">API Services</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Auth Service</span>
                                        <span class="text-success">Operational</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Transaction Service</span>
                                        <span class="text-success">Operational</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Mining Service</span>
                                        <span class="text-warning">Degraded</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-warning" style="width: 75%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-bg-surface p-4 rounded-lg">
                            <h4 class="text-lg font-semibold mb-2">Database</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Primary Cluster</span>
                                        <span class="text-success">Operational</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Read Replicas</span>
                                        <span class="text-success">Operational</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Cache Hit Rate</span>
                                        <span>92.4%</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 92.4%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-bg-surface p-4 rounded-lg">
                            <h4 class="text-lg font-semibold mb-2">Infrastructure</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Load Balancers</span>
                                        <span class="text-success">Operational</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Compute Nodes</span>
                                        <span class="text-success">Operational</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Storage</span>
                                        <span>78% used</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 78%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- User Management Section (Hidden by default) -->
            <section id="users-section" style="display: none;">
                <!-- User management content will be loaded here -->
            </section>
            
            <!-- Other sections will be similarly structured -->
        </main>
    </div>
    
    <!-- Security Badge -->
    <div class="security-badge">
        <span>256-bit AES & TLS 1.3 Encrypted</span>
    </div>
    
    <!-- Notification Container -->
    <div class="notification-container" id="notification-container"></div>
    
    <!-- Core Application Script -->
    <script>
        // ========== GLOBAL CONFIGURATION ==========
        const CONFIG = {
            API_BASE_URL: 'https://website-backendd-1.onrender.com',
            SOCKET_ENDPOINT: 'wss://website-backendd-1.onrender.com/socket.io',
            REFRESH_INTERVAL: 300000, // 5 minutes
            MAX_CONCURRENT_REQUESTS: 5,
            REQUEST_TIMEOUT: 30000, // 30 seconds
            SESSION_TIMEOUT: 1800000, // 30 minutes
            ITEMS_PER_PAGE: 50,
            DEBOUNCE_DELAY: 300,
            THROTTLE_DELAY: 1000,
            CACHE_TTL: 60000, // 1 minute
        };
        
        // ========== STATE MANAGEMENT ==========
        const state = {
            authToken: localStorage.getItem('bitHashAdminToken'),
            csrfToken: null,
            socket: null,
            activeSection: 'dashboard',
            currentPage: 1,
            activityFilter: 'all',
            requestQueue: [],
            activeRequests: 0,
            cache: {},
            lastActivity: Date.now(),
            userData: null,
            systemStats: null,
            activityData: [],
            userGrowthData: null,
        };
        
        // ========== CORE UTILITIES ==========
        const utils = {
            // Format numbers with commas
            formatNumber: (num) => {
                return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            },
            
            // Format currency
            formatCurrency: (amount, currency = 'USD') => {
                return new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: currency,
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }).format(amount);
            },
            
            // Format date
            formatDate: (date, format = 'medium') => {
                const options = {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: true
                };
                
                if (format === 'short') {
                    options.month = 'numeric';
                    options.day = 'numeric';
                    options.year = '2-digit';
                    delete options.second;
                } else if (format === 'long') {
                    options.weekday = 'long';
                }
                
                return new Date(date).toLocaleString('en-US', options);
            },
            
            // Debounce function
            debounce: (func, delay) => {
                let timeoutId;
                return function(...args) {
                    clearTimeout(timeoutId);
                    timeoutId = setTimeout(() => {
                        func.apply(this, args);
                    }, delay);
                };
            },
            
            // Throttle function
            throttle: (func, limit) => {
                let lastFunc;
                let lastRan;
                return function() {
                    const context = this;
                    const args = arguments;
                    if (!lastRan) {
                        func.apply(context, args);
                        lastRan = Date.now();
                    } else {
                        clearTimeout(lastFunc);
                        lastFunc = setTimeout(function() {
                            if ((Date.now() - lastRan) >= limit) {
                                func.apply(context, args);
                                lastRan = Date.now();
                            }
                        }, limit - (Date.now() - lastRan));
                    }
                };
            },
            
            // Generate UUID
            generateUUID: () => {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0;
                    const v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
            },
            
            // Get from cache or set if not exists
            cachedFetch: async (key, fetcher, ttl = CONFIG.CACHE_TTL) => {
                const now = Date.now();
                const cached = state.cache[key];
                
                if (cached && now - cached.timestamp < ttl) {
                    return cached.data;
                }
                
                const data = await fetcher();
                state.cache[key] = {
                    data,
                    timestamp: now
                };
                return data;
            },
            
            // Queue management for API requests
            processQueue: () => {
                if (state.requestQueue.length === 0 || state.activeRequests >= CONFIG.MAX_CONCURRENT_REQUESTS) {
                    return;
                }
                
                const nextRequest = state.requestQueue.shift();
                state.activeRequests++;
                
                nextRequest()
                    .finally(() => {
                        state.activeRequests--;
                        utils.processQueue();
                    });
            },
            
            // Add request to queue
            queueRequest: (request) => {
                return new Promise((resolve, reject) => {
                    const wrappedRequest = () => {
                        return request()
                            .then(resolve)
                            .catch(reject);
                    };
                    
                    state.requestQueue.push(wrappedRequest);
                    utils.processQueue();
                });
            },
            
            // Make API request with queue management
            apiRequest: async (method, endpoint, data = null, headers = {}) => {
                const url = `${CONFIG.API_BASE_URL}${endpoint}`;
                const requestId = utils.generateUUID();
                
                const requestOptions = {
                    method: method.toUpperCase(),
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${state.authToken}`,
                        'X-Request-ID': requestId,
                        ...headers
                    },
                    timeout: CONFIG.REQUEST_TIMEOUT
                };
                
                if (data) {
                    requestOptions.body = JSON.stringify(data);
                }
                
                if (state.csrfToken) {
                    requestOptions.headers['X-CSRF-Token'] = state.csrfToken;
                }
                
                try {
                    const response = await utils.queueRequest(() => {
                        return fetch(url, requestOptions)
                            .then(async (res) => {
                                if (res.status === 401) {
                                    // Token expired, logout
                                    utils.showNotification('Session expired, please login again', 'error');
                                    setTimeout(() => {
                                        localStorage.removeItem('bitHashAdminToken');
                                        window.location.href = '/admin-login.html';
                                    }, 2000);
                                    throw new Error('Unauthorized');
                                }
                                
                                if (!res.ok) {
                                    const errorData = await res.json().catch(() => ({}));
                                    throw new Error(errorData.message || `HTTP error! status: ${res.status}`);
                                }
                                
                                // Update CSRF token if present in response
                                const newCsrfToken = res.headers.get('X-CSRF-Token');
                                if (newCsrfToken) {
                                    state.csrfToken = newCsrfToken;
                                }
                                
                                return res.json();
                            });
                    });
                    
                    return response;
                } catch (error) {
                    console.error('API request failed:', error);
                    utils.showNotification(`Request failed: ${error.message}`, 'error');
                    throw error;
                }
            }
        };
        
        // ========== UI COMPONENTS ==========
        const ui = {
            // Show notification
            showNotification: (message, type = 'info', duration = 5000) => {
                const notificationContainer = document.getElementById('notification-container');
                const notificationId = utils.generateUUID();
                
                const icons = {
                    success: '✅',
                    error: '❌',
                    warning: '⚠️',
                    info: 'ℹ️'
                };
                
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.id = `notification-${notificationId}`;
                
                notification.innerHTML = `
                    <span class="notification-icon">${icons[type]}</span>
                    <div class="notification-content">
                        <h4 class="notification-title">${type.charAt(0).toUpperCase() + type.slice(1)}</h4>
                        <p class="notification-message">${message}</p>
                    </div>
                    <button class="notification-close">&times;</button>
                `;
                
                notificationContainer.appendChild(notification);
                
                // Show notification with animation
                setTimeout(() => {
                    notification.classList.add('show');
                }, 10);
                
                // Close button handler
                notification.querySelector('.notification-close').addEventListener('click', () => {
                    ui.closeNotification(notificationId);
                });
                
                // Auto-close if duration is set
                if (duration > 0) {
                    setTimeout(() => {
                        ui.closeNotification(notificationId);
                    }, duration);
                }
                
                return notificationId;
            },
            
            // Close notification
            closeNotification: (id) => {
                const notification = document.getElementById(`notification-${id}`);
                if (notification) {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }
            },
            
            // Show loading state
            showLoading: (element) => {
                if (!element) return;
                
                const loadingOverlay = document.createElement('div');
                loadingOverlay.className = 'loading';
                
                const spinner = document.createElement('div');
                spinner.className = 'loading-spinner';
                
                loadingOverlay.appendChild(spinner);
                element.appendChild(loadingOverlay);
                element.classList.add('relative');
                
                return loadingOverlay;
            },
            
            // Hide loading state
            hideLoading: (element) => {
                if (!element) return;
                
                const loadingOverlay = element.querySelector('.loading');
                if (loadingOverlay) {
                    loadingOverlay.remove();
                }
                element.classList.remove('relative');
            },
            
            // Initialize charts
            initCharts: () => {
                // User Growth Chart
                const userGrowthChartEl = document.getElementById('user-growth-chart');
                if (userGrowthChartEl) {
                    state.userGrowthChart = new ApexCharts(userGrowthChartEl, {
                        series: [{
                            name: 'New Users',
                            data: []
                        }, {
                            name: 'Active Users',
                            data: []
                        }],
                        chart: {
                            type: 'area',
                            height: 350,
                            toolbar: {
                                show: false
                            },
                            zoom: {
                                enabled: false
                            },
                            animations: {
                                enabled: true,
                                easing: 'easeinout',
                                speed: 800,
                                animateGradually: {
                                    enabled: true,
                                    delay: 150
                                },
                                dynamicAnimation: {
                                    enabled: true,
                                    speed: 350
                                }
                            }
                        },
                        colors: [state.colors.primary, state.colors.secondary],
                        dataLabels: {
                            enabled: false
                        },
                        stroke: {
                            curve: 'smooth',
                            width: 2
                        },
                        fill: {
                            type: 'gradient',
                            gradient: {
                                shadeIntensity: 1,
                                opacityFrom: 0.7,
                                opacityTo: 0.3,
                            }
                        },
                        xaxis: {
                            type: 'datetime',
                            labels: {
                                datetimeFormatter: {
                                    year: 'yyyy',
                                    month: 'MMM \'yy',
                                    day: 'dd MMM',
                                    hour: 'HH:mm'
                                }
                            },
                            tooltip: {
                                formatter: function(value) {
                                    return new Date(value).toLocaleDateString('en-US', {
                                        year: 'numeric',
                                        month: 'short',
                                        day: 'numeric'
                                    });
                                }
                            }
                        },
                        yaxis: {
                            labels: {
                                formatter: function(value) {
                                    return utils.formatNumber(value);
                                }
                            }
                        },
                        tooltip: {
                            shared: true,
                            intersect: false,
                            y: {
                                formatter: function(value) {
                                    return utils.formatNumber(value);
                                }
                            }
                        },
                        legend: {
                            position: 'top',
                            horizontalAlign: 'right',
                            fontSize: '12px',
                            markers: {
                                width: 10,
                                height: 10,
                                radius: 0
                            }
                        }
                    });
                    
                    state.userGrowthChart.render();
                }
            },
            
            // Update charts with new data
            updateCharts: (data) => {
                if (state.userGrowthChart) {
                    state.userGrowthChart.updateSeries([{
                        name: 'New Users',
                        data: data.newUsers
                    }, {
                        name: 'Active Users',
                        data: data.activeUsers
                    }]);
                    
                    state.userGrowthChart.updateOptions({
                        xaxis: {
                            categories: data.dates
                        }
                    });
                }
            },
            
            // Initialize data tables
            initDataTables: () => {
                // Activity Table
                const activityTable = document.getElementById('activity-table-body');
                if (activityTable) {
                    // Will be populated via API
                }
            },
            
            // Populate activity table
            populateActivityTable: (activities) => {
                const tableBody = document.getElementById('activity-table-body');
                if (!tableBody) return;
                
                tableBody.innerHTML = '';
                
                activities.forEach(activity => {
                    const row = document.createElement('tr');
                    
                    const statusBadge = activity.status === 'success' ? 
                        `<span class="badge badge-success">Success</span>` :
                        `<span class="badge badge-danger">Failed</span>`;
                    
                    row.innerHTML = `
                        <td>${utils.formatDate(activity.timestamp, 'short')}</td>
                        <td>${activity.userId || 'System'}</td>
                        <td>${activity.action}</td>
                        <td>${activity.details || 'N/A'}</td>
                        <td>${activity.ipAddress || 'N/A'}</td>
                        <td>${statusBadge}</td>
                    `;
                    
                    tableBody.appendChild(row);
                });
            },
            
            // Update stats cards
            updateStatsCards: (stats) => {
                if (stats.totalUsers) {
                    document.getElementById('total-users').textContent = utils.formatNumber(stats.totalUsers);
                }
                
                if (stats.activeMiners) {
                    document.getElementById('active-miners').textContent = utils.formatNumber(stats.activeMiners);
                }
                
                if (stats.dailyTx) {
                    document.getElementById('daily-tx').textContent = utils.formatCurrency(stats.dailyTx);
                }
                
                if (stats.hashRate) {
                    document.getElementById('hash-rate').textContent = `${(stats.hashRate / 1000).toFixed(1)} EH/s`;
                }
            },
            
            // Initialize event listeners
            initEventListeners: () => {
                // Menu navigation
                document.querySelectorAll('.menu-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const section = link.dataset.section;
                        ui.switchSection(section);
                    });
                });
                
                // Refresh button
                document.getElementById('refresh-btn')?.addEventListener('click', () => {
                    data.loadDashboardData(true);
                });
                
                // Activity filter
                document.getElementById('activity-filter')?.addEventListener('change', (e) => {
                    state.activityFilter = e.target.value;
                    data.loadActivityData();
                });
                
                // Pagination
                document.getElementById('prev-page')?.addEventListener('click', () => {
                    if (state.currentPage > 1) {
                        state.currentPage--;
                        data.loadActivityData();
                    }
                });
                
                document.getElementById('next-page')?.addEventListener('click', () => {
                    state.currentPage++;
                    data.loadActivityData();
                });
                
                // Logout
                document.getElementById('logout-btn')?.addEventListener('click', (e) => {
                    e.preventDefault();
                    localStorage.removeItem('bitHashAdminToken');
                    window.location.href = '/admin-login.html';
                });
                
                // Period buttons for user growth chart
                document.querySelectorAll('[data-period]').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('[data-period]').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        const days = parseInt(btn.dataset.period);
                        data.loadUserGrowthData(days);
                    });
                });
                
                // Track user activity for session timeout
                document.addEventListener('mousemove', utils.throttle(() => {
                    state.lastActivity = Date.now();
                }, 1000));
                
                document.addEventListener('keydown', utils.throttle(() => {
                    state.lastActivity = Date.now();
                }, 1000));
            },
            
            // Switch between sections
            switchSection: (section) => {
                // Hide all sections
                document.querySelectorAll('section').forEach(sec => {
                    sec.style.display = 'none';
                });
                
                // Remove active class from all menu items
                document.querySelectorAll('.menu-link').forEach(link => {
                    link.classList.remove('active');
                });
                
                // Show selected section
                const sectionEl = document.getElementById(`${section}-section`);
                if (sectionEl) {
                    sectionEl.style.display = 'block';
                    state.activeSection = section;
                    
                    // Add active class to menu item
                    document.querySelector(`.menu-link[data-section="${section}"]`).classList.add('active');
                    
                    // Load section data if not already loaded
                    if (section === 'dashboard') {
                        data.loadDashboardData();
                    } else if (section === 'users') {
                        data.loadUsersData();
                    }
                    // Add other sections as needed
                }
            }
        };
        
        // ========== DATA MANAGEMENT ==========
        const data = {
            // Verify admin session
            verifySession: async () => {
                if (!state.authToken) {
                    window.location.href = '/admin-login.html';
                    return false;
                }
                
                try {
                    const response = await utils.apiRequest('GET', '/api/admin/auth/verify');
                    if (!response.valid) {
                        localStorage.removeItem('bitHashAdminToken');
                        window.location.href = '/admin-login.html';
                        return false;
                    }
                    
                    // Store CSRF token if present
                    if (response.csrfToken) {
                        state.csrfToken = response.csrfToken;
                    }
                    
                    // Store user data
                    state.userData = response.user;
                    
                    return true;
                } catch (error) {
                    console.error('Session verification failed:', error);
                    localStorage.removeItem('bitHashAdminToken');
                    window.location.href = '/admin-login.html';
                    return false;
                }
            },
            
            // Load dashboard data
            loadDashboardData: async (forceRefresh = false) => {
                const dashboardEl = document.getElementById('dashboard-section');
                if (!dashboardEl) return;
                
                ui.showLoading(dashboardEl);
                
                try {
                    const [stats, activity, growth] = await Promise.all([
                        utils.cachedFetch(
                            'dashboard-stats',
                            () => utils.apiRequest('GET', '/api/admin/dashboard'),
                            forceRefresh ? 0 : CONFIG.CACHE_TTL
                        ),
                        utils.cachedFetch(
                            'recent-activity',
                            () => utils.apiRequest('GET', `/api/admin/activity?page=${state.currentPage}&limit=${CONFIG.ITEMS_PER_PAGE}&filter=${state.activityFilter}`),
                            forceRefresh ? 0 : CONFIG.CACHE_TTL
                        ),
                        utils.cachedFetch(
                            'user-growth',
                            () => utils.apiRequest('GET', '/api/admin/users/growth?days=30'),
                            forceRefresh ? 0 : CONFIG.CACHE_TTL
                        )
                    ]);
                    
                    state.systemStats = stats;
                    state.activityData = activity.data;
                    state.userGrowthData = growth;
                    
                    ui.updateStatsCards(stats);
                    ui.populateActivityTable(activity.data);
                    ui.updateCharts(growth);
                    
                    if (forceRefresh) {
                        ui.showNotification('Dashboard data refreshed', 'success');
                    }
                } catch (error) {
                    console.error('Failed to load dashboard data:', error);
                    ui.showNotification('Failed to load dashboard data', 'error');
                } finally {
                    ui.hideLoading(dashboardEl);
                }
            },
            
            // Load user growth data
            loadUserGrowthData: async (days = 30) => {
                try {
                    const growth = await utils.apiRequest('GET', `/api/admin/users/growth?days=${days}`);
                    state.userGrowthData = growth;
                    ui.updateCharts(growth);
                } catch (error) {
                    console.error('Failed to load user growth data:', error);
                    ui.showNotification('Failed to load user growth data', 'error');
                }
            },
            
            // Load activity data
            loadActivityData: async () => {
                const activityTable = document.getElementById('activity-table-body');
                if (!activityTable) return;
                
                ui.showLoading(activityTable.closest('.data-table-container'));
                
                try {
                    const activity = await utils.apiRequest(
                        'GET', 
                        `/api/admin/activity?page=${state.currentPage}&limit=${CONFIG.ITEMS_PER_PAGE}&filter=${state.activityFilter}`
                    );
                    
                    state.activityData = activity.data;
                    ui.populateActivityTable(activity.data);
                } catch (error) {
                    console.error('Failed to load activity data:', error);
                    ui.showNotification('Failed to load activity data', 'error');
                } finally {
                    ui.hideLoading(activityTable.closest('.data-table-container'));
                }
            },
            
            // Load users data
            loadUsersData: async () => {
                const usersSection = document.getElementById('users-section');
                if (!usersSection) return;
                
                ui.showLoading(usersSection);
                
                try {
                    const users = await utils.apiRequest('GET', '/api/admin/users');
                    // TODO: Implement users table rendering
                    console.log('Users data:', users);
                } catch (error) {
                    console.error('Failed to load users data:', error);
                    ui.showNotification('Failed to load users data', 'error');
                } finally {
                    ui.hideLoading(usersSection);
                }
            },
            
            // Initialize real-time updates
            initRealTimeUpdates: () => {
                if (state.socket) {
                    state.socket.disconnect();
                }
                
                state.socket = io(CONFIG.SOCKET_ENDPOINT, {
                    transports: ['websocket'],
                    query: {
                        token: state.authToken
                    }
                });
                
                state.socket.on('connect', () => {
                    console.log('Connected to real-time updates');
                });
                
                state.socket.on('disconnect', () => {
                    console.log('Disconnected from real-time updates');
                });
                
                state.socket.on('admin:statsUpdate', (data) => {
                    state.systemStats = data;
                    ui.updateStatsCards(data);
                });
                
                state.socket.on('admin:newActivity', (activity) => {
                    if (state.activityData.length >= CONFIG.ITEMS_PER_PAGE) {
                        state.activityData.pop();
                    }
                    state.activityData.unshift(activity);
                    
                    if (state.activeSection === 'dashboard') {
                        ui.populateActivityTable(state.activityData);
                    }
                });
                
                state.socket.on('admin:userUpdate', (user) => {
                    // TODO: Handle user updates if needed
                });
            },
            
            // Check for session timeout
            checkSessionTimeout: () => {
                const now = Date.now();
                const inactiveTime = now - state.lastActivity;
                
                if (inactiveTime >= CONFIG.SESSION_TIMEOUT) {
                    ui.showNotification('Session timed out due to inactivity', 'warning');
                    setTimeout(() => {
                        localStorage.removeItem('bitHashAdminToken');
                        window.location.href = '/admin-login.html';
                    }, 2000);
                }
            }
        };
        
        // ========== INITIALIZATION ==========
        const init = async () => {
            // Verify session first
            const sessionValid = await data.verifySession();
            if (!sessionValid) return;
            
            // Initialize UI components
            ui.initCharts();
            ui.initDataTables();
            ui.initEventListeners();
            
            // Load initial data
            await data.loadDashboardData();
            
            // Initialize real-time updates
            data.initRealTimeUpdates();
            
            // Set up periodic refresh
            setInterval(() => {
                data.loadDashboardData(true);
            }, CONFIG.REFRESH_INTERVAL);
            
            // Set up session timeout check
            setInterval(() => {
                data.checkSessionTimeout();
            }, 60000); // Check every minute
            
            // Show welcome message
            ui.showNotification(`Welcome back, ${state.userData?.name || 'Admin'}!`, 'success');
        };
        
        // Start the application
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
